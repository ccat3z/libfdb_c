#define POST_ACTOR_COMPILER 1
#line 1 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
/*
 * DatabaseBackupAgent.actor.cpp
 *
 * This source file is part of the FoundationDB open source project
 *
 * Copyright 2013-2022 Apple Inc. and the FoundationDB project authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

#include <iterator>
#include "fdbclient/BackupAgent.actor.h"
#include "fdbclient/Status.h"
#include "fdbclient/StatusClient.h"
#include "fdbclient/DatabaseContext.h"
#include "fdbclient/NativeAPI.actor.h"
#include <ctime>
#include <climits>
#include "fdbrpc/simulator.h"
#include "flow/IAsyncFile.h"
#include "flow/flow.h"
#include "flow/genericactors.actor.h"
#include "flow/Hash3.h"
#include <numeric>
#include "fdbclient/ManagementAPI.actor.h"
#include "fdbclient/KeyBackedTypes.actor.h"
#include <inttypes.h>
#include <map>

#include "flow/actorcompiler.h" // has to be last include

const Key DatabaseBackupAgent::keyAddPrefix = "add_prefix"_sr;
const Key DatabaseBackupAgent::keyRemovePrefix = "remove_prefix"_sr;
const Key DatabaseBackupAgent::keyRangeVersions = "range_versions"_sr;
const Key DatabaseBackupAgent::keyCopyStop = "copy_stop"_sr;
const Key DatabaseBackupAgent::keyDatabasesInSync = "databases_in_sync"_sr;
const int DatabaseBackupAgent::LATEST_DR_VERSION = 1;

DatabaseBackupAgent::DatabaseBackupAgent()
  : subspace(Subspace(databaseBackupPrefixRange.begin)), states(subspace.get(BackupAgentBase::keyStates)),
    config(subspace.get(BackupAgentBase::keyConfig)), errors(subspace.get(BackupAgentBase::keyErrors)),
    ranges(subspace.get(BackupAgentBase::keyRanges)), tagNames(subspace.get(BackupAgentBase::keyTagName)),
    sourceStates(subspace.get(BackupAgentBase::keySourceStates)),
    sourceTagNames(subspace.get(BackupAgentBase::keyTagName)),
    taskBucket(new TaskBucket(subspace.get(BackupAgentBase::keyTasks),
                              AccessSystemKeys::True,
                              PriorityBatch::False,
                              LockAware::True)),
    futureBucket(new FutureBucket(subspace.get(BackupAgentBase::keyFutures), AccessSystemKeys::True, LockAware::True)) {
}

DatabaseBackupAgent::DatabaseBackupAgent(Database src)
  : subspace(Subspace(databaseBackupPrefixRange.begin)), states(subspace.get(BackupAgentBase::keyStates)),
    config(subspace.get(BackupAgentBase::keyConfig)), errors(subspace.get(BackupAgentBase::keyErrors)),
    ranges(subspace.get(BackupAgentBase::keyRanges)), tagNames(subspace.get(BackupAgentBase::keyTagName)),
    sourceStates(subspace.get(BackupAgentBase::keySourceStates)),
    sourceTagNames(subspace.get(BackupAgentBase::keyTagName)),
    taskBucket(new TaskBucket(subspace.get(BackupAgentBase::keyTasks),
                              AccessSystemKeys::True,
                              PriorityBatch::False,
                              LockAware::True)),
    futureBucket(new FutureBucket(subspace.get(BackupAgentBase::keyFutures), AccessSystemKeys::True, LockAware::True)) {
	taskBucket->src = src;
}

// Any new per-DR properties should go here.
class DRConfig {
public:
	DRConfig(UID uid = UID())
	  : uid(uid), configSpace(uidPrefixKey("uid->config/"_sr.withPrefix(databaseBackupPrefixRange.begin), uid)) {}
	DRConfig(Reference<Task> task)
	  : DRConfig(BinaryReader::fromStringRef<UID>(task->params[BackupAgentBase::keyConfigLogUid], Unversioned())) {}

	KeyBackedBinaryValue<int64_t> rangeBytesWritten() { return configSpace.pack(__FUNCTION__sr); }

	KeyBackedBinaryValue<int64_t> logBytesWritten() { return configSpace.pack(__FUNCTION__sr); }

	void clear(Reference<ReadYourWritesTransaction> tr) { tr->clear(configSpace.range()); }

	UID getUid() { return uid; }

private:
	UID uid;
	Subspace configSpace;
};

namespace dbBackup {

bool copyDefaultParameters(Reference<Task> source, Reference<Task> dest) {
	if (source) {
		copyParameter(source, dest, BackupAgentBase::keyFolderId);
		copyParameter(source, dest, BackupAgentBase::keyConfigLogUid);
		copyParameter(source, dest, BackupAgentBase::destUid);

		copyParameter(source, dest, DatabaseBackupAgent::keyAddPrefix);
		copyParameter(source, dest, DatabaseBackupAgent::keyRemovePrefix);
		return true;
	}

	return false;
}

															#line 115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via checkTaskVersion()
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class Tr, class CheckTaskVersionActor>
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class CheckTaskVersionActorState {
															#line 121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	CheckTaskVersionActorState(Tr const& tr,Reference<Task> const& task,StringRef const& name,uint32_t const& version) 
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   name(name),
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   version(version)
															#line 134 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("checkTaskVersion", reinterpret_cast<unsigned long>(this));

	}
	~CheckTaskVersionActorState() 
	{
		fdb_probe_actor_destroy("checkTaskVersion", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			uint32_t taskVersion = task->getVersion();
															#line 116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (taskVersion > version)
															#line 151 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				TraceEvent(SevError, "BA_BackupRangeTaskFuncExecute") .detail("TaskVersion", taskVersion) .detail("Name", name) .detail("Version", version);
															#line 121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_0 = logError(tr, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyErrors) .pack(task->params[BackupAgentBase::keyConfigLogUid]), format("ERROR: %s task version `%lu' is greater than supported version `%lu'", task->params[Task::reservedTaskParamKeyType].toString().c_str(), (unsigned long)taskVersion, (unsigned long)version));
															#line 121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<CheckTaskVersionActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
				static_cast<CheckTaskVersionActor*>(this)->actor_wait_state = 1;
															#line 121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< CheckTaskVersionActor, 0, Void >*>(static_cast<CheckTaskVersionActor*>(this)));
															#line 164 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
				loopDepth = a_body1cont1(loopDepth);
			}
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~CheckTaskVersionActorState();
		static_cast<CheckTaskVersionActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 133 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<CheckTaskVersionActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~CheckTaskVersionActorState(); static_cast<CheckTaskVersionActor*>(this)->destroy(); return 0; }
															#line 192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<CheckTaskVersionActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~CheckTaskVersionActorState();
		static_cast<CheckTaskVersionActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 130 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(task_invalid_version(), loopDepth);
															#line 204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 130 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(task_invalid_version(), loopDepth);
															#line 212 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<CheckTaskVersionActor*>(this)->actor_wait_state > 0) static_cast<CheckTaskVersionActor*>(this)->actor_wait_state = 0;
		static_cast<CheckTaskVersionActor*>(this)->ActorCallback< CheckTaskVersionActor, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< CheckTaskVersionActor, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("checkTaskVersion", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("checkTaskVersion", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< CheckTaskVersionActor, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("checkTaskVersion", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("checkTaskVersion", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< CheckTaskVersionActor, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("checkTaskVersion", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("checkTaskVersion", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Tr tr;
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	StringRef name;
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	uint32_t version;
															#line 287 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via checkTaskVersion()
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class Tr>
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class CheckTaskVersionActor final : public Actor<Void>, public ActorCallback< CheckTaskVersionActor<Tr>, 0, Void >, public FastAllocated<CheckTaskVersionActor<Tr>>, public CheckTaskVersionActorState<Tr, CheckTaskVersionActor<Tr>> {
															#line 294 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<CheckTaskVersionActor<Tr>>::operator new;
	using FastAllocated<CheckTaskVersionActor<Tr>>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< CheckTaskVersionActor<Tr>, 0, Void >;
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	CheckTaskVersionActor(Tr const& tr,Reference<Task> const& task,StringRef const& name,uint32_t const& version) 
															#line 305 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   CheckTaskVersionActorState<Tr, CheckTaskVersionActor<Tr>>(tr, task, name, version)
	{
		fdb_probe_actor_enter("checkTaskVersion", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("checkTaskVersion");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("checkTaskVersion", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< CheckTaskVersionActor<Tr>, 0, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class Tr>
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] Future<Void> checkTaskVersion( Tr const& tr, Reference<Task> const& task, StringRef const& name, uint32_t const& version ) {
															#line 113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new CheckTaskVersionActor<Tr>(tr, task, name, version));
															#line 334 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

struct BackupRangeTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

	static struct {
		static TaskParam<int64_t> bytesWritten() { return __FUNCTION__sr; }
	} Params;

	static const Key keyAddBackupRangeTasks;
	static const Key keyBackupRangeBeginKey;

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};

																#line 365 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via getBlockOfShards()
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class GetBlockOfShardsActor>
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetBlockOfShardsActorState {
															#line 371 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetBlockOfShardsActorState(Reference<ReadYourWritesTransaction> const& tr,Key const& beginKey,Key const& endKey,int const& limit) 
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   beginKey(beginKey),
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endKey(endKey),
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   limit(limit)
															#line 384 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("getBlockOfShards", reinterpret_cast<unsigned long>(this));

	}
	~GetBlockOfShardsActorState() 
	{
		fdb_probe_actor_destroy("getBlockOfShards", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 166 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			results = Standalone<VectorRef<KeyRef>>();
															#line 169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<RangeResult> __when_expr_0 = tr->getRange( KeyRangeRef(keyAfter(beginKey.withPrefix(keyServersPrefix)), endKey.withPrefix(keyServersPrefix)), limit);
															#line 169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetBlockOfShardsActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 407 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<GetBlockOfShardsActor*>(this)->actor_wait_state = 1;
															#line 169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< GetBlockOfShardsActor, 0, RangeResult >*>(static_cast<GetBlockOfShardsActor*>(this)));
															#line 412 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~GetBlockOfShardsActorState();
		static_cast<GetBlockOfShardsActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(RangeResult const& values,int loopDepth) 
	{
															#line 172 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& s : values ) {
															#line 173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			KeyRef k = s.key.removePrefix(keyServersPrefix);
															#line 174 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			results.push_back_deep(results.arena(), k);
															#line 439 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetBlockOfShardsActor*>(this)->SAV<Standalone<VectorRef<KeyRef>>>::futures) { (void)(results); this->~GetBlockOfShardsActorState(); static_cast<GetBlockOfShardsActor*>(this)->destroy(); return 0; }
															#line 443 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetBlockOfShardsActor*>(this)->SAV< Standalone<VectorRef<KeyRef>> >::value()) Standalone<VectorRef<KeyRef>>(std::move(results)); // state_var_RVO
		this->~GetBlockOfShardsActorState();
		static_cast<GetBlockOfShardsActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(RangeResult && values,int loopDepth) 
	{
															#line 172 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& s : values ) {
															#line 173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			KeyRef k = s.key.removePrefix(keyServersPrefix);
															#line 174 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			results.push_back_deep(results.arena(), k);
															#line 459 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetBlockOfShardsActor*>(this)->SAV<Standalone<VectorRef<KeyRef>>>::futures) { (void)(results); this->~GetBlockOfShardsActorState(); static_cast<GetBlockOfShardsActor*>(this)->destroy(); return 0; }
															#line 463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetBlockOfShardsActor*>(this)->SAV< Standalone<VectorRef<KeyRef>> >::value()) Standalone<VectorRef<KeyRef>>(std::move(results)); // state_var_RVO
		this->~GetBlockOfShardsActorState();
		static_cast<GetBlockOfShardsActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(RangeResult const& values,int loopDepth) 
	{
		loopDepth = a_body1cont1(values, loopDepth);

		return loopDepth;
	}
	int a_body1when1(RangeResult && values,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(values), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<GetBlockOfShardsActor*>(this)->actor_wait_state > 0) static_cast<GetBlockOfShardsActor*>(this)->actor_wait_state = 0;
		static_cast<GetBlockOfShardsActor*>(this)->ActorCallback< GetBlockOfShardsActor, 0, RangeResult >::remove();

	}
	void a_callback_fire(ActorCallback< GetBlockOfShardsActor, 0, RangeResult >*,RangeResult const& value) 
	{
		fdb_probe_actor_enter("getBlockOfShards", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getBlockOfShards", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< GetBlockOfShardsActor, 0, RangeResult >*,RangeResult && value) 
	{
		fdb_probe_actor_enter("getBlockOfShards", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getBlockOfShards", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< GetBlockOfShardsActor, 0, RangeResult >*,Error err) 
	{
		fdb_probe_actor_enter("getBlockOfShards", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getBlockOfShards", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key beginKey;
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key endKey;
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int limit;
															#line 168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRef>> results;
															#line 544 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via getBlockOfShards()
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetBlockOfShardsActor final : public Actor<Standalone<VectorRef<KeyRef>>>, public ActorCallback< GetBlockOfShardsActor, 0, RangeResult >, public FastAllocated<GetBlockOfShardsActor>, public GetBlockOfShardsActorState<GetBlockOfShardsActor> {
															#line 549 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<GetBlockOfShardsActor>::operator new;
	using FastAllocated<GetBlockOfShardsActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Standalone<VectorRef<KeyRef>>>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< GetBlockOfShardsActor, 0, RangeResult >;
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetBlockOfShardsActor(Reference<ReadYourWritesTransaction> const& tr,Key const& beginKey,Key const& endKey,int const& limit) 
															#line 560 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Standalone<VectorRef<KeyRef>>>(),
		   GetBlockOfShardsActorState<GetBlockOfShardsActor>(tr, beginKey, endKey, limit)
	{
		fdb_probe_actor_enter("getBlockOfShards", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("getBlockOfShards");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("getBlockOfShards", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< GetBlockOfShardsActor, 0, RangeResult >*)0, actor_cancelled()); break;
		}

	}
};
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Standalone<VectorRef<KeyRef>>> getBlockOfShards( Reference<ReadYourWritesTransaction> const& tr, Key const& beginKey, Key const& endKey, int const& limit ) {
															#line 162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Standalone<VectorRef<KeyRef>>>(new GetBlockOfShardsActor(tr, beginKey, endKey, limit));
															#line 587 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 592 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor>
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActorState {
															#line 598 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActorState(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Key const& begin,Key const& end,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   begin(begin),
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   end(end),
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 617 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActorState() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 187 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 187 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor*>(this)->actor_wait_state = 1;
															#line 187 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor, 0, Key >*>(static_cast<AddTaskActor*>(this)));
															#line 639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActorState();
		static_cast<AddTaskActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 188 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(BackupRangeTaskFunc::name, BackupRangeTaskFunc::version, doneKey);
															#line 190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyBeginKey] = begin;
															#line 193 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyEndKey] = end;
															#line 195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActorState(); static_cast<AddTaskActor*>(this)->destroy(); return 0; }
															#line 674 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActorState();
			static_cast<AddTaskActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor*>(this)->actor_wait_state = 2;
															#line 202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor, 1, Void >*>(static_cast<AddTaskActor*>(this)));
															#line 689 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 188 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(BackupRangeTaskFunc::name, BackupRangeTaskFunc::version, doneKey);
															#line 190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyBeginKey] = begin;
															#line 193 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyEndKey] = end;
															#line 195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 706 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActorState(); static_cast<AddTaskActor*>(this)->destroy(); return 0; }
															#line 710 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActorState();
			static_cast<AddTaskActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 720 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor*>(this)->actor_wait_state = 2;
															#line 202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor, 1, Void >*>(static_cast<AddTaskActor*>(this)));
															#line 725 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor*>(this)->actor_wait_state > 0) static_cast<AddTaskActor*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor*>(this)->ActorCallback< AddTaskActor, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 207 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActorState(); static_cast<AddTaskActor*>(this)->destroy(); return 0; }
															#line 797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActorState();
		static_cast<AddTaskActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 207 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActorState(); static_cast<AddTaskActor*>(this)->destroy(); return 0; }
															#line 809 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActorState();
		static_cast<AddTaskActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor*>(this)->actor_wait_state > 0) static_cast<AddTaskActor*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor*>(this)->ActorCallback< AddTaskActor, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key begin;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key end;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor final : public Actor<Key>, public ActorCallback< AddTaskActor, 0, Key >, public ActorCallback< AddTaskActor, 1, Void >, public FastAllocated<AddTaskActor>, public AddTaskActorState<AddTaskActor> {
															#line 899 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor>::operator new;
	using FastAllocated<AddTaskActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor, 0, Key >;
friend struct ActorCallback< AddTaskActor, 1, Void >;
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Key const& begin,Key const& end,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActorState<AddTaskActor>(tr, taskBucket, parentTask, begin, end, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, Key const& begin, Key const& end, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor(tr, taskBucket, parentTask, begin, end, completionKey, waitFor));
															#line 939 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 209 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor>
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActorState {
															#line 950 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActorState(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lock(new FlowLock(CLIENT_KNOBS->BACKUP_LOCK_BYTES)),
															#line 215 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActorState() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, BackupRangeTaskFunc::name, BackupRangeTaskFunc::version);
															#line 219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 984 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 1;
															#line 219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 0, Void >*>(static_cast<_executeActor*>(this)));
															#line 989 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActorState();
		static_cast<_executeActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Standalone<VectorRef<KeyRef>>> __when_expr_1 = runRYWTransaction(taskBucket->src, [=](Reference<ReadYourWritesTransaction> tr) { return getBlockOfShards(tr, task->params[DatabaseBackupAgent::keyBeginKey], task->params[DatabaseBackupAgent::keyEndKey], CLIENT_KNOBS->BACKUP_SHARD_TASK_LIMIT); });
															#line 221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 1014 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 2;
															#line 221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >*>(static_cast<_executeActor*>(this)));
															#line 1019 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Standalone<VectorRef<KeyRef>>> __when_expr_1 = runRYWTransaction(taskBucket->src, [=](Reference<ReadYourWritesTransaction> tr) { return getBlockOfShards(tr, task->params[DatabaseBackupAgent::keyBeginKey], task->params[DatabaseBackupAgent::keyEndKey], CLIENT_KNOBS->BACKUP_SHARD_TASK_LIMIT); });
															#line 221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 1030 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 2;
															#line 221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >*>(static_cast<_executeActor*>(this)));
															#line 1035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Standalone<VectorRef<KeyRef>> const& keys,int loopDepth) 
	{
															#line 228 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (keys.size() > 0)
															#line 1107 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 229 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[BackupRangeTaskFunc::keyAddBackupRangeTasks] = BinaryWriter::toValue(keys, IncludeVersion());
															#line 230 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 1113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActorState();
			static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		timeout = now() + CLIENT_KNOBS->BACKUP_RANGE_TIMEOUT;
															#line 237 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		addPrefix = task->params[DatabaseBackupAgent::keyAddPrefix];
															#line 238 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		removePrefix = task->params[DatabaseBackupAgent::keyRemovePrefix];
															#line 240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		range = KeyRange(KeyRangeRef(task->params[BackupAgentBase::keyBeginKey], task->params[BackupAgentBase::keyEndKey]));
															#line 244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		results = PromiseStream<RangeResultWithVersion>();
															#line 246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rc = readCommitted( taskBucket->src, results, lock, range, Terminator::True, AccessSystemKeys::True, LockAware::True);
															#line 248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeBegin = range.begin;
															#line 249 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeEnd = Key();
															#line 250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endOfStream = false;
															#line 251 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValues = RangeResultWithVersion();
															#line 252 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValuesSize = 0;
															#line 253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValues.second = invalidVersion;
															#line 254 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 1145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2(Standalone<VectorRef<KeyRef>> && keys,int loopDepth) 
	{
															#line 228 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (keys.size() > 0)
															#line 1154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 229 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[BackupRangeTaskFunc::keyAddBackupRangeTasks] = BinaryWriter::toValue(keys, IncludeVersion());
															#line 230 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 1160 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActorState();
			static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		timeout = now() + CLIENT_KNOBS->BACKUP_RANGE_TIMEOUT;
															#line 237 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		addPrefix = task->params[DatabaseBackupAgent::keyAddPrefix];
															#line 238 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		removePrefix = task->params[DatabaseBackupAgent::keyRemovePrefix];
															#line 240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		range = KeyRange(KeyRangeRef(task->params[BackupAgentBase::keyBeginKey], task->params[BackupAgentBase::keyEndKey]));
															#line 244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		results = PromiseStream<RangeResultWithVersion>();
															#line 246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rc = readCommitted( taskBucket->src, results, lock, range, Terminator::True, AccessSystemKeys::True, LockAware::True);
															#line 248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeBegin = range.begin;
															#line 249 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeEnd = Key();
															#line 250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endOfStream = false;
															#line 251 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValues = RangeResultWithVersion();
															#line 252 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValuesSize = 0;
															#line 253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValues.second = invalidVersion;
															#line 254 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 1192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Standalone<VectorRef<KeyRef>> const& keys,int loopDepth) 
	{
		loopDepth = a_body1cont2(keys, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Standalone<VectorRef<KeyRef>> && keys,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(keys), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >*,Standalone<VectorRef<KeyRef>> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >*,Standalone<VectorRef<KeyRef>> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1(int loopDepth) 
	{
															#line 255 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endOfStream && nextValues.second == invalidVersion)
															#line 1271 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 256 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 1275 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActorState();
			static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		values = std::move(nextValues);
															#line 259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		valuesSize = nextValuesSize;
															#line 260 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValues = RangeResultWithVersion();
															#line 261 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValues.second = invalidVersion;
															#line 262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextValuesSize = 0;
															#line 264 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!endOfStream)
															#line 1293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 265 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1cont2loopBody1loopHead1(loopDepth);
		}
		else
		{
			loopDepth = a_body1cont2loopBody1cont1(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1(int loopDepth) 
	{
															#line 308 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (now() >= timeout)
															#line 1311 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 309 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[BackupRangeTaskFunc::keyBackupRangeBeginKey] = rangeBegin;
															#line 310 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActorState();
			static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 313 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeEnd = values.first.more ? keyAfter(values.first.end()[-1].key) : range.end;
															#line 315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		valueLoc = 0;
															#line 316 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		committedValueLoc = 0;
															#line 317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = makeReference<ReadYourWritesTransaction>(cx);
															#line 318 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 1333 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3(int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1(int loopDepth) 
	{
		try {
															#line 267 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			FutureStream<RangeResultWithVersion> __when_expr_2 = results.getFuture();
															#line 267 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 1358 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont2loopBody1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2loopBody1loopBody1when1(__when_expr_2.pop(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 3;
															#line 267 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_2.addCallbackAndClear(static_cast<ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >*>(static_cast<_executeActor*>(this)));
															#line 1363 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont2loopBody1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont2loopBody1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1break1(int loopDepth) 
	{
		try {
			return a_body1cont2loopBody1cont3(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont2loopBody1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 286 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			err = e;
															#line 287 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (err.code() == error_code_actor_cancelled)
															#line 1400 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 288 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(err, std::max(0, loopDepth - 2));
															#line 1404 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 290 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (err.code() == error_code_end_of_stream)
															#line 1408 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 291 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				endOfStream = true;
															#line 292 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (values.second != invalidVersion)
															#line 1414 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
					return a_body1cont2loopBody1break1(loopDepth==0?0:loopDepth-1); // break
				}
															#line 294 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 1420 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
				this->~_executeActorState();
				static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
				return 0;
			}
															#line 297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = logError(cx, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyErrors) .pack(task->params[BackupAgentBase::keyConfigLogUid]), format("ERROR: %s", err.what()));
															#line 297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 2));
															#line 1430 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), std::max(0, loopDepth - 2)); else return a_body1cont2loopBody1loopBody1Catch1when1(__when_expr_3.get(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 4;
															#line 297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 3, Void >*>(static_cast<_executeActor*>(this)));
															#line 1435 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 2));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 2));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1cont2(RangeResultWithVersion const& v,int loopDepth) 
	{
															#line 268 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int64_t resultSize = v.first.expectedSize();
															#line 269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		lock->release(resultSize);
															#line 271 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (values.second == invalidVersion)
															#line 1454 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 272 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			values = v;
															#line 1458 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
															#line 273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if ((values.second != v.second) || (valuesSize > 0 && resultSize > 0 && valuesSize + resultSize > CLIENT_KNOBS->BACKUP_LOG_WRITE_BATCH_MAX_SIZE))
															#line 1464 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 276 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextValues = v;
															#line 277 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextValuesSize = resultSize;
															#line 1470 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				return a_body1cont2loopBody1break1(loopDepth==0?0:loopDepth-1); // break
			}
			else
			{
															#line 280 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				values.first.append_deep(values.first.arena(), v.first.begin(), v.first.size());
															#line 281 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				values.first.more = v.first.more;
															#line 1479 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 284 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		valuesSize += resultSize;
															#line 1484 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1loopBody1cont8(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1cont2(RangeResultWithVersion && v,int loopDepth) 
	{
															#line 268 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int64_t resultSize = v.first.expectedSize();
															#line 269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		lock->release(resultSize);
															#line 271 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (values.second == invalidVersion)
															#line 1497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 272 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			values = v;
															#line 1501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
															#line 273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if ((values.second != v.second) || (valuesSize > 0 && resultSize > 0 && valuesSize + resultSize > CLIENT_KNOBS->BACKUP_LOG_WRITE_BATCH_MAX_SIZE))
															#line 1507 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 276 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextValues = v;
															#line 277 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextValuesSize = resultSize;
															#line 1513 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				return a_body1cont2loopBody1break1(loopDepth==0?0:loopDepth-1); // break
			}
			else
			{
															#line 280 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				values.first.append_deep(values.first.arena(), v.first.begin(), v.first.size());
															#line 281 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				values.first.more = v.first.more;
															#line 1522 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 284 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		valuesSize += resultSize;
															#line 1527 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1loopBody1cont8(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1when1(RangeResultWithVersion const& v,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1loopBody1cont2(v, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1when1(RangeResultWithVersion && v,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1loopBody1cont2(std::move(v), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >::remove();

	}
	void a_callback_fire(ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >*,RangeResultWithVersion const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2loopBody1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >*,RangeResultWithVersion && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2loopBody1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2loopBody1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont2loopBody1loopBody1cont8(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont2loopBody1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 2));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 2));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
															#line 303 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(err, std::max(0, loopDepth - 2));
															#line 1612 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
															#line 303 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(err, std::max(0, loopDepth - 2));
															#line 1620 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont2loopBody1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _executeActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont2loopBody1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _executeActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont2loopBody1cont4(int loopDepth) 
	{
															#line 465 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeBegin = rangeEnd;
															#line 1691 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (loopDepth == 0) return a_body1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1(int loopDepth) 
	{
		try {
															#line 320 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->reset();
															#line 321 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 322 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			prefix = task->params[BackupAgentBase::keyConfigLogUid].withPrefix( applyMutationsKeyVersionMapRange.begin);
															#line 325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rangeCountKey = task->params[BackupAgentBase::keyConfigLogUid].withPrefix( applyMutationsKeyVersionCountRange.begin);
															#line 327 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			backupVersions = krmGetRanges(tr, prefix, KeyRangeRef(rangeBegin, rangeEnd), BUGGIFY ? 2 : 2000, 1e5);
															#line 329 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			logVersionValue = tr->get(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsEndRange.begin), Snapshot::True);
															#line 332 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rangeCountValue = tr->get(rangeCountKey, Snapshot::True);
															#line 333 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			prevRange = tr->getRange(firstGreaterOrEqual(prefix), lastLessOrEqual(rangeBegin.withPrefix(prefix)), 1, Snapshot::True, Reverse::True);
															#line 338 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextRange = tr->getRange(firstGreaterOrEqual(rangeEnd.withPrefix(prefix)), firstGreaterOrEqual(strinc(prefix)), 1, Snapshot::True, Reverse::False);
															#line 343 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			verified = taskBucket->keepRunning(tr, task);
															#line 345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = checkDatabaseLock(tr, BinaryReader::fromStringRef<UID>( task->params[BackupAgentBase::keyConfigLogUid], Unversioned()));
															#line 345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 1732 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1when1(__when_expr_4.get(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 5;
															#line 345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 4, Void >*>(static_cast<_executeActor*>(this)));
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont2loopBody1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1break1(int loopDepth) 
	{
		try {
			return a_body1cont2loopBody1cont4(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont2loopBody1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 460 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_9 = tr->onError(e);
															#line 460 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 2));
															#line 1774 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1Catch1(__when_expr_9.getError(), std::max(0, loopDepth - 2)); else return a_body1cont2loopBody1cont1loopBody1Catch1when1(__when_expr_9.get(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 10;
															#line 460 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 9, Void >*>(static_cast<_executeActor*>(this)));
															#line 1779 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 2));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 2));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_5 = success(backupVersions) && success(logVersionValue) && success(rangeCountValue) && success(prevRange) && success(nextRange) && success(verified);
															#line 348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 1796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont2when1(__when_expr_5.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 6;
															#line 348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 5, Void >*>(static_cast<_executeActor*>(this)));
															#line 1801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_5 = success(backupVersions) && success(logVersionValue) && success(rangeCountValue) && success(prevRange) && success(nextRange) && success(verified);
															#line 348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont2when1(__when_expr_5.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 6;
															#line 348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 5, Void >*>(static_cast<_executeActor*>(this)));
															#line 1817 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont2loopBody1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _executeActor, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont2loopBody1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _executeActor, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont2loopBody1cont1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 351 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int64_t rangeCount = 0;
															#line 352 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (rangeCountValue.get().present())
															#line 1891 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 353 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			ASSERT(rangeCountValue.get().get().size() == sizeof(int64_t));
															#line 354 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			memcpy(&rangeCount, rangeCountValue.get().get().begin(), rangeCountValue.get().get().size());
															#line 1897 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 357 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool prevAdjacent = prevRange.get().size() && prevRange.get()[0].value.size() && BinaryReader::fromStringRef<Version>(prevRange.get()[0].value, Unversioned()) != invalidVersion;
															#line 360 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool nextAdjacent = nextRange.get().size() && nextRange.get()[0].value.size() && BinaryReader::fromStringRef<Version>(nextRange.get()[0].value, Unversioned()) != invalidVersion;
															#line 364 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if ((!prevAdjacent || !nextAdjacent) && rangeCount > ((prevAdjacent || nextAdjacent) ? CLIENT_KNOBS->BACKUP_MAP_KEY_UPPER_LIMIT : CLIENT_KNOBS->BACKUP_MAP_KEY_LOWER_LIMIT) && (!g_network->isSimulated() || (isBuggifyEnabled(BuggifyType::General) && !g_simulator->speedUpSimulation)))
															#line 1905 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 369 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			CODE_PROBE(true, "range insert delayed because versionMap is too large");
															#line 371 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (rangeCount > CLIENT_KNOBS->BACKUP_MAP_KEY_UPPER_LIMIT)
															#line 1911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 372 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				TraceEvent(SevWarnAlways, "DBA_KeyRangeMapTooLarge").log();
															#line 1915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = delay(1);
															#line 374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 1921 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont3when1(__when_expr_6.get(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 7;
															#line 374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 6, Void >*>(static_cast<_executeActor*>(this)));
															#line 1926 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont2loopBody1cont1loopBody1cont4(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 351 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int64_t rangeCount = 0;
															#line 352 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (rangeCountValue.get().present())
															#line 1942 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 353 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			ASSERT(rangeCountValue.get().get().size() == sizeof(int64_t));
															#line 354 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			memcpy(&rangeCount, rangeCountValue.get().get().begin(), rangeCountValue.get().get().size());
															#line 1948 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 357 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool prevAdjacent = prevRange.get().size() && prevRange.get()[0].value.size() && BinaryReader::fromStringRef<Version>(prevRange.get()[0].value, Unversioned()) != invalidVersion;
															#line 360 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool nextAdjacent = nextRange.get().size() && nextRange.get()[0].value.size() && BinaryReader::fromStringRef<Version>(nextRange.get()[0].value, Unversioned()) != invalidVersion;
															#line 364 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if ((!prevAdjacent || !nextAdjacent) && rangeCount > ((prevAdjacent || nextAdjacent) ? CLIENT_KNOBS->BACKUP_MAP_KEY_UPPER_LIMIT : CLIENT_KNOBS->BACKUP_MAP_KEY_LOWER_LIMIT) && (!g_network->isSimulated() || (isBuggifyEnabled(BuggifyType::General) && !g_simulator->speedUpSimulation)))
															#line 1956 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 369 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			CODE_PROBE(true, "range insert delayed because versionMap is too large");
															#line 371 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (rangeCount > CLIENT_KNOBS->BACKUP_MAP_KEY_UPPER_LIMIT)
															#line 1962 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 372 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				TraceEvent(SevWarnAlways, "DBA_KeyRangeMapTooLarge").log();
															#line 1966 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = delay(1);
															#line 374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 1972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont3when1(__when_expr_6.get(), loopDepth); };
			static_cast<_executeActor*>(this)->actor_wait_state = 7;
															#line 374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 6, Void >*>(static_cast<_executeActor*>(this)));
															#line 1977 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont2loopBody1cont1loopBody1cont4(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 5, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 5, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _executeActor, 5, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _executeActor, 5, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont2loopBody1cont1loopBody1cont4(int loopDepth) 
	{
															#line 379 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version logVersion = logVersionValue.get().present() ? BinaryReader::fromStringRef<Version>(logVersionValue.get().get(), Unversioned()) : ::invalidVersion;
															#line 383 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (logVersion >= values.second)
															#line 2056 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 384 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[BackupRangeTaskFunc::keyBackupRangeBeginKey] = rangeBegin;
															#line 385 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 2062 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActorState();
			static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 390 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Subspace krv(conf.get(DatabaseBackupAgent::keyRangeVersions));
															#line 391 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		versionRange = singleKeyRange(krv.pack(values.second));
															#line 392 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->addReadConflictRange(versionRange);
															#line 393 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->addWriteConflictRange(versionRange);
															#line 395 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int versionLoc = 0;
															#line 396 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		std::vector<Future<Void>> setRanges;
															#line 397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bytesSet = 0;
															#line 399 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for(;;) {
															#line 400 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(;versionLoc < backupVersions.get().size() - 1 && (backupVersions.get()[versionLoc].value.size() < sizeof(Version) || BinaryReader::fromStringRef<Version>(backupVersions.get()[versionLoc].value, Unversioned()) != invalidVersion);) {
															#line 404 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				versionLoc++;
															#line 2088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 407 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (versionLoc == backupVersions.get().size() - 1)
															#line 2092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
				break;
			}
															#line 410 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (backupVersions.get()[versionLoc + 1].key == (removePrefix == StringRef() ? allKeys.end : strinc(removePrefix)))
															#line 2098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 412 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr->clear(KeyRangeRef( backupVersions.get()[versionLoc].key.removePrefix(removePrefix).withPrefix(addPrefix), addPrefix == StringRef() ? allKeys.end : strinc(addPrefix)));
															#line 2102 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			else
			{
															#line 416 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr->clear(KeyRangeRef(backupVersions.get()[versionLoc].key, backupVersions.get()[versionLoc + 1].key) .removePrefix(removePrefix) .withPrefix(addPrefix));
															#line 2108 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 422 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			setRanges.push_back(krmSetRange( tr, prefix, KeyRangeRef(backupVersions.get()[versionLoc].key, backupVersions.get()[versionLoc + 1].key), BinaryWriter::toValue(values.second, Unversioned())));
															#line 427 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int64_t added = 1;
															#line 428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->atomicOp(rangeCountKey, StringRef((uint8_t*)&added, 8), MutationRef::AddValue);
															#line 430 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(;valueLoc < values.first.size();++valueLoc) {
															#line 431 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (values.first[valueLoc].key >= backupVersions.get()[versionLoc + 1].key)
															#line 2120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
					break;
				}
															#line 434 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (values.first[valueLoc].key >= backupVersions.get()[versionLoc].key)
															#line 2126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 436 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr->set(values.first[valueLoc].key.removePrefix(removePrefix).withPrefix(addPrefix), values.first[valueLoc].value);
															#line 438 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					bytesSet += values.first[valueLoc].expectedSize() - removePrefix.expectedSize() + addPrefix.expectedSize();
															#line 2132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
			}
															#line 443 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			versionLoc++;
															#line 2137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 446 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_7 = waitForAll(setRanges);
															#line 446 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 2143 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont4when1(__when_expr_7.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 8;
															#line 446 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 7, Void >*>(static_cast<_executeActor*>(this)));
															#line 2148 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont6(Void const& _,int loopDepth) 
	{
															#line 375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupRangeTaskFunc::keyBackupRangeBeginKey] = rangeBegin;
															#line 376 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 2159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActorState();
		static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont6(Void && _,int loopDepth) 
	{
															#line 375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupRangeTaskFunc::keyBackupRangeBeginKey] = rangeBegin;
															#line 376 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActorState(); static_cast<_executeActor*>(this)->destroy(); return 0; }
															#line 2173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActorState();
		static_cast<_executeActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont6(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont6(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _executeActor, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _executeActor, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont2loopBody1cont1loopBody1cont9(Void const& _,int loopDepth) 
	{
															#line 448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_8 = tr->commit();
															#line 448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 2250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont9when1(__when_expr_8.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 9;
															#line 448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 8, Void >*>(static_cast<_executeActor*>(this)));
															#line 2255 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont9(Void && _,int loopDepth) 
	{
															#line 448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_8 = tr->commit();
															#line 448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1cont2loopBody1cont1loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont2loopBody1cont1loopBody1cont9when1(__when_expr_8.get(), loopDepth); };
		static_cast<_executeActor*>(this)->actor_wait_state = 9;
															#line 448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _executeActor, 8, Void >*>(static_cast<_executeActor*>(this)));
															#line 2271 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont4when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont9(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont4when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont9(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont1loopBody1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< _executeActor, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont1loopBody1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< _executeActor, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1cont2loopBody1cont1loopBody1cont19(Void const& _,int loopDepth) 
	{
															#line 449 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Params.bytesWritten().set(task, Params.bytesWritten().getOrDefault(task) + bytesSet);
															#line 452 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupVersions.get().more)
															#line 2345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 453 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->reset();
															#line 454 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			committedValueLoc = valueLoc;
															#line 455 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rangeBegin = backupVersions.get().end()[-1].key;
															#line 2353 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
			return a_body1cont2loopBody1cont1break1(loopDepth==0?0:loopDepth-1); // break
		}
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont19cont4(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont19(Void && _,int loopDepth) 
	{
															#line 449 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Params.bytesWritten().set(task, Params.bytesWritten().getOrDefault(task) + bytesSet);
															#line 452 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupVersions.get().more)
															#line 2369 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 453 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->reset();
															#line 454 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			committedValueLoc = valueLoc;
															#line 455 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rangeBegin = backupVersions.get().end()[-1].key;
															#line 2377 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
			return a_body1cont2loopBody1cont1break1(loopDepth==0?0:loopDepth-1); // break
		}
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont19cont4(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont9when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont19(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1cont9when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont19(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 8, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 8, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1cont1loopBody1cont9when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< _executeActor, 8, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1cont1loopBody1cont9when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< _executeActor, 8, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	int a_body1cont2loopBody1cont1loopBody1cont19cont4(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont2loopBody1cont1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 2));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 2));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
															#line 461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		valueLoc = committedValueLoc;
															#line 2467 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
															#line 461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		valueLoc = committedValueLoc;
															#line 2476 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose10() 
	{
		if (static_cast<_executeActor*>(this)->actor_wait_state > 0) static_cast<_executeActor*>(this)->actor_wait_state = 0;
		static_cast<_executeActor*>(this)->ActorCallback< _executeActor, 9, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor, 9, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_fire(ActorCallback< _executeActor, 9, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_error(ActorCallback< _executeActor, 9, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 9);

	}
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FlowLock> lock;
															#line 215 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	double timeout;
															#line 237 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key addPrefix;
															#line 238 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key removePrefix;
															#line 240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	KeyRange range;
															#line 244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	PromiseStream<RangeResultWithVersion> results;
															#line 246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> rc;
															#line 248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key rangeBegin;
															#line 249 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key rangeEnd;
															#line 250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	bool endOfStream;
															#line 251 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	RangeResultWithVersion nextValues;
															#line 252 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t nextValuesSize;
															#line 258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	RangeResultWithVersion values;
															#line 259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t valuesSize;
															#line 286 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Error err;
															#line 315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int valueLoc;
															#line 316 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int committedValueLoc;
															#line 317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key prefix;
															#line 325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key rangeCountKey;
															#line 327 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<RangeResult> backupVersions;
															#line 329 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> logVersionValue;
															#line 332 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> rangeCountValue;
															#line 333 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<RangeResult> prevRange;
															#line 338 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<RangeResult> nextRange;
															#line 343 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> verified;
															#line 391 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	KeyRange versionRange;
															#line 397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t bytesSet;
															#line 2610 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor final : public Actor<Void>, public ActorCallback< _executeActor, 0, Void >, public ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >, public ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >, public ActorCallback< _executeActor, 3, Void >, public ActorCallback< _executeActor, 4, Void >, public ActorCallback< _executeActor, 5, Void >, public ActorCallback< _executeActor, 6, Void >, public ActorCallback< _executeActor, 7, Void >, public ActorCallback< _executeActor, 8, Void >, public ActorCallback< _executeActor, 9, Void >, public FastAllocated<_executeActor>, public _executeActorState<_executeActor> {
															#line 2615 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor>::operator new;
	using FastAllocated<_executeActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor, 0, Void >;
friend struct ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >;
friend struct ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >;
friend struct ActorCallback< _executeActor, 3, Void >;
friend struct ActorCallback< _executeActor, 4, Void >;
friend struct ActorCallback< _executeActor, 5, Void >;
friend struct ActorCallback< _executeActor, 6, Void >;
friend struct ActorCallback< _executeActor, 7, Void >;
friend struct ActorCallback< _executeActor, 8, Void >;
friend struct ActorCallback< _executeActor, 9, Void >;
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 2635 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActorState<_executeActor>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor, 1, Standalone<VectorRef<KeyRef>> >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorSingleCallback< _executeActor, 2, RangeResultWithVersion >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _executeActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _executeActor, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _executeActor, 5, Void >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _executeActor, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< _executeActor, 7, Void >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< _executeActor, 8, Void >*)0, actor_cancelled()); break;
		case 10: this->a_callback_error((ActorCallback< _executeActor, 9, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor(cx, taskBucket, futureBucket, task));
															#line 2671 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 468 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 2676 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via startBackupRangeInternal()
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class StartBackupRangeInternalActor>
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class StartBackupRangeInternalActorState {
															#line 2682 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	StartBackupRangeInternalActorState(Reference<ReadYourWritesTransaction> const& tr,Standalone<VectorRef<KeyRef>> const& keys,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task,Reference<TaskFuture> const& onDone) 
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   keys(keys),
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   onDone(onDone)
															#line 2699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("startBackupRangeInternal", reinterpret_cast<unsigned long>(this));

	}
	~StartBackupRangeInternalActorState() 
	{
		fdb_probe_actor_destroy("startBackupRangeInternal", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 475 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 476 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 477 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextKey = task->params[BackupAgentBase::keyBeginKey];
															#line 479 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			std::vector<Future<Key>> addTaskVector;
															#line 480 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int idx = 0;idx < keys.size();++idx) {
															#line 481 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (nextKey != keys[idx])
															#line 2724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					addTaskVector.push_back( addTask(tr, taskBucket, task, nextKey, keys[idx], TaskCompletionKey::joinWith(onDone)));
															#line 2728 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
															#line 485 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextKey = keys[idx];
															#line 2732 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (nextKey != task->params[BackupAgentBase::keyEndKey])
															#line 2736 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 489 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(addTask(tr, taskBucket, task, nextKey, task->params[BackupAgentBase::keyEndKey], TaskCompletionKey::joinWith(onDone)));
															#line 2740 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = waitForAll(addTaskVector);
															#line 497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<StartBackupRangeInternalActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 2746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<StartBackupRangeInternalActor*>(this)->actor_wait_state = 1;
															#line 497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< StartBackupRangeInternalActor, 0, Void >*>(static_cast<StartBackupRangeInternalActor*>(this)));
															#line 2751 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~StartBackupRangeInternalActorState();
		static_cast<StartBackupRangeInternalActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 499 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<StartBackupRangeInternalActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~StartBackupRangeInternalActorState(); static_cast<StartBackupRangeInternalActor*>(this)->destroy(); return 0; }
															#line 2774 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<StartBackupRangeInternalActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~StartBackupRangeInternalActorState();
		static_cast<StartBackupRangeInternalActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 499 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<StartBackupRangeInternalActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~StartBackupRangeInternalActorState(); static_cast<StartBackupRangeInternalActor*>(this)->destroy(); return 0; }
															#line 2786 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<StartBackupRangeInternalActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~StartBackupRangeInternalActorState();
		static_cast<StartBackupRangeInternalActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<StartBackupRangeInternalActor*>(this)->actor_wait_state > 0) static_cast<StartBackupRangeInternalActor*>(this)->actor_wait_state = 0;
		static_cast<StartBackupRangeInternalActor*>(this)->ActorCallback< StartBackupRangeInternalActor, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< StartBackupRangeInternalActor, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< StartBackupRangeInternalActor, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< StartBackupRangeInternalActor, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRef>> keys;
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> onDone;
															#line 477 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key nextKey;
															#line 2871 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via startBackupRangeInternal()
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class StartBackupRangeInternalActor final : public Actor<Void>, public ActorCallback< StartBackupRangeInternalActor, 0, Void >, public FastAllocated<StartBackupRangeInternalActor>, public StartBackupRangeInternalActorState<StartBackupRangeInternalActor> {
															#line 2876 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<StartBackupRangeInternalActor>::operator new;
	using FastAllocated<StartBackupRangeInternalActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< StartBackupRangeInternalActor, 0, Void >;
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	StartBackupRangeInternalActor(Reference<ReadYourWritesTransaction> const& tr,Standalone<VectorRef<KeyRef>> const& keys,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task,Reference<TaskFuture> const& onDone) 
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   StartBackupRangeInternalActorState<StartBackupRangeInternalActor>(tr, keys, taskBucket, futureBucket, task, onDone)
	{
		fdb_probe_actor_enter("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("startBackupRangeInternal");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("startBackupRangeInternal", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< StartBackupRangeInternalActor, 0, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> startBackupRangeInternal( Reference<ReadYourWritesTransaction> const& tr, Standalone<VectorRef<KeyRef>> const& keys, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task, Reference<TaskFuture> const& onDone ) {
															#line 469 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new StartBackupRangeInternalActor(tr, keys, taskBucket, futureBucket, task, onDone));
															#line 2914 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 2919 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor>
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActorState {
															#line 2925 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActorState(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 506 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskFuture(futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]))
															#line 2940 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActorState() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			DRConfig config(task);
															#line 511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int64_t bytesWritten = Params.bytesWritten().getOrDefault(task);
															#line 512 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			config.rangeBytesWritten().atomicOp(tr, bytesWritten, MutationRef::AddValue);
															#line 514 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (task->params.find(BackupRangeTaskFunc::keyAddBackupRangeTasks) != task->params.end())
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 515 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_0 = startBackupRangeInternal( tr, BinaryReader::fromStringRef<Standalone<VectorRef<KeyRef>>>( task->params[BackupRangeTaskFunc::keyAddBackupRangeTasks], IncludeVersion()), taskBucket, futureBucket, task, taskFuture) && taskBucket->finish(tr, task);
															#line 515 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 2967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
				static_cast<_finishActor*>(this)->actor_wait_state = 1;
															#line 515 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor, 0, Void >*>(static_cast<_finishActor*>(this)));
															#line 2972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
															#line 524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (task->params.find(BackupRangeTaskFunc::keyBackupRangeBeginKey) != task->params.end() && task->params[BackupRangeTaskFunc::keyBackupRangeBeginKey] < task->params[BackupAgentBase::keyEndKey])
															#line 2979 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 527 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					ASSERT(taskFuture->key.size() > 0);
															#line 528 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					StrictFuture<Void> __when_expr_1 = success(BackupRangeTaskFunc::addTask(tr, taskBucket, task, task->params[BackupRangeTaskFunc::keyBackupRangeBeginKey], task->params[BackupAgentBase::keyEndKey], TaskCompletionKey::signal(taskFuture->key))) && taskBucket->finish(tr, task);
															#line 528 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					if (static_cast<_finishActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 2987 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1when2(__when_expr_1.get(), loopDepth); };
					static_cast<_finishActor*>(this)->actor_wait_state = 2;
															#line 528 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor, 1, Void >*>(static_cast<_finishActor*>(this)));
															#line 2992 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					loopDepth = 0;
				}
				else
				{
															#line 536 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					StrictFuture<Void> __when_expr_2 = taskFuture->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 536 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					if (static_cast<_finishActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3001 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1when3(__when_expr_2.get(), loopDepth); };
					static_cast<_finishActor*>(this)->actor_wait_state = 3;
															#line 536 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor, 2, Void >*>(static_cast<_finishActor*>(this)));
															#line 3006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					loopDepth = 0;
				}
			}
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActorState();
		static_cast<_finishActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 539 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActorState(); static_cast<_finishActor*>(this)->destroy(); return 0; }
															#line 3031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActorState();
		static_cast<_finishActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor*>(this)->actor_wait_state > 0) static_cast<_finishActor*>(this)->actor_wait_state = 0;
		static_cast<_finishActor*>(this)->ActorCallback< _finishActor, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont3(int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont4(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont4(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor*>(this)->actor_wait_state > 0) static_cast<_finishActor*>(this)->actor_wait_state = 0;
		static_cast<_finishActor*>(this)->ActorCallback< _finishActor, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1when3(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1when3(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor*>(this)->actor_wait_state > 0) static_cast<_finishActor*>(this)->actor_wait_state = 0;
		static_cast<_finishActor*>(this)->ActorCallback< _finishActor, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1when3(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1when3(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 506 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> taskFuture;
															#line 3280 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor final : public Actor<Void>, public ActorCallback< _finishActor, 0, Void >, public ActorCallback< _finishActor, 1, Void >, public ActorCallback< _finishActor, 2, Void >, public FastAllocated<_finishActor>, public _finishActorState<_finishActor> {
															#line 3285 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor>::operator new;
	using FastAllocated<_finishActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor, 0, Void >;
friend struct ActorCallback< _finishActor, 1, Void >;
friend struct ActorCallback< _finishActor, 2, Void >;
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 3298 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActorState<_finishActor>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor, 2, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor(tr, taskBucket, futureBucket, task));
															#line 3327 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 541 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
};
StringRef BackupRangeTaskFunc::name = "dr_backup_range"_sr;
const Key BackupRangeTaskFunc::keyAddBackupRangeTasks = "addBackupRangeTasks"_sr;
const Key BackupRangeTaskFunc::keyBackupRangeBeginKey = "backupRangeBeginKey"_sr;
REGISTER_TASKFUNC(BackupRangeTaskFunc);

struct FinishFullBackupTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 3341 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor1>
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor1State {
															#line 3347 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor1State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 555 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   states(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 3362 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor1State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(tr, task, FinishFullBackupTaskFunc::name, FinishFullBackupTaskFunc::version);
															#line 558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3379 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor1*>(this)->actor_wait_state = 1;
															#line 558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor1, 0, Void >*>(static_cast<_finishActor1*>(this)));
															#line 3384 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor1State();
		static_cast<_finishActor1*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 561 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Transaction srcTr(taskBucket->src);
															#line 562 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_1 = srcTr.getReadVersion();
															#line 563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3413 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor1*>(this)->actor_wait_state = 2;
															#line 563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor1, 1, Version >*>(static_cast<_finishActor1*>(this)));
															#line 3418 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 561 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Transaction srcTr(taskBucket->src);
															#line 562 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_1 = srcTr.getReadVersion();
															#line 563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor1*>(this)->actor_wait_state = 2;
															#line 563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor1, 1, Version >*>(static_cast<_finishActor1*>(this)));
															#line 3438 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor1*>(this)->actor_wait_state > 0) static_cast<_finishActor1*>(this)->actor_wait_state = 0;
		static_cast<_finishActor1*>(this)->ActorCallback< _finishActor1, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor1, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor1, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor1, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Version const& readVersion,int loopDepth) 
	{
															#line 564 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(states.pack(DatabaseBackupAgent::keyCopyStop), BinaryWriter::toValue(readVersion, Unversioned()));
															#line 565 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_FinishFullBackup").detail("CopyStop", readVersion);
															#line 566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = taskBucket->finish(tr, task);
															#line 566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3516 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_finishActor1*>(this)->actor_wait_state = 3;
															#line 566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor1, 2, Void >*>(static_cast<_finishActor1*>(this)));
															#line 3521 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2(Version && readVersion,int loopDepth) 
	{
															#line 564 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(states.pack(DatabaseBackupAgent::keyCopyStop), BinaryWriter::toValue(readVersion, Unversioned()));
															#line 565 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_FinishFullBackup").detail("CopyStop", readVersion);
															#line 566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = taskBucket->finish(tr, task);
															#line 566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3536 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_finishActor1*>(this)->actor_wait_state = 3;
															#line 566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor1, 2, Void >*>(static_cast<_finishActor1*>(this)));
															#line 3541 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1when1(Version const& readVersion,int loopDepth) 
	{
		loopDepth = a_body1cont2(readVersion, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Version && readVersion,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(readVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor1*>(this)->actor_wait_state > 0) static_cast<_finishActor1*>(this)->actor_wait_state = 0;
		static_cast<_finishActor1*>(this)->ActorCallback< _finishActor1, 1, Version >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor1, 1, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor1, 1, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor1, 1, Version >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(Void const& _,int loopDepth) 
	{
															#line 568 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor1*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor1State(); static_cast<_finishActor1*>(this)->destroy(); return 0; }
															#line 3613 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor1*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor1State();
		static_cast<_finishActor1*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont3(Void && _,int loopDepth) 
	{
															#line 568 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor1*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor1State(); static_cast<_finishActor1*>(this)->destroy(); return 0; }
															#line 3625 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor1*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor1State();
		static_cast<_finishActor1*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor1*>(this)->actor_wait_state > 0) static_cast<_finishActor1*>(this)->actor_wait_state = 0;
		static_cast<_finishActor1*>(this)->ActorCallback< _finishActor1, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor1, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor1, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor1, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 555 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace states;
															#line 3706 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor1 final : public Actor<Void>, public ActorCallback< _finishActor1, 0, Void >, public ActorCallback< _finishActor1, 1, Version >, public ActorCallback< _finishActor1, 2, Void >, public FastAllocated<_finishActor1>, public _finishActor1State<_finishActor1> {
															#line 3711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor1>::operator new;
	using FastAllocated<_finishActor1>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor1, 0, Void >;
friend struct ActorCallback< _finishActor1, 1, Version >;
friend struct ActorCallback< _finishActor1, 2, Void >;
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor1(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 3724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor1State<_finishActor1>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor1, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor1, 1, Version >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor1, 2, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor1(tr, taskBucket, futureBucket, task));
															#line 3753 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 570 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 3758 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor1>
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor1State {
															#line 3764 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor1State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 3779 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor1State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor1*>(this)->actor_wait_state = 1;
															#line 577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor1, 0, Key >*>(static_cast<AddTaskActor1*>(this)));
															#line 3801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor1State();
		static_cast<AddTaskActor1*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 578 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(FinishFullBackupTaskFunc::name, FinishFullBackupTaskFunc::version, doneKey);
															#line 580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 582 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 3828 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor1*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor1State(); static_cast<AddTaskActor1*>(this)->destroy(); return 0; }
															#line 3832 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor1*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor1State();
			static_cast<AddTaskActor1*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3842 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor1*>(this)->actor_wait_state = 2;
															#line 589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor1, 1, Void >*>(static_cast<AddTaskActor1*>(this)));
															#line 3847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 578 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(FinishFullBackupTaskFunc::name, FinishFullBackupTaskFunc::version, doneKey);
															#line 580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 582 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 3860 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor1*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor1State(); static_cast<AddTaskActor1*>(this)->destroy(); return 0; }
															#line 3864 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor1*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor1State();
			static_cast<AddTaskActor1*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 3874 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor1*>(this)->actor_wait_state = 2;
															#line 589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor1, 1, Void >*>(static_cast<AddTaskActor1*>(this)));
															#line 3879 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor1*>(this)->actor_wait_state > 0) static_cast<AddTaskActor1*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor1*>(this)->ActorCallback< AddTaskActor1, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor1, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor1, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor1, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 594 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor1*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor1State(); static_cast<AddTaskActor1*>(this)->destroy(); return 0; }
															#line 3951 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor1*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor1State();
		static_cast<AddTaskActor1*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 594 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor1*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor1State(); static_cast<AddTaskActor1*>(this)->destroy(); return 0; }
															#line 3963 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor1*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor1State();
		static_cast<AddTaskActor1*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor1*>(this)->actor_wait_state > 0) static_cast<AddTaskActor1*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor1*>(this)->ActorCallback< AddTaskActor1, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor1, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor1, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor1, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 4044 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor1 final : public Actor<Key>, public ActorCallback< AddTaskActor1, 0, Key >, public ActorCallback< AddTaskActor1, 1, Void >, public FastAllocated<AddTaskActor1>, public AddTaskActor1State<AddTaskActor1> {
															#line 4049 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor1>::operator new;
	using FastAllocated<AddTaskActor1>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor1, 0, Key >;
friend struct ActorCallback< AddTaskActor1, 1, Void >;
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor1(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 4061 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor1State<AddTaskActor1>(tr, taskBucket, parentTask, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor1, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor1, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor1(tr, taskBucket, parentTask, completionKey, waitFor));
															#line 4089 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return Void();
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef FinishFullBackupTaskFunc::name = "dr_finish_full_backup"_sr;
REGISTER_TASKFUNC(FinishFullBackupTaskFunc);

struct EraseLogRangeTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};

																#line 4131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor1>
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor1State {
															#line 4137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor1State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lock(CLIENT_KNOBS->BACKUP_LOCK_BYTES)
															#line 4152 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor1State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 640 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, EraseLogRangeTaskFunc::name, EraseLogRangeTaskFunc::version);
															#line 640 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 4169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor1*>(this)->actor_wait_state = 1;
															#line 640 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor1, 0, Void >*>(static_cast<_executeActor1*>(this)));
															#line 4174 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor1State();
		static_cast<_executeActor1*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 642 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 643 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 4199 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 642 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 643 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 4210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor1*>(this)->actor_wait_state > 0) static_cast<_executeActor1*>(this)->actor_wait_state = 0;
		static_cast<_executeActor1*>(this)->ActorCallback< _executeActor1, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor1, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor1, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor1, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
		try {
															#line 645 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version endVersion = BinaryReader::fromStringRef<Version>( task->params[DatabaseBackupAgent::keyEndVersion], Unversioned());
															#line 647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = eraseLogData( tr, task->params[BackupAgentBase::keyConfigLogUid], task->params[BackupAgentBase::destUid], Optional<Version>(endVersion), CheckBackupUID::True, BinaryReader::fromStringRef<Version>(task->params[BackupAgentBase::keyFolderId], Unversioned()));
															#line 647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor1*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 4294 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_executeActor1*>(this)->actor_wait_state = 2;
															#line 647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor1, 1, Void >*>(static_cast<_executeActor1*>(this)));
															#line 4299 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 657 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = tr->onError(e);
															#line 657 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 4323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_3.get(), loopDepth); };
			static_cast<_executeActor1*>(this)->actor_wait_state = 4;
															#line 657 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor1, 3, Void >*>(static_cast<_executeActor1*>(this)));
															#line 4328 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr->commit();
															#line 654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor1*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 4345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor1*>(this)->actor_wait_state = 3;
															#line 654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor1, 2, Void >*>(static_cast<_executeActor1*>(this)));
															#line 4350 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr->commit();
															#line 654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor1*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 4361 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor1*>(this)->actor_wait_state = 3;
															#line 654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor1, 2, Void >*>(static_cast<_executeActor1*>(this)));
															#line 4366 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor1*>(this)->actor_wait_state > 0) static_cast<_executeActor1*>(this)->actor_wait_state = 0;
		static_cast<_executeActor1*>(this)->ActorCallback< _executeActor1, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor1, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor1, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor1, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 655 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor1*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor1State(); static_cast<_executeActor1*>(this)->destroy(); return 0; }
															#line 4438 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor1*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor1State();
		static_cast<_executeActor1*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 655 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor1*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor1State(); static_cast<_executeActor1*>(this)->destroy(); return 0; }
															#line 4450 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor1*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor1State();
		static_cast<_executeActor1*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor1*>(this)->actor_wait_state > 0) static_cast<_executeActor1*>(this)->actor_wait_state = 0;
		static_cast<_executeActor1*>(this)->ActorCallback< _executeActor1, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor1, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _executeActor1, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _executeActor1, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_executeActor1*>(this)->actor_wait_state > 0) static_cast<_executeActor1*>(this)->actor_wait_state = 0;
		static_cast<_executeActor1*>(this)->ActorCallback< _executeActor1, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor1, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _executeActor1, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _executeActor1, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	FlowLock lock;
															#line 642 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 4608 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor1 final : public Actor<Void>, public ActorCallback< _executeActor1, 0, Void >, public ActorCallback< _executeActor1, 1, Void >, public ActorCallback< _executeActor1, 2, Void >, public ActorCallback< _executeActor1, 3, Void >, public FastAllocated<_executeActor1>, public _executeActor1State<_executeActor1> {
															#line 4613 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor1>::operator new;
	using FastAllocated<_executeActor1>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor1, 0, Void >;
friend struct ActorCallback< _executeActor1, 1, Void >;
friend struct ActorCallback< _executeActor1, 2, Void >;
friend struct ActorCallback< _executeActor1, 3, Void >;
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor1(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 4627 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor1State<_executeActor1>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor1, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor1, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _executeActor1, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _executeActor1, 3, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor1(cx, taskBucket, futureBucket, task));
															#line 4657 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 4662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor2>
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor2State {
															#line 4668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor2State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& endVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endVersion(endVersion),
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 4685 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor2State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor2*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 4702 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor2*>(this)->actor_wait_state = 1;
															#line 668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor2, 0, Key >*>(static_cast<AddTaskActor2*>(this)));
															#line 4707 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor2State();
		static_cast<AddTaskActor2*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 669 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(EraseLogRangeTaskFunc::name, EraseLogRangeTaskFunc::version, doneKey, 1);
															#line 671 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 673 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(1, Unversioned());
															#line 675 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyEndVersion] = BinaryWriter::toValue(endVersion, Unversioned());
															#line 677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 4738 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 678 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor2*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor2State(); static_cast<AddTaskActor2*>(this)->destroy(); return 0; }
															#line 4742 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor2*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor2State();
			static_cast<AddTaskActor2*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor2*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 4752 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor2*>(this)->actor_wait_state = 2;
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor2, 1, Void >*>(static_cast<AddTaskActor2*>(this)));
															#line 4757 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 669 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(EraseLogRangeTaskFunc::name, EraseLogRangeTaskFunc::version, doneKey, 1);
															#line 671 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 673 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(1, Unversioned());
															#line 675 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyEndVersion] = BinaryWriter::toValue(endVersion, Unversioned());
															#line 677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 4774 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 678 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor2*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor2State(); static_cast<AddTaskActor2*>(this)->destroy(); return 0; }
															#line 4778 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor2*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor2State();
			static_cast<AddTaskActor2*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor2*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 4788 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor2*>(this)->actor_wait_state = 2;
															#line 684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor2, 1, Void >*>(static_cast<AddTaskActor2*>(this)));
															#line 4793 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor2*>(this)->actor_wait_state > 0) static_cast<AddTaskActor2*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor2*>(this)->ActorCallback< AddTaskActor2, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor2, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor2, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor2, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 689 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor2*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor2State(); static_cast<AddTaskActor2*>(this)->destroy(); return 0; }
															#line 4865 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor2*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor2State();
		static_cast<AddTaskActor2*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 689 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor2*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor2State(); static_cast<AddTaskActor2*>(this)->destroy(); return 0; }
															#line 4877 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor2*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor2State();
		static_cast<AddTaskActor2*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor2*>(this)->actor_wait_state > 0) static_cast<AddTaskActor2*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor2*>(this)->ActorCallback< AddTaskActor2, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor2, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor2, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor2, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 4960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor2 final : public Actor<Key>, public ActorCallback< AddTaskActor2, 0, Key >, public ActorCallback< AddTaskActor2, 1, Void >, public FastAllocated<AddTaskActor2>, public AddTaskActor2State<AddTaskActor2> {
															#line 4965 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor2>::operator new;
	using FastAllocated<AddTaskActor2>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor2, 0, Key >;
friend struct ActorCallback< AddTaskActor2, 1, Void >;
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor2(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& endVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 4977 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor2State<AddTaskActor2>(tr, taskBucket, parentTask, endVersion, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor2, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor2, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, Version const& endVersion, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 662 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor2(tr, taskBucket, parentTask, endVersion, completionKey, waitFor));
															#line 5005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 691 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 5010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor2>
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor2State {
															#line 5016 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor2State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskFuture(futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]))
															#line 5031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor2State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = taskFuture->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor2*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 5048 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor2*>(this)->actor_wait_state = 1;
															#line 699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor2, 0, Void >*>(static_cast<_finishActor2*>(this)));
															#line 5053 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor2State();
		static_cast<_finishActor2*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor2*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor2State(); static_cast<_finishActor2*>(this)->destroy(); return 0; }
															#line 5076 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor2*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor2State();
		static_cast<_finishActor2*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor2*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor2State(); static_cast<_finishActor2*>(this)->destroy(); return 0; }
															#line 5088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor2*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor2State();
		static_cast<_finishActor2*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor2*>(this)->actor_wait_state > 0) static_cast<_finishActor2*>(this)->actor_wait_state = 0;
		static_cast<_finishActor2*>(this)->ActorCallback< _finishActor2, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor2, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor2, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor2, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> taskFuture;
															#line 5169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor2 final : public Actor<Void>, public ActorCallback< _finishActor2, 0, Void >, public FastAllocated<_finishActor2>, public _finishActor2State<_finishActor2> {
															#line 5174 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor2>::operator new;
	using FastAllocated<_finishActor2>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor2, 0, Void >;
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor2(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 5185 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor2State<_finishActor2>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor2, 0, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor2(tr, taskBucket, futureBucket, task));
															#line 5212 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 702 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
};
StringRef EraseLogRangeTaskFunc::name = "dr_erase_log_range"_sr;
REGISTER_TASKFUNC(EraseLogRangeTaskFunc);

struct CopyLogRangeTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

	static struct {
		static TaskParam<int64_t> bytesWritten() { return __FUNCTION__sr; }
	} Params;

	static const Key keyNextBeginVersion;

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};

	// store mutation data from results until the end of stream or the timeout. If breaks on timeout returns the first
	// uncopied version
																#line 5247 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via dumpData()
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class DumpDataActor>
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class DumpDataActorState {
															#line 5253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DumpDataActorState(Database const& cx,Reference<Task> const& task,PromiseStream<RCGroup> const& results,FlowLock* const& lock,Reference<TaskBucket> const& tb,double const& breakTime) 
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   results(results),
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lock(lock),
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tb(tb),
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   breakTime(breakTime),
															#line 739 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endOfStream(false),
															#line 740 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid])),
															#line 743 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   nextMutations(),
															#line 744 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   isTimeoutOccured(false),
															#line 745 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lastKey(),
															#line 746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lastVersion(),
															#line 747 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   nextMutationSize(0)
															#line 5284 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("dumpData", reinterpret_cast<unsigned long>(this));

	}
	~DumpDataActorState() 
	{
		fdb_probe_actor_destroy("dumpData", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 748 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 5299 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1loopHead1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~DumpDataActorState();
		static_cast<DumpDataActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1(int loopDepth) 
	{
		try {
															#line 750 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (endOfStream && !nextMutationSize)
															#line 5330 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 751 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (!static_cast<DumpDataActor*>(this)->SAV<Optional<Version>>::futures) { (void)(Optional<Version>()); this->~DumpDataActorState(); static_cast<DumpDataActor*>(this)->destroy(); return 0; }
															#line 5334 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				new (&static_cast<DumpDataActor*>(this)->SAV< Optional<Version> >::value()) Optional<Version>(Optional<Version>());
				this->~DumpDataActorState();
				static_cast<DumpDataActor*>(this)->finishSendAndDelPromiseRef();
				return 0;
			}
															#line 754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			mutations = std::move(nextMutations);
															#line 755 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			mutationSize = nextMutationSize;
															#line 756 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutations = std::vector<RangeResult>();
															#line 757 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutationSize = 0;
															#line 759 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!endOfStream)
															#line 5350 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 760 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				;
															#line 5354 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = a_body1loopBody1loopHead1(loopDepth);
			}
			else
			{
				loopDepth = a_body1loopBody1cont2(loopDepth);
			}
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 844 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (e.code() == error_code_actor_cancelled || e.code() == error_code_backup_error)
															#line 5381 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 845 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(e, std::max(0, loopDepth - 1));
															#line 5385 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			err = e;
															#line 848 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = logError(cx, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyErrors) .pack(task->params[BackupAgentBase::keyConfigLogUid]), format("ERROR: Failed to dump mutations because of error %s", err.what()));
															#line 848 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 5393 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<DumpDataActor*>(this)->actor_wait_state = 5;
															#line 848 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor, 4, Void >*>(static_cast<DumpDataActor*>(this)));
															#line 5398 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2(int loopDepth) 
	{
															#line 787 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextVersionAfterBreak = Optional<Version>();
															#line 788 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Transaction(cx);
															#line 790 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 5417 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont4(int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1(int loopDepth) 
	{
		try {
															#line 762 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			FutureStream<RCGroup> __when_expr_0 = results.getFuture();
															#line 762 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor*>(this)->actor_wait_state < 0) return a_body1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 5442 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1loopBody1loopBody1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1loopBody1loopBody1when1(__when_expr_0.pop(), loopDepth); };
			static_cast<DumpDataActor*>(this)->actor_wait_state = 1;
															#line 762 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorSingleCallback< DumpDataActor, 0, RCGroup >*>(static_cast<DumpDataActor*>(this)));
															#line 5447 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1break1(int loopDepth) 
	{
		try {
			return a_body1loopBody1cont4(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopBody1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 776 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			error = e;
															#line 777 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (e.code() == error_code_end_of_stream)
															#line 5484 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 778 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				endOfStream = true;
															#line 5488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				return a_body1loopBody1break1(loopDepth==0?0:loopDepth-1); // break
			}
															#line 782 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
															#line 5493 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1loopBody1cont2(RCGroup const& group,int loopDepth) 
	{
															#line 763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		lock->release(group.items.expectedSize());
															#line 765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int vecSize = group.items.expectedSize();
															#line 766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (mutationSize + vecSize >= CLIENT_KNOBS->BACKUP_LOG_WRITE_BATCH_MAX_SIZE)
															#line 5511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 768 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutations.push_back(group.items);
															#line 769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutationSize = vecSize;
															#line 5517 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			return a_body1loopBody1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 773 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutations.push_back(group.items);
															#line 774 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutationSize += vecSize;
															#line 5524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1loopBody1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1cont2(RCGroup && group,int loopDepth) 
	{
															#line 763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		lock->release(group.items.expectedSize());
															#line 765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int vecSize = group.items.expectedSize();
															#line 766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (mutationSize + vecSize >= CLIENT_KNOBS->BACKUP_LOG_WRITE_BATCH_MAX_SIZE)
															#line 5537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 768 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutations.push_back(group.items);
															#line 769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutationSize = vecSize;
															#line 5543 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			return a_body1loopBody1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 773 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutations.push_back(group.items);
															#line 774 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutationSize += vecSize;
															#line 5550 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1loopBody1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1when1(RCGroup const& group,int loopDepth) 
	{
		loopDepth = a_body1loopBody1loopBody1cont2(group, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1when1(RCGroup && group,int loopDepth) 
	{
		loopDepth = a_body1loopBody1loopBody1cont2(std::move(group), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<DumpDataActor*>(this)->actor_wait_state > 0) static_cast<DumpDataActor*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor*>(this)->ActorSingleCallback< DumpDataActor, 0, RCGroup >::remove();

	}
	void a_callback_fire(ActorSingleCallback< DumpDataActor, 0, RCGroup >*,RCGroup const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorSingleCallback< DumpDataActor, 0, RCGroup >*,RCGroup && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorSingleCallback< DumpDataActor, 0, RCGroup >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1loopBody1loopBody1cont5(int loopDepth) 
	{
		try {
			loopDepth = a_body1loopBody1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont5(int loopDepth) 
	{
															#line 832 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (nextVersionAfterBreak.present())
															#line 5635 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<DumpDataActor*>(this)->SAV<Optional<Version>>::futures) { (void)(nextVersionAfterBreak); this->~DumpDataActorState(); static_cast<DumpDataActor*>(this)->destroy(); return 0; }
															#line 5639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<DumpDataActor*>(this)->SAV< Optional<Version> >::value()) Optional<Version>(std::move(nextVersionAfterBreak)); // state_var_RVO
			this->~DumpDataActorState();
			static_cast<DumpDataActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 835 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!isTimeoutOccured && timer_monotonic() >= breakTime && lastKey.present())
															#line 5647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 840 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			lastVersion = getLogKeyVersion(lastKey.get());
															#line 841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			isTimeoutOccured = true;
															#line 5653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		loopDepth = a_body1loopBody1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1(int loopDepth) 
	{
		try {
															#line 792 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 793 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.trState->options.sizeLimit = 2 * CLIENT_KNOBS->TRANSACTION_SIZE_LIMIT;
															#line 794 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = checkDatabaseLock(&tr, BinaryReader::fromStringRef<UID>( task->params[BackupAgentBase::keyConfigLogUid], Unversioned()));
															#line 794 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor*>(this)->actor_wait_state < 0) return a_body1loopBody1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 5677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1loopBody1cont2loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1loopBody1cont2loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<DumpDataActor*>(this)->actor_wait_state = 2;
															#line 794 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor, 1, Void >*>(static_cast<DumpDataActor*>(this)));
															#line 5682 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1cont2loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1cont2loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2break1(int loopDepth) 
	{
		try {
			return a_body1loopBody1cont5(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopBody1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 829 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = tr.onError(e);
															#line 829 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 5719 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1loopBody1Catch1(__when_expr_3.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1cont2loopBody1Catch1when1(__when_expr_3.get(), loopDepth); };
			static_cast<DumpDataActor*>(this)->actor_wait_state = 4;
															#line 829 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor, 3, Void >*>(static_cast<DumpDataActor*>(this)));
															#line 5724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bytesSet = 0;
															#line 799 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool first = true;
															#line 800 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto m : mutations ) {
															#line 801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto kv : m ) {
															#line 802 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (isTimeoutOccured)
															#line 5747 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 803 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					Version newVersion = getLogKeyVersion(kv.key);
															#line 805 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					if (newVersion > lastVersion)
															#line 5753 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					{
															#line 806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
						nextVersionAfterBreak = newVersion;
															#line 5757 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
						break;
					}
				}
															#line 810 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (first)
															#line 5763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 811 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr.addReadConflictRange(singleKeyRange(kv.key));
															#line 812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					first = false;
															#line 5769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
															#line 814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr.set(kv.key.removePrefix(backupLogKeys.begin) .removePrefix(task->params[BackupAgentBase::destUid]) .withPrefix(task->params[BackupAgentBase::keyConfigLogUid]) .withPrefix(applyLogKeys.begin), kv.value);
															#line 819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				bytesSet += kv.expectedSize() - backupLogKeys.begin.expectedSize() + applyLogKeys.begin.expectedSize();
															#line 821 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				lastKey = kv.key;
															#line 5777 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr.commit();
															#line 825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<DumpDataActor*>(this)->actor_wait_state < 0) return a_body1loopBody1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 5784 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1cont2loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont2loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<DumpDataActor*>(this)->actor_wait_state = 3;
															#line 825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor, 2, Void >*>(static_cast<DumpDataActor*>(this)));
															#line 5789 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bytesSet = 0;
															#line 799 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool first = true;
															#line 800 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto m : mutations ) {
															#line 801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto kv : m ) {
															#line 802 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (isTimeoutOccured)
															#line 5806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 803 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					Version newVersion = getLogKeyVersion(kv.key);
															#line 805 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					if (newVersion > lastVersion)
															#line 5812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					{
															#line 806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
						nextVersionAfterBreak = newVersion;
															#line 5816 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
						break;
					}
				}
															#line 810 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (first)
															#line 5822 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 811 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr.addReadConflictRange(singleKeyRange(kv.key));
															#line 812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					first = false;
															#line 5828 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
															#line 814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr.set(kv.key.removePrefix(backupLogKeys.begin) .removePrefix(task->params[BackupAgentBase::destUid]) .withPrefix(task->params[BackupAgentBase::keyConfigLogUid]) .withPrefix(applyLogKeys.begin), kv.value);
															#line 819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				bytesSet += kv.expectedSize() - backupLogKeys.begin.expectedSize() + applyLogKeys.begin.expectedSize();
															#line 821 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				lastKey = kv.key;
															#line 5836 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr.commit();
															#line 825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<DumpDataActor*>(this)->actor_wait_state < 0) return a_body1loopBody1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 5843 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1cont2loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont2loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<DumpDataActor*>(this)->actor_wait_state = 3;
															#line 825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor, 2, Void >*>(static_cast<DumpDataActor*>(this)));
															#line 5848 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<DumpDataActor*>(this)->actor_wait_state > 0) static_cast<DumpDataActor*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor*>(this)->ActorCallback< DumpDataActor, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< DumpDataActor, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1loopBody1cont2loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 826 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Params.bytesWritten().set(task, Params.bytesWritten().getOrDefault(task) + bytesSet);
															#line 5920 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1loopBody1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 826 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Params.bytesWritten().set(task, Params.bytesWritten().getOrDefault(task) + bytesSet);
															#line 5929 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1loopBody1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<DumpDataActor*>(this)->actor_wait_state > 0) static_cast<DumpDataActor*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor*>(this)->ActorCallback< DumpDataActor, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont2loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont2loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< DumpDataActor, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1loopBody1cont2loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<DumpDataActor*>(this)->actor_wait_state > 0) static_cast<DumpDataActor*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor*>(this)->ActorCallback< DumpDataActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont2loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont2loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< DumpDataActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1loopBody1cont9(int loopDepth) 
	{
		try {
			loopDepth = a_body1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
															#line 854 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(err, std::max(0, loopDepth - 1));
															#line 6089 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
															#line 854 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(err, std::max(0, loopDepth - 1));
															#line 6097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<DumpDataActor*>(this)->actor_wait_state > 0) static_cast<DumpDataActor*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor*>(this)->ActorCallback< DumpDataActor, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< DumpDataActor, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< DumpDataActor, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 4);

	}
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	PromiseStream<RCGroup> results;
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	FlowLock* lock;
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> tb;
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	double breakTime;
															#line 739 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	bool endOfStream;
															#line 740 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 743 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<RangeResult> nextMutations;
															#line 744 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	bool isTimeoutOccured;
															#line 745 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<KeyRef> lastKey;
															#line 746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version lastVersion;
															#line 747 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t nextMutationSize;
															#line 754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<RangeResult> mutations;
															#line 755 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t mutationSize;
															#line 776 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Error error;
															#line 787 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Version> nextVersionAfterBreak;
															#line 788 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Transaction tr;
															#line 797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t bytesSet;
															#line 847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Error err;
															#line 6204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via dumpData()
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class DumpDataActor final : public Actor<Optional<Version>>, public ActorSingleCallback< DumpDataActor, 0, RCGroup >, public ActorCallback< DumpDataActor, 1, Void >, public ActorCallback< DumpDataActor, 2, Void >, public ActorCallback< DumpDataActor, 3, Void >, public ActorCallback< DumpDataActor, 4, Void >, public FastAllocated<DumpDataActor>, public DumpDataActorState<DumpDataActor> {
															#line 6209 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<DumpDataActor>::operator new;
	using FastAllocated<DumpDataActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Optional<Version>>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorSingleCallback< DumpDataActor, 0, RCGroup >;
friend struct ActorCallback< DumpDataActor, 1, Void >;
friend struct ActorCallback< DumpDataActor, 2, Void >;
friend struct ActorCallback< DumpDataActor, 3, Void >;
friend struct ActorCallback< DumpDataActor, 4, Void >;
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DumpDataActor(Database const& cx,Reference<Task> const& task,PromiseStream<RCGroup> const& results,FlowLock* const& lock,Reference<TaskBucket> const& tb,double const& breakTime) 
															#line 6224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Optional<Version>>(),
		   DumpDataActorState<DumpDataActor>(cx, task, results, lock, tb, breakTime)
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("dumpData");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorSingleCallback< DumpDataActor, 0, RCGroup >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< DumpDataActor, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< DumpDataActor, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< DumpDataActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< DumpDataActor, 4, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Optional<Version>> dumpData( Database const& cx, Reference<Task> const& task, PromiseStream<RCGroup> const& results, FlowLock* const& lock, Reference<TaskBucket> const& tb, double const& breakTime ) {
															#line 733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Optional<Version>>(new DumpDataActor(cx, task, results, lock, tb, breakTime));
															#line 6255 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 858 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 6260 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor2>
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor2State {
															#line 6266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor2State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task)
															#line 6279 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor2State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 865 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, CopyLogRangeTaskFunc::name, CopyLogRangeTaskFunc::version);
															#line 865 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor2*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 6296 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor2*>(this)->actor_wait_state = 1;
															#line 865 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor2, 0, Void >*>(static_cast<_executeActor2*>(this)));
															#line 6301 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor2State();
		static_cast<_executeActor2*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 867 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 869 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyEndVersion], Unversioned());
															#line 872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version newEndVersion = std::min(endVersion, (((beginVersion - 1) / CLIENT_KNOBS->COPY_LOG_BLOCK_SIZE) + 1 + CLIENT_KNOBS->COPY_LOG_BLOCKS_PER_TASK + (g_network->isSimulated() ? CLIENT_KNOBS->BACKUP_SIM_COPY_LOG_RANGES : 0)) * CLIENT_KNOBS->COPY_LOG_BLOCK_SIZE);
															#line 878 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		ranges = getLogRanges( beginVersion, newEndVersion, task->params[BackupAgentBase::destUid], CLIENT_KNOBS->COPY_LOG_BLOCK_SIZE);
															#line 880 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nRanges = ranges.size();
															#line 882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		results = std::vector<PromiseStream<RCGroup>>();
															#line 883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rc = std::vector<Future<Void>>();
															#line 884 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		locks = std::vector<Reference<FlowLock>>();
															#line 885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextVersion = beginVersion;
															#line 886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		breakTime = timer_monotonic() + CLIENT_KNOBS->COPY_LOG_TASK_DURATION_NANOS;
															#line 887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeN = 0;
															#line 889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 6346 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 867 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 869 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyEndVersion], Unversioned());
															#line 872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version newEndVersion = std::min(endVersion, (((beginVersion - 1) / CLIENT_KNOBS->COPY_LOG_BLOCK_SIZE) + 1 + CLIENT_KNOBS->COPY_LOG_BLOCKS_PER_TASK + (g_network->isSimulated() ? CLIENT_KNOBS->BACKUP_SIM_COPY_LOG_RANGES : 0)) * CLIENT_KNOBS->COPY_LOG_BLOCK_SIZE);
															#line 878 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		ranges = getLogRanges( beginVersion, newEndVersion, task->params[BackupAgentBase::destUid], CLIENT_KNOBS->COPY_LOG_BLOCK_SIZE);
															#line 880 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nRanges = ranges.size();
															#line 882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		results = std::vector<PromiseStream<RCGroup>>();
															#line 883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rc = std::vector<Future<Void>>();
															#line 884 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		locks = std::vector<Reference<FlowLock>>();
															#line 885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextVersion = beginVersion;
															#line 886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		breakTime = timer_monotonic() + CLIENT_KNOBS->COPY_LOG_TASK_DURATION_NANOS;
															#line 887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeN = 0;
															#line 889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 6377 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor2*>(this)->actor_wait_state > 0) static_cast<_executeActor2*>(this)->actor_wait_state = 0;
		static_cast<_executeActor2*>(this)->ActorCallback< _executeActor2, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor2, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor2, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor2, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 931 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (nextVersion < endVersion)
															#line 6449 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 932 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[CopyLogRangeTaskFunc::keyNextBeginVersion] = BinaryWriter::toValue(nextVersion, Unversioned());
															#line 6453 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor2*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor2State(); static_cast<_executeActor2*>(this)->destroy(); return 0; }
															#line 6457 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor2*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor2State();
		static_cast<_executeActor2*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
															#line 890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (rangeN >= nRanges)
															#line 6476 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int prefetchTo = std::min(rangeN + CLIENT_KNOBS->COPY_LOG_PREFETCH_BLOCKS, nRanges);
															#line 896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for(int j = results.size();j < prefetchTo;j++) {
															#line 897 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			results.push_back(PromiseStream<RCGroup>());
															#line 898 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			locks.push_back(makeReference<FlowLock>(CLIENT_KNOBS->COPY_LOG_READ_AHEAD_BYTES));
															#line 899 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rc.push_back(readCommitted(taskBucket->src, results[j], Future<Void>(Void()), locks[j], ranges[j], decodeBKMutationLogKey, Terminator::True, AccessSystemKeys::True, LockAware::True));
															#line 6490 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Version>> __when_expr_1 = dumpData(cx, task, results[rangeN], locks[rangeN].getPtr(), taskBucket, breakTime);
															#line 911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor2*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 6496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_executeActor2*>(this)->actor_wait_state = 2;
															#line 911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor2, 1, Optional<Version> >*>(static_cast<_executeActor2*>(this)));
															#line 6501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1break1(int loopDepth) 
	{
		try {
			return a_body1cont2(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(Optional<Version> const& nextVersionBr,int loopDepth) 
	{
															#line 915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (nextVersionBr.present())
															#line 6523 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 916 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextVersion = nextVersionBr.get();
															#line 918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent(SevInfo, "CopyLogRangeTaskFuncAborted") .detail("DurationNanos", CLIENT_KNOBS->COPY_LOG_TASK_DURATION_NANOS) .detail("RangeN", rangeN) .detail("BytesWritten", Params.bytesWritten().getOrDefault(task));
															#line 922 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int j = results.size();--j >= rangeN;) {
															#line 923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				rc[j].cancel();
															#line 6533 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 927 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextVersion = getLogKeyVersion(ranges[rangeN].end);
															#line 928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeN++;
															#line 6541 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(Optional<Version> && nextVersionBr,int loopDepth) 
	{
															#line 915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (nextVersionBr.present())
															#line 6550 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 916 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextVersion = nextVersionBr.get();
															#line 918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent(SevInfo, "CopyLogRangeTaskFuncAborted") .detail("DurationNanos", CLIENT_KNOBS->COPY_LOG_TASK_DURATION_NANOS) .detail("RangeN", rangeN) .detail("BytesWritten", Params.bytesWritten().getOrDefault(task));
															#line 922 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int j = results.size();--j >= rangeN;) {
															#line 923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				rc[j].cancel();
															#line 6560 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 927 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		nextVersion = getLogKeyVersion(ranges[rangeN].end);
															#line 928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rangeN++;
															#line 6568 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Version> const& nextVersionBr,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(nextVersionBr, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Version> && nextVersionBr,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(std::move(nextVersionBr), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor2*>(this)->actor_wait_state > 0) static_cast<_executeActor2*>(this)->actor_wait_state = 0;
		static_cast<_executeActor2*>(this)->ActorCallback< _executeActor2, 1, Optional<Version> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor2, 1, Optional<Version> >*,Optional<Version> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor2, 1, Optional<Version> >*,Optional<Version> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor2, 1, Optional<Version> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 867 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 869 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 878 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> ranges;
															#line 880 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int nRanges;
															#line 882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<PromiseStream<RCGroup>> results;
															#line 883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<Future<Void>> rc;
															#line 884 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<Reference<FlowLock>> locks;
															#line 885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version nextVersion;
															#line 886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	double breakTime;
															#line 887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int rangeN;
															#line 6664 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor2 final : public Actor<Void>, public ActorCallback< _executeActor2, 0, Void >, public ActorCallback< _executeActor2, 1, Optional<Version> >, public FastAllocated<_executeActor2>, public _executeActor2State<_executeActor2> {
															#line 6669 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor2>::operator new;
	using FastAllocated<_executeActor2>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor2, 0, Void >;
friend struct ActorCallback< _executeActor2, 1, Optional<Version> >;
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor2(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 6681 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor2State<_executeActor2>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor2, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor2, 1, Optional<Version> >*)0, actor_cancelled()); break;
		}

	}
};
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor2(cx, taskBucket, futureBucket, task));
															#line 6709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 936 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 6714 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor3>
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor3State {
															#line 6720 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor3State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& beginVersion,Version const& endVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   beginVersion(beginVersion),
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endVersion(endVersion),
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 6739 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor3State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 6756 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor3*>(this)->actor_wait_state = 1;
															#line 944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor3, 0, Key >*>(static_cast<AddTaskActor3*>(this)));
															#line 6761 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor3State();
		static_cast<AddTaskActor3*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 945 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(CopyLogRangeTaskFunc::name, CopyLogRangeTaskFunc::version, doneKey, 1);
															#line 947 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 949 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 950 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyEndVersion] = BinaryWriter::toValue(endVersion, Unversioned());
															#line 952 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 6792 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 953 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor3*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor3State(); static_cast<AddTaskActor3*>(this)->destroy(); return 0; }
															#line 6796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor3*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor3State();
			static_cast<AddTaskActor3*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 6806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor3*>(this)->actor_wait_state = 2;
															#line 959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor3, 1, Void >*>(static_cast<AddTaskActor3*>(this)));
															#line 6811 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 945 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(CopyLogRangeTaskFunc::name, CopyLogRangeTaskFunc::version, doneKey, 1);
															#line 947 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 949 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 950 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyEndVersion] = BinaryWriter::toValue(endVersion, Unversioned());
															#line 952 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 6828 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 953 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor3*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor3State(); static_cast<AddTaskActor3*>(this)->destroy(); return 0; }
															#line 6832 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor3*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor3State();
			static_cast<AddTaskActor3*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 6842 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor3*>(this)->actor_wait_state = 2;
															#line 959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor3, 1, Void >*>(static_cast<AddTaskActor3*>(this)));
															#line 6847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor3*>(this)->actor_wait_state > 0) static_cast<AddTaskActor3*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor3*>(this)->ActorCallback< AddTaskActor3, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor3, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor3, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor3, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor3*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor3State(); static_cast<AddTaskActor3*>(this)->destroy(); return 0; }
															#line 6919 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor3*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor3State();
		static_cast<AddTaskActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor3*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor3State(); static_cast<AddTaskActor3*>(this)->destroy(); return 0; }
															#line 6931 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor3*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor3State();
		static_cast<AddTaskActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor3*>(this)->actor_wait_state > 0) static_cast<AddTaskActor3*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor3*>(this)->ActorCallback< AddTaskActor3, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor3, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor3, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor3, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 7016 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor3 final : public Actor<Key>, public ActorCallback< AddTaskActor3, 0, Key >, public ActorCallback< AddTaskActor3, 1, Void >, public FastAllocated<AddTaskActor3>, public AddTaskActor3State<AddTaskActor3> {
															#line 7021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor3>::operator new;
	using FastAllocated<AddTaskActor3>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor3, 0, Key >;
friend struct ActorCallback< AddTaskActor3, 1, Void >;
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor3(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& beginVersion,Version const& endVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 7033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor3State<AddTaskActor3>(tr, taskBucket, parentTask, beginVersion, endVersion, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor3, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor3, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, Version const& beginVersion, Version const& endVersion, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor3(tr, taskBucket, parentTask, beginVersion, endVersion, completionKey, waitFor));
															#line 7061 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 966 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 7066 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor3>
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor3State {
															#line 7072 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor3State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endVersion(BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyEndVersion], Unversioned())),
															#line 974 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskFuture(futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]))
															#line 7089 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor3State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 978 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			DRConfig config(task);
															#line 979 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int64_t bytesWritten = Params.bytesWritten().getOrDefault(task);
															#line 980 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			config.logBytesWritten().atomicOp(tr, bytesWritten, MutationRef::AddValue);
															#line 982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (task->params.find(CopyLogRangeTaskFunc::keyNextBeginVersion) != task->params.end())
															#line 7110 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 983 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextVersion = BinaryReader::fromStringRef<Version>( task->params[CopyLogRangeTaskFunc::keyNextBeginVersion], Unversioned());
															#line 985 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_0 = success(CopyLogRangeTaskFunc::addTask( tr, taskBucket, task, nextVersion, endVersion, TaskCompletionKey::signal(taskFuture->key))) && taskBucket->finish(tr, task);
															#line 985 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7118 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
				static_cast<_finishActor3*>(this)->actor_wait_state = 1;
															#line 985 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor3, 0, Void >*>(static_cast<_finishActor3*>(this)));
															#line 7123 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
															#line 989 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_1 = taskFuture->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 989 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1when2(__when_expr_1.get(), loopDepth); };
				static_cast<_finishActor3*>(this)->actor_wait_state = 2;
															#line 989 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor3, 1, Void >*>(static_cast<_finishActor3*>(this)));
															#line 7137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor3State();
		static_cast<_finishActor3*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 992 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor3State(); static_cast<_finishActor3*>(this)->destroy(); return 0; }
															#line 7161 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor3*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor3State();
		static_cast<_finishActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor3*>(this)->actor_wait_state > 0) static_cast<_finishActor3*>(this)->actor_wait_state = 0;
		static_cast<_finishActor3*>(this)->ActorCallback< _finishActor3, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor3, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor3, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor3, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont3(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor3*>(this)->actor_wait_state > 0) static_cast<_finishActor3*>(this)->actor_wait_state = 0;
		static_cast<_finishActor3*>(this)->ActorCallback< _finishActor3, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor3, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor3, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor3, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 974 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> taskFuture;
															#line 983 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version nextVersion;
															#line 7333 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor3 final : public Actor<Void>, public ActorCallback< _finishActor3, 0, Void >, public ActorCallback< _finishActor3, 1, Void >, public FastAllocated<_finishActor3>, public _finishActor3State<_finishActor3> {
															#line 7338 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor3>::operator new;
	using FastAllocated<_finishActor3>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor3, 0, Void >;
friend struct ActorCallback< _finishActor3, 1, Void >;
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor3(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 7350 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor3State<_finishActor3>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor3, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor3, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor3(tr, taskBucket, futureBucket, task));
															#line 7378 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 994 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
};
StringRef CopyLogRangeTaskFunc::name = "dr_copy_log_range"_sr;
const Key CopyLogRangeTaskFunc::keyNextBeginVersion = "nextBeginVersion"_sr;
REGISTER_TASKFUNC(CopyLogRangeTaskFunc);

struct CopyLogsTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 7391 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor4>
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor4State {
															#line 7397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor4State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1007 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid])),
															#line 1010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   states(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 7414 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor4State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1013 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(tr, task, CopyLogsTaskFunc::name, CopyLogsTaskFunc::version);
															#line 1013 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7431 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor4*>(this)->actor_wait_state = 1;
															#line 1013 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 0, Void >*>(static_cast<_finishActor4*>(this)));
															#line 7436 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor4State();
		static_cast<_finishActor4*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		prevBeginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyPrevBeginVersion], Unversioned());
															#line 1019 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fStopValue = tr->get(states.pack(DatabaseBackupAgent::keyCopyStop));
															#line 1020 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fAppliedValue = tr->get(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsBeginRange.begin));
															#line 1023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Transaction srcTr(taskBucket->src);
															#line 1024 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_1 = srcTr.getReadVersion();
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 2;
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 1, Version >*>(static_cast<_finishActor4*>(this)));
															#line 7478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		prevBeginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyPrevBeginVersion], Unversioned());
															#line 1019 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fStopValue = tr->get(states.pack(DatabaseBackupAgent::keyCopyStop));
															#line 1020 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fAppliedValue = tr->get(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsBeginRange.begin));
															#line 1023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Transaction srcTr(taskBucket->src);
															#line 1024 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_1 = srcTr.getReadVersion();
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 2;
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 1, Version >*>(static_cast<_finishActor4*>(this)));
															#line 7506 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor4, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 1027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1029 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endVersion <= beginVersion)
															#line 7580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1030 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_2 = delay(FLOW_KNOBS->PREVENT_FAST_SPIN_DELAY);
															#line 1030 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7586 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
			static_cast<_finishActor4*>(this)->actor_wait_state = 3;
															#line 1030 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 2, Void >*>(static_cast<_finishActor4*>(this)));
															#line 7591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont3(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1when1(Version const& __endVersion,int loopDepth) 
	{
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = __endVersion;
															#line 7605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Version && __endVersion,int loopDepth) 
	{
		endVersion = std::move(__endVersion);
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 1, Version >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 1, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 1, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor4, 1, Version >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 1037 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_5 = fAppliedValue;
															#line 1037 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7674 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont3when1(__when_expr_5.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 6;
															#line 1037 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 5, Optional<Value> >*>(static_cast<_finishActor4*>(this)));
															#line 7679 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4(Void const& _,int loopDepth) 
	{
															#line 1031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = success(CopyLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7690 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont4when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 4;
															#line 1031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 3, Void >*>(static_cast<_finishActor4*>(this)));
															#line 7695 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4(Void && _,int loopDepth) 
	{
															#line 1031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = success(CopyLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7706 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont4when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 4;
															#line 1031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 3, Void >*>(static_cast<_finishActor4*>(this)));
															#line 7711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor4, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
															#line 1033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = taskBucket->finish(tr, task);
															#line 1033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7785 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont5when1(__when_expr_4.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 5;
															#line 1033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 4, Void >*>(static_cast<_finishActor4*>(this)));
															#line 7790 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
															#line 1033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = taskBucket->finish(tr, task);
															#line 1033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont5when1(__when_expr_4.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 5;
															#line 1033 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 4, Void >*>(static_cast<_finishActor4*>(this)));
															#line 7806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont4when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _finishActor4, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont6(Void const& _,int loopDepth) 
	{
															#line 1034 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor4State(); static_cast<_finishActor4*>(this)->destroy(); return 0; }
															#line 7878 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor4State();
		static_cast<_finishActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont6(Void && _,int loopDepth) 
	{
															#line 1034 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor4State(); static_cast<_finishActor4*>(this)->destroy(); return 0; }
															#line 7890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor4State();
		static_cast<_finishActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont5when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont6(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont5when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont6(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _finishActor4, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont8(Optional<Value> const& appliedValue,int loopDepth) 
	{
															#line 1038 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		appliedVersion = appliedValue.present() ? BinaryReader::fromStringRef<Version>(appliedValue.get(), Unversioned()) : 100;
															#line 1041 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		applyVersion = std::max<Version>(appliedVersion, beginVersion - CLIENT_KNOBS->BACKUP_VERSION_DELAY);
															#line 1043 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Subspace krv = conf.get(DatabaseBackupAgent::keyRangeVersions);
															#line 1044 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRange versionRange = KeyRangeRef(krv.pack(0), krv.pack(applyVersion + 1));
															#line 1045 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->addReadConflictRange(versionRange);
															#line 1046 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->addWriteConflictRange(versionRange);
															#line 1047 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsEndRange.begin), BinaryWriter::toValue(applyVersion, Unversioned()));
															#line 1050 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_6 = fStopValue;
															#line 1050 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 7981 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont8when1(__when_expr_6.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 7;
															#line 1050 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 6, Optional<Value> >*>(static_cast<_finishActor4*>(this)));
															#line 7986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont8(Optional<Value> && appliedValue,int loopDepth) 
	{
															#line 1038 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		appliedVersion = appliedValue.present() ? BinaryReader::fromStringRef<Version>(appliedValue.get(), Unversioned()) : 100;
															#line 1041 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		applyVersion = std::max<Version>(appliedVersion, beginVersion - CLIENT_KNOBS->BACKUP_VERSION_DELAY);
															#line 1043 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Subspace krv = conf.get(DatabaseBackupAgent::keyRangeVersions);
															#line 1044 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRange versionRange = KeyRangeRef(krv.pack(0), krv.pack(applyVersion + 1));
															#line 1045 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->addReadConflictRange(versionRange);
															#line 1046 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->addWriteConflictRange(versionRange);
															#line 1047 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsEndRange.begin), BinaryWriter::toValue(applyVersion, Unversioned()));
															#line 1050 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_6 = fStopValue;
															#line 1050 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont8when1(__when_expr_6.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 7;
															#line 1050 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 6, Optional<Value> >*>(static_cast<_finishActor4*>(this)));
															#line 8016 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont3when1(Optional<Value> const& appliedValue,int loopDepth) 
	{
		loopDepth = a_body1cont8(appliedValue, loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(Optional<Value> && appliedValue,int loopDepth) 
	{
		loopDepth = a_body1cont8(std::move(appliedValue), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 5, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 5, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 5, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _finishActor4, 5, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont9(Optional<Value> const& stopValue,int loopDepth) 
	{
															#line 1051 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		stopVersionData = stopValue.present() ? BinaryReader::fromStringRef<Version>(stopValue.get(), Unversioned()) : -1;
															#line 1054 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endVersion - beginVersion > deterministicRandom()->randomInt64(0, CLIENT_KNOBS->BACKUP_VERSION_DELAY))
															#line 8090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_CopyLogs") .detail("BeginVersion", beginVersion) .detail("ApplyVersion", applyVersion) .detail("EndVersion", endVersion) .detail("StopVersionData", stopVersionData) .detail("LogUID", task->params[BackupAgentBase::keyConfigLogUid]);
															#line 8094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1063 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if ((stopVersionData == -1) || (stopVersionData >= applyVersion))
															#line 8098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			allPartsDone = futureBucket->future(tr);
															#line 1065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			std::vector<Future<Key>> addTaskVector;
															#line 1066 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			addTaskVector.push_back(CopyLogsTaskFunc::addTask( tr, taskBucket, task, beginVersion, endVersion, TaskCompletionKey::signal(onDone), allPartsDone));
															#line 1068 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int blockSize = std::max<int>( 1, ((endVersion - beginVersion) / CLIENT_KNOBS->BACKUP_COPY_TASKS) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1070 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int64_t vblock = beginVersion / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock < (endVersion + CLIENT_KNOBS->BACKUP_BLOCK_SIZE - 1) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock += blockSize) {
															#line 1073 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(CopyLogRangeTaskFunc::addTask( tr, taskBucket, task, std::max(beginVersion, vblock * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), std::min(endVersion, (vblock + blockSize) * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), TaskCompletionKey::joinWith(allPartsDone)));
															#line 8112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (prevBeginVersion > 0)
															#line 8116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1084 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(EraseLogRangeTaskFunc::addTask( tr, taskBucket, task, beginVersion, TaskCompletionKey::joinWith(allPartsDone)));
															#line 8120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = waitForAll(addTaskVector) && taskBucket->finish(tr, task);
															#line 1088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont9when1(__when_expr_7.get(), loopDepth); };
			static_cast<_finishActor4*>(this)->actor_wait_state = 8;
															#line 1088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 7, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (appliedVersion < applyVersion)
															#line 8138 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_8 = delay(FLOW_KNOBS->PREVENT_FAST_SPIN_DELAY);
															#line 1091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8144 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont9when2(__when_expr_8.get(), loopDepth); };
				static_cast<_finishActor4*>(this)->actor_wait_state = 9;
															#line 1091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 8, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8149 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
				loopDepth = a_body1cont15(loopDepth);
			}
		}

		return loopDepth;
	}
	int a_body1cont9(Optional<Value> && stopValue,int loopDepth) 
	{
															#line 1051 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		stopVersionData = stopValue.present() ? BinaryReader::fromStringRef<Version>(stopValue.get(), Unversioned()) : -1;
															#line 1054 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endVersion - beginVersion > deterministicRandom()->randomInt64(0, CLIENT_KNOBS->BACKUP_VERSION_DELAY))
															#line 8166 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_CopyLogs") .detail("BeginVersion", beginVersion) .detail("ApplyVersion", applyVersion) .detail("EndVersion", endVersion) .detail("StopVersionData", stopVersionData) .detail("LogUID", task->params[BackupAgentBase::keyConfigLogUid]);
															#line 8170 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1063 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if ((stopVersionData == -1) || (stopVersionData >= applyVersion))
															#line 8174 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			allPartsDone = futureBucket->future(tr);
															#line 1065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			std::vector<Future<Key>> addTaskVector;
															#line 1066 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			addTaskVector.push_back(CopyLogsTaskFunc::addTask( tr, taskBucket, task, beginVersion, endVersion, TaskCompletionKey::signal(onDone), allPartsDone));
															#line 1068 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int blockSize = std::max<int>( 1, ((endVersion - beginVersion) / CLIENT_KNOBS->BACKUP_COPY_TASKS) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1070 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int64_t vblock = beginVersion / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock < (endVersion + CLIENT_KNOBS->BACKUP_BLOCK_SIZE - 1) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock += blockSize) {
															#line 1073 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(CopyLogRangeTaskFunc::addTask( tr, taskBucket, task, std::max(beginVersion, vblock * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), std::min(endVersion, (vblock + blockSize) * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), TaskCompletionKey::joinWith(allPartsDone)));
															#line 8188 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (prevBeginVersion > 0)
															#line 8192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1084 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(EraseLogRangeTaskFunc::addTask( tr, taskBucket, task, beginVersion, TaskCompletionKey::joinWith(allPartsDone)));
															#line 8196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = waitForAll(addTaskVector) && taskBucket->finish(tr, task);
															#line 1088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont9when1(__when_expr_7.get(), loopDepth); };
			static_cast<_finishActor4*>(this)->actor_wait_state = 8;
															#line 1088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 7, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8207 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (appliedVersion < applyVersion)
															#line 8214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_8 = delay(FLOW_KNOBS->PREVENT_FAST_SPIN_DELAY);
															#line 1091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8220 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont9when2(__when_expr_8.get(), loopDepth); };
				static_cast<_finishActor4*>(this)->actor_wait_state = 9;
															#line 1091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 8, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8225 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
				loopDepth = a_body1cont15(loopDepth);
			}
		}

		return loopDepth;
	}
	int a_body1cont8when1(Optional<Value> const& stopValue,int loopDepth) 
	{
		loopDepth = a_body1cont9(stopValue, loopDepth);

		return loopDepth;
	}
	int a_body1cont8when1(Optional<Value> && stopValue,int loopDepth) 
	{
		loopDepth = a_body1cont9(std::move(stopValue), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 6, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 6, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 6, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _finishActor4, 6, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont10(int loopDepth) 
	{
															#line 1102 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor4State(); static_cast<_finishActor4*>(this)->destroy(); return 0; }
															#line 8303 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor4State();
		static_cast<_finishActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont12(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont10(loopDepth);

		return loopDepth;
	}
	int a_body1cont12(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont10(loopDepth);

		return loopDepth;
	}
	int a_body1cont9when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont12(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont9when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont12(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont9when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont9when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< _finishActor4, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1cont15(int loopDepth) 
	{
															#line 1098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_11 = onDone->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 1098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8392 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1cont15when1(__when_expr_11.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 12;
															#line 1098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 11, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont16(Void const& _,int loopDepth) 
	{
															#line 1092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_9 = success(CopyLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8408 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1cont16when1(__when_expr_9.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 10;
															#line 1092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 9, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8413 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont16(Void && _,int loopDepth) 
	{
															#line 1092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_9 = success(CopyLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8424 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1cont16when1(__when_expr_9.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 10;
															#line 1092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 9, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8429 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont9when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont9when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 8, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 8, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont9when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 8, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont9when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< _finishActor4, 8, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 8);

	}
	int a_body1cont16cont1(Void const& _,int loopDepth) 
	{
															#line 1094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_10 = taskBucket->finish(tr, task);
															#line 1094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8503 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont16cont1when1(__when_expr_10.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 11;
															#line 1094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 10, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont16cont1(Void && _,int loopDepth) 
	{
															#line 1094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_10 = taskBucket->finish(tr, task);
															#line 1094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8519 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont16cont1when1(__when_expr_10.get(), loopDepth); };
		static_cast<_finishActor4*>(this)->actor_wait_state = 11;
															#line 1094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< _finishActor4, 10, Void >*>(static_cast<_finishActor4*>(this)));
															#line 8524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont16when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont16when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose10() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 9, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 9, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont16when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 9, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont16when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_error(ActorCallback< _finishActor4, 9, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 9);

	}
	int a_body1cont16cont2(Void const& _,int loopDepth) 
	{
															#line 1095 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor4State(); static_cast<_finishActor4*>(this)->destroy(); return 0; }
															#line 8596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor4State();
		static_cast<_finishActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont16cont2(Void && _,int loopDepth) 
	{
															#line 1095 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor4State(); static_cast<_finishActor4*>(this)->destroy(); return 0; }
															#line 8608 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor4State();
		static_cast<_finishActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont16cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose11() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 10, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 10, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont16cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 10, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont16cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_error(ActorCallback< _finishActor4, 10, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 10);

	}
	int a_body1cont15cont1(Void const& _,int loopDepth) 
	{
															#line 1099 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(states.pack(DatabaseBackupAgent::keyStateStop), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 8683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont10(loopDepth);

		return loopDepth;
	}
	int a_body1cont15cont1(Void && _,int loopDepth) 
	{
															#line 1099 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(states.pack(DatabaseBackupAgent::keyStateStop), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 8692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont10(loopDepth);

		return loopDepth;
	}
	int a_body1cont15when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont15cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont15when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont15cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose12() 
	{
		if (static_cast<_finishActor4*>(this)->actor_wait_state > 0) static_cast<_finishActor4*>(this)->actor_wait_state = 0;
		static_cast<_finishActor4*>(this)->ActorCallback< _finishActor4, 11, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor4, 11, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont15when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_fire(ActorCallback< _finishActor4, 11, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont15when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_error(ActorCallback< _finishActor4, 11, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 11);

	}
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1007 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 1010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace states;
															#line 1015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 1017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version prevBeginVersion;
															#line 1019 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fStopValue;
															#line 1020 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fAppliedValue;
															#line 1025 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 1027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> onDone;
															#line 1038 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version appliedVersion;
															#line 1041 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version applyVersion;
															#line 1051 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version stopVersionData;
															#line 1064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> allPartsDone;
															#line 8792 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor4 final : public Actor<Void>, public ActorCallback< _finishActor4, 0, Void >, public ActorCallback< _finishActor4, 1, Version >, public ActorCallback< _finishActor4, 2, Void >, public ActorCallback< _finishActor4, 3, Void >, public ActorCallback< _finishActor4, 4, Void >, public ActorCallback< _finishActor4, 5, Optional<Value> >, public ActorCallback< _finishActor4, 6, Optional<Value> >, public ActorCallback< _finishActor4, 7, Void >, public ActorCallback< _finishActor4, 8, Void >, public ActorCallback< _finishActor4, 9, Void >, public ActorCallback< _finishActor4, 10, Void >, public ActorCallback< _finishActor4, 11, Void >, public FastAllocated<_finishActor4>, public _finishActor4State<_finishActor4> {
															#line 8797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor4>::operator new;
	using FastAllocated<_finishActor4>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor4, 0, Void >;
friend struct ActorCallback< _finishActor4, 1, Version >;
friend struct ActorCallback< _finishActor4, 2, Void >;
friend struct ActorCallback< _finishActor4, 3, Void >;
friend struct ActorCallback< _finishActor4, 4, Void >;
friend struct ActorCallback< _finishActor4, 5, Optional<Value> >;
friend struct ActorCallback< _finishActor4, 6, Optional<Value> >;
friend struct ActorCallback< _finishActor4, 7, Void >;
friend struct ActorCallback< _finishActor4, 8, Void >;
friend struct ActorCallback< _finishActor4, 9, Void >;
friend struct ActorCallback< _finishActor4, 10, Void >;
friend struct ActorCallback< _finishActor4, 11, Void >;
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor4(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 8819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor4State<_finishActor4>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor4, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor4, 1, Version >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor4, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _finishActor4, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _finishActor4, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _finishActor4, 5, Optional<Value> >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _finishActor4, 6, Optional<Value> >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< _finishActor4, 7, Void >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< _finishActor4, 8, Void >*)0, actor_cancelled()); break;
		case 10: this->a_callback_error((ActorCallback< _finishActor4, 9, Void >*)0, actor_cancelled()); break;
		case 11: this->a_callback_error((ActorCallback< _finishActor4, 10, Void >*)0, actor_cancelled()); break;
		case 12: this->a_callback_error((ActorCallback< _finishActor4, 11, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor4(tr, taskBucket, futureBucket, task));
															#line 8857 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1104 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 8862 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor4>
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor4State {
															#line 8868 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor4State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& prevBeginVersion,Version const& beginVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   prevBeginVersion(prevBeginVersion),
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   beginVersion(beginVersion),
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 8887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor4State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 1112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor4*>(this)->actor_wait_state = 1;
															#line 1112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor4, 0, Key >*>(static_cast<AddTaskActor4*>(this)));
															#line 8909 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor4State();
		static_cast<AddTaskActor4*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 1113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(CopyLogsTaskFunc::name, CopyLogsTaskFunc::version, doneKey, 1);
															#line 1115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 1117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyPrevBeginVersion] = BinaryWriter::toValue(prevBeginVersion, Unversioned());
															#line 1119 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 8940 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor4*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor4State(); static_cast<AddTaskActor4*>(this)->destroy(); return 0; }
															#line 8944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor4*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor4State();
			static_cast<AddTaskActor4*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8954 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor4*>(this)->actor_wait_state = 2;
															#line 1126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor4, 1, Void >*>(static_cast<AddTaskActor4*>(this)));
															#line 8959 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 1113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(CopyLogsTaskFunc::name, CopyLogsTaskFunc::version, doneKey, 1);
															#line 1115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 1117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyPrevBeginVersion] = BinaryWriter::toValue(prevBeginVersion, Unversioned());
															#line 1119 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 8976 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor4*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor4State(); static_cast<AddTaskActor4*>(this)->destroy(); return 0; }
															#line 8980 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor4*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor4State();
			static_cast<AddTaskActor4*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 8990 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor4*>(this)->actor_wait_state = 2;
															#line 1126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor4, 1, Void >*>(static_cast<AddTaskActor4*>(this)));
															#line 8995 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor4*>(this)->actor_wait_state > 0) static_cast<AddTaskActor4*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor4*>(this)->ActorCallback< AddTaskActor4, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor4, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor4, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor4, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor4*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor4State(); static_cast<AddTaskActor4*>(this)->destroy(); return 0; }
															#line 9067 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor4*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor4State();
		static_cast<AddTaskActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor4*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor4State(); static_cast<AddTaskActor4*>(this)->destroy(); return 0; }
															#line 9079 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor4*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor4State();
		static_cast<AddTaskActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor4*>(this)->actor_wait_state > 0) static_cast<AddTaskActor4*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor4*>(this)->ActorCallback< AddTaskActor4, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor4, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor4, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor4, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version prevBeginVersion;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 9164 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor4 final : public Actor<Key>, public ActorCallback< AddTaskActor4, 0, Key >, public ActorCallback< AddTaskActor4, 1, Void >, public FastAllocated<AddTaskActor4>, public AddTaskActor4State<AddTaskActor4> {
															#line 9169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor4>::operator new;
	using FastAllocated<AddTaskActor4>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor4, 0, Key >;
friend struct ActorCallback< AddTaskActor4, 1, Void >;
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor4(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& prevBeginVersion,Version const& beginVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 9181 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor4State<AddTaskActor4>(tr, taskBucket, parentTask, prevBeginVersion, beginVersion, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor4, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor4, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, Version const& prevBeginVersion, Version const& beginVersion, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 1105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor4(tr, taskBucket, parentTask, prevBeginVersion, beginVersion, completionKey, waitFor));
															#line 9209 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1133 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return Void();
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef CopyLogsTaskFunc::name = "dr_copy_logs"_sr;
REGISTER_TASKFUNC(CopyLogsTaskFunc);

struct FinishedFullBackupTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;
	static const Key keyInsertTask;

	StringRef getName() const override { return name; };

																#line 9239 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor3>
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor3State {
															#line 9245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor3State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1163 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   sourceStates(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keySourceStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 9260 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor3State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, FinishedFullBackupTaskFunc::name, FinishedFullBackupTaskFunc::version);
															#line 1167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 9277 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 1;
															#line 1167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 0, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9282 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor3State();
		static_cast<_executeActor3*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr2 = Transaction(cx);
															#line 1170 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 9307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr2 = Transaction(cx);
															#line 1170 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 9318 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor3, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 1194 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 1195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUidValue = task->params[DatabaseBackupAgent::keyConfigLogUid];
															#line 1196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destUidValue = task->params[BackupAgentBase::destUid];
															#line 1197 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupUid = BinaryReader::fromStringRef<Version>(task->params[BackupAgentBase::keyFolderId], Unversioned());
															#line 1200 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 9398 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
		try {
															#line 1172 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr2.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_1 = tr2.get(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsBeginRange.begin));
															#line 1173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9419 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 2;
															#line 1173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 1, Optional<Value> >*>(static_cast<_executeActor3*>(this)));
															#line 9424 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1break1(int loopDepth) 
	{
		try {
			return a_body1cont2(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = tr2.onError(e);
															#line 1190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 9461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 5;
															#line 1190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 4, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9466 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Optional<Value> const& beginValue,int loopDepth) 
	{
															#line 1175 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		appliedVersion = beginValue.present() ? BinaryReader::fromStringRef<Version>(beginValue.get(), Unversioned()) : -1;
															#line 1177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_2 = tr2.get(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsEndRange.begin));
															#line 1177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9485 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor3*>(this)->actor_wait_state = 3;
															#line 1177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 2, Optional<Value> >*>(static_cast<_executeActor3*>(this)));
															#line 9490 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Optional<Value> && beginValue,int loopDepth) 
	{
															#line 1175 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		appliedVersion = beginValue.present() ? BinaryReader::fromStringRef<Version>(beginValue.get(), Unversioned()) : -1;
															#line 1177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_2 = tr2.get(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsEndRange.begin));
															#line 1177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9503 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor3*>(this)->actor_wait_state = 3;
															#line 1177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 2, Optional<Value> >*>(static_cast<_executeActor3*>(this)));
															#line 9508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Value> const& beginValue,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(beginValue, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Value> && beginValue,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(std::move(beginValue), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 1, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 1, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 1, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor3, 1, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont3(Optional<Value> const& endValue,int loopDepth) 
	{
															#line 1179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version endVersion = endValue.present() ? BinaryReader::fromStringRef<Version>(endValue.get(), Unversioned()) : -1;
															#line 1183 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (appliedVersion < endVersion)
															#line 9582 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = delay(FLOW_KNOBS->PREVENT_FAST_SPIN_DELAY);
															#line 1184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9588 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 4;
															#line 1184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 3, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont1loopBody1cont4(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Optional<Value> && endValue,int loopDepth) 
	{
															#line 1179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version endVersion = endValue.present() ? BinaryReader::fromStringRef<Version>(endValue.get(), Unversioned()) : -1;
															#line 1183 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (appliedVersion < endVersion)
															#line 9609 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = delay(FLOW_KNOBS->PREVENT_FAST_SPIN_DELAY);
															#line 1184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9615 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 4;
															#line 1184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 3, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9620 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont1loopBody1cont4(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Optional<Value> const& endValue,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(endValue, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Optional<Value> && endValue,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(endValue), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 2, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 2, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 2, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _executeActor3, 2, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1cont4(int loopDepth) 
	{
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont5(Void const& _,int loopDepth) 
	{
															#line 1185 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[FinishedFullBackupTaskFunc::keyInsertTask] = StringRef();
															#line 1186 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor3State(); static_cast<_executeActor3*>(this)->destroy(); return 0; }
															#line 9705 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor3*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor3State();
		static_cast<_executeActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont5(Void && _,int loopDepth) 
	{
															#line 1185 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[FinishedFullBackupTaskFunc::keyInsertTask] = StringRef();
															#line 1186 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor3State(); static_cast<_executeActor3*>(this)->destroy(); return 0; }
															#line 9719 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor3*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor3State();
		static_cast<_executeActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _executeActor3, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _executeActor3, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1(int loopDepth) 
	{
		try {
															#line 1202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 1203 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_5 = tr->get(sourceStates.pack(DatabaseBackupAgent::keyFolderId));
															#line 1204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1cont2loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont2loopBody1when1(__when_expr_5.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 6;
															#line 1204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 5, Optional<Value> >*>(static_cast<_executeActor3*>(this)));
															#line 9888 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont2loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont2loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_8 = tr->onError(e);
															#line 1214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 9912 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1Catch1(__when_expr_8.getError(), std::max(0, loopDepth - 1)); else return a_body1cont2loopBody1Catch1when1(__when_expr_8.get(), loopDepth); };
			static_cast<_executeActor3*>(this)->actor_wait_state = 9;
															#line 1214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 8, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9917 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(Optional<Value> const& v,int loopDepth) 
	{
															#line 1205 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present() && BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) > BinaryReader::fromStringRef<Version>( task->params[DatabaseBackupAgent::keyFolderId], Unversioned()))
															#line 9932 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor3State(); static_cast<_executeActor3*>(this)->destroy(); return 0; }
															#line 9936 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor3*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor3State();
			static_cast<_executeActor3*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = eraseLogData(tr, logUidValue, destUidValue, Optional<Version>(), CheckBackupUID::True, backupUid);
															#line 1210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9946 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont2loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_6.get(), loopDepth); };
		static_cast<_executeActor3*>(this)->actor_wait_state = 7;
															#line 1210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 6, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9951 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(Optional<Value> && v,int loopDepth) 
	{
															#line 1205 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present() && BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) > BinaryReader::fromStringRef<Version>( task->params[DatabaseBackupAgent::keyFolderId], Unversioned()))
															#line 9960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor3State(); static_cast<_executeActor3*>(this)->destroy(); return 0; }
															#line 9964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor3*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor3State();
			static_cast<_executeActor3*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = eraseLogData(tr, logUidValue, destUidValue, Optional<Version>(), CheckBackupUID::True, backupUid);
															#line 1210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 9974 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont2loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_6.get(), loopDepth); };
		static_cast<_executeActor3*>(this)->actor_wait_state = 7;
															#line 1210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 6, Void >*>(static_cast<_executeActor3*>(this)));
															#line 9979 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Optional<Value> const& v,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont2(v, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Optional<Value> && v,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont2(std::move(v), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 5, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 5, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 5, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _executeActor3, 5, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont2loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 1211 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_7 = tr->commit();
															#line 1211 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 10053 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1cont2loopBody1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_7.get(), loopDepth); };
		static_cast<_executeActor3*>(this)->actor_wait_state = 8;
															#line 1211 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 7, Void >*>(static_cast<_executeActor3*>(this)));
															#line 10058 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 1211 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_7 = tr->commit();
															#line 1211 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor3*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 10069 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1cont2loopBody1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_7.get(), loopDepth); };
		static_cast<_executeActor3*>(this)->actor_wait_state = 8;
															#line 1211 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _executeActor3, 7, Void >*>(static_cast<_executeActor3*>(this)));
															#line 10074 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _executeActor3, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont2loopBody1cont5(Void const& _,int loopDepth) 
	{
															#line 1212 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor3State(); static_cast<_executeActor3*>(this)->destroy(); return 0; }
															#line 10146 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor3*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor3State();
		static_cast<_executeActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont5(Void && _,int loopDepth) 
	{
															#line 1212 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor3*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor3State(); static_cast<_executeActor3*>(this)->destroy(); return 0; }
															#line 10158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor3*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor3State();
		static_cast<_executeActor3*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< _executeActor3, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1cont2loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<_executeActor3*>(this)->actor_wait_state > 0) static_cast<_executeActor3*>(this)->actor_wait_state = 0;
		static_cast<_executeActor3*>(this)->ActorCallback< _executeActor3, 8, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor3, 8, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< _executeActor3, 8, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< _executeActor3, 8, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1163 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace sourceStates;
															#line 1169 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Transaction tr2;
															#line 1175 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version appliedVersion;
															#line 1194 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue;
															#line 1196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key destUidValue;
															#line 1197 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version backupUid;
															#line 10326 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor3 final : public Actor<Void>, public ActorCallback< _executeActor3, 0, Void >, public ActorCallback< _executeActor3, 1, Optional<Value> >, public ActorCallback< _executeActor3, 2, Optional<Value> >, public ActorCallback< _executeActor3, 3, Void >, public ActorCallback< _executeActor3, 4, Void >, public ActorCallback< _executeActor3, 5, Optional<Value> >, public ActorCallback< _executeActor3, 6, Void >, public ActorCallback< _executeActor3, 7, Void >, public ActorCallback< _executeActor3, 8, Void >, public FastAllocated<_executeActor3>, public _executeActor3State<_executeActor3> {
															#line 10331 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor3>::operator new;
	using FastAllocated<_executeActor3>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor3, 0, Void >;
friend struct ActorCallback< _executeActor3, 1, Optional<Value> >;
friend struct ActorCallback< _executeActor3, 2, Optional<Value> >;
friend struct ActorCallback< _executeActor3, 3, Void >;
friend struct ActorCallback< _executeActor3, 4, Void >;
friend struct ActorCallback< _executeActor3, 5, Optional<Value> >;
friend struct ActorCallback< _executeActor3, 6, Void >;
friend struct ActorCallback< _executeActor3, 7, Void >;
friend struct ActorCallback< _executeActor3, 8, Void >;
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor3(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 10350 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor3State<_executeActor3>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor3, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor3, 1, Optional<Value> >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _executeActor3, 2, Optional<Value> >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _executeActor3, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _executeActor3, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _executeActor3, 5, Optional<Value> >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _executeActor3, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< _executeActor3, 7, Void >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< _executeActor3, 8, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor3(cx, taskBucket, futureBucket, task));
															#line 10385 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1218 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 10390 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor5>
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor5State {
															#line 10396 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor5State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 10411 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor5State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 1224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor5*>(this)->actor_wait_state = 1;
															#line 1224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor5, 0, Key >*>(static_cast<AddTaskActor5*>(this)));
															#line 10433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor5State();
		static_cast<AddTaskActor5*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 1225 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(FinishedFullBackupTaskFunc::name, FinishedFullBackupTaskFunc::version, doneKey);
															#line 1227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1229 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 10460 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1230 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor5*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor5State(); static_cast<AddTaskActor5*>(this)->destroy(); return 0; }
															#line 10464 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor5*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor5State();
			static_cast<AddTaskActor5*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10474 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor5*>(this)->actor_wait_state = 2;
															#line 1236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor5, 1, Void >*>(static_cast<AddTaskActor5*>(this)));
															#line 10479 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 1225 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(FinishedFullBackupTaskFunc::name, FinishedFullBackupTaskFunc::version, doneKey);
															#line 1227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1229 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 10492 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1230 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor5*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor5State(); static_cast<AddTaskActor5*>(this)->destroy(); return 0; }
															#line 10496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor5*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor5State();
			static_cast<AddTaskActor5*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10506 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor5*>(this)->actor_wait_state = 2;
															#line 1236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor5, 1, Void >*>(static_cast<AddTaskActor5*>(this)));
															#line 10511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor5*>(this)->actor_wait_state > 0) static_cast<AddTaskActor5*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor5*>(this)->ActorCallback< AddTaskActor5, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor5, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor5, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor5, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1241 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor5*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor5State(); static_cast<AddTaskActor5*>(this)->destroy(); return 0; }
															#line 10583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor5*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor5State();
		static_cast<AddTaskActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1241 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor5*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor5State(); static_cast<AddTaskActor5*>(this)->destroy(); return 0; }
															#line 10595 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor5*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor5State();
		static_cast<AddTaskActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor5*>(this)->actor_wait_state > 0) static_cast<AddTaskActor5*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor5*>(this)->ActorCallback< AddTaskActor5, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor5, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor5, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor5, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 10676 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor5 final : public Actor<Key>, public ActorCallback< AddTaskActor5, 0, Key >, public ActorCallback< AddTaskActor5, 1, Void >, public FastAllocated<AddTaskActor5>, public AddTaskActor5State<AddTaskActor5> {
															#line 10681 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor5>::operator new;
	using FastAllocated<AddTaskActor5>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor5, 0, Key >;
friend struct ActorCallback< AddTaskActor5, 1, Void >;
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor5(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 10693 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor5State<AddTaskActor5>(tr, taskBucket, parentTask, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor5, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor5, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 1219 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor5(tr, taskBucket, parentTask, completionKey, waitFor));
															#line 10721 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1243 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 10726 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor5>
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor5State {
															#line 10732 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor5State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid])),
															#line 1251 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   states(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 10749 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor5State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1255 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (task->params.find(FinishedFullBackupTaskFunc::keyInsertTask) != task->params.end())
															#line 10764 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1256 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1257 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_0 = success(FinishedFullBackupTaskFunc::addTask(tr, taskBucket, task, TaskCompletionKey::signal(onDone)));
															#line 1257 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10772 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
				static_cast<_finishActor5*>(this)->actor_wait_state = 1;
															#line 1257 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor5, 0, Void >*>(static_cast<_finishActor5*>(this)));
															#line 10777 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
				loopDepth = a_body1cont1(loopDepth);
			}
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor5State();
		static_cast<_finishActor5*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 1262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::COMMIT_ON_FIRST_PROXY);
															#line 1263 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		UID logUid = BinaryReader::fromStringRef<UID>(task->params[DatabaseBackupAgent::keyConfigLogUid], Unversioned());
															#line 1265 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Key logsPath = uidPrefixKey(applyLogKeys.begin, logUid);
															#line 1266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(KeyRangeRef(logsPath, strinc(logsPath)));
															#line 1268 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(conf.range());
															#line 1269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(states.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_COMPLETED)));
															#line 1272 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = taskBucket->finish(tr, task);
															#line 1272 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1when1(__when_expr_2.get(), loopDepth); };
		static_cast<_finishActor5*>(this)->actor_wait_state = 3;
															#line 1272 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor5, 2, Void >*>(static_cast<_finishActor5*>(this)));
															#line 10824 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = taskBucket->finish(tr, task);
															#line 1258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10835 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont2when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor5*>(this)->actor_wait_state = 2;
															#line 1258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor5, 1, Void >*>(static_cast<_finishActor5*>(this)));
															#line 10840 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = taskBucket->finish(tr, task);
															#line 1258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 10851 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont2when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor5*>(this)->actor_wait_state = 2;
															#line 1258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor5, 1, Void >*>(static_cast<_finishActor5*>(this)));
															#line 10856 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor5*>(this)->actor_wait_state > 0) static_cast<_finishActor5*>(this)->actor_wait_state = 0;
		static_cast<_finishActor5*>(this)->ActorCallback< _finishActor5, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor5, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor5, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor5, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont3(Void const& _,int loopDepth) 
	{
															#line 1259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor5State(); static_cast<_finishActor5*>(this)->destroy(); return 0; }
															#line 10928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor5*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor5State();
		static_cast<_finishActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont3(Void && _,int loopDepth) 
	{
															#line 1259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor5State(); static_cast<_finishActor5*>(this)->destroy(); return 0; }
															#line 10940 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor5*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor5State();
		static_cast<_finishActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor5*>(this)->actor_wait_state > 0) static_cast<_finishActor5*>(this)->actor_wait_state = 0;
		static_cast<_finishActor5*>(this)->ActorCallback< _finishActor5, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor5, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor5, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor5, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
															#line 1273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor5State(); static_cast<_finishActor5*>(this)->destroy(); return 0; }
															#line 11015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor5*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor5State();
		static_cast<_finishActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
															#line 1273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor5State(); static_cast<_finishActor5*>(this)->destroy(); return 0; }
															#line 11027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor5*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor5State();
		static_cast<_finishActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor5*>(this)->actor_wait_state > 0) static_cast<_finishActor5*>(this)->actor_wait_state = 0;
		static_cast<_finishActor5*>(this)->ActorCallback< _finishActor5, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor5, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor5, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor5, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 1251 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace states;
															#line 1256 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> onDone;
															#line 11112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor5 final : public Actor<Void>, public ActorCallback< _finishActor5, 0, Void >, public ActorCallback< _finishActor5, 1, Void >, public ActorCallback< _finishActor5, 2, Void >, public FastAllocated<_finishActor5>, public _finishActor5State<_finishActor5> {
															#line 11117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor5>::operator new;
	using FastAllocated<_finishActor5>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor5, 0, Void >;
friend struct ActorCallback< _finishActor5, 1, Void >;
friend struct ActorCallback< _finishActor5, 2, Void >;
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor5(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 11130 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor5State<_finishActor5>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor5, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor5, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor5, 2, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor5(tr, taskBucket, futureBucket, task));
															#line 11159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1275 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef FinishedFullBackupTaskFunc::name = "dr_finished_full_backup"_sr;
const Key FinishedFullBackupTaskFunc::keyInsertTask = "insertTask"_sr;
REGISTER_TASKFUNC(FinishedFullBackupTaskFunc);

struct CopyDiffLogsTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 11185 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor6>
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor6State {
															#line 11191 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor6State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1301 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid])),
															#line 1304 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   states(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 11208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor6State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(tr, task, CopyDiffLogsTaskFunc::name, CopyDiffLogsTaskFunc::version);
															#line 1307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11225 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor6*>(this)->actor_wait_state = 1;
															#line 1307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 0, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11230 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor6State();
		static_cast<_finishActor6*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1309 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1311 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		prevBeginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyPrevBeginVersion], Unversioned());
															#line 1313 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fStopWhenDone = tr->get(conf.pack(DatabaseBackupAgent::keyConfigStopWhenDoneKey));
															#line 1315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Transaction srcTr(taskBucket->src);
															#line 1316 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_1 = srcTr.getReadVersion();
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11265 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 2;
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 1, Version >*>(static_cast<_finishActor6*>(this)));
															#line 11270 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1309 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1311 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		prevBeginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyPrevBeginVersion], Unversioned());
															#line 1313 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fStopWhenDone = tr->get(conf.pack(DatabaseBackupAgent::keyConfigStopWhenDoneKey));
															#line 1315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Transaction srcTr(taskBucket->src);
															#line 1316 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_1 = srcTr.getReadVersion();
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11291 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 2;
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 1, Version >*>(static_cast<_finishActor6*>(this)));
															#line 11296 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor6, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 1319 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1321 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endVersion <= beginVersion)
															#line 11370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1322 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_2 = delay(FLOW_KNOBS->PREVENT_FAST_SPIN_DELAY);
															#line 1322 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11376 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
			static_cast<_finishActor6*>(this)->actor_wait_state = 3;
															#line 1322 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 2, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11381 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont3(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1when1(Version const& __endVersion,int loopDepth) 
	{
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = __endVersion;
															#line 11395 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Version && __endVersion,int loopDepth) 
	{
		endVersion = std::move(__endVersion);
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 1, Version >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 1, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 1, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor6, 1, Version >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 1329 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(task->params[BackupAgentBase::keyConfigLogUid].withPrefix(applyMutationsEndRange.begin), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 1331 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_5 = fStopWhenDone;
															#line 1331 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11466 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont3when1(__when_expr_5.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 6;
															#line 1331 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 5, Optional<Value> >*>(static_cast<_finishActor6*>(this)));
															#line 11471 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4(Void const& _,int loopDepth) 
	{
															#line 1323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = success(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont4when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 4;
															#line 1323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 3, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11487 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4(Void && _,int loopDepth) 
	{
															#line 1323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = success(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11498 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont4when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 4;
															#line 1323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 3, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11503 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor6, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
															#line 1325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = taskBucket->finish(tr, task);
															#line 1325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont5when1(__when_expr_4.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 5;
															#line 1325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 4, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11582 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
															#line 1325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = taskBucket->finish(tr, task);
															#line 1325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont5when1(__when_expr_4.get(), loopDepth); };
		static_cast<_finishActor6*>(this)->actor_wait_state = 5;
															#line 1325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 4, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11598 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont4when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _finishActor6, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont6(Void const& _,int loopDepth) 
	{
															#line 1326 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor6State(); static_cast<_finishActor6*>(this)->destroy(); return 0; }
															#line 11670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor6*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor6State();
		static_cast<_finishActor6*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont6(Void && _,int loopDepth) 
	{
															#line 1326 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor6State(); static_cast<_finishActor6*>(this)->destroy(); return 0; }
															#line 11682 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor6*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor6State();
		static_cast<_finishActor6*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont5when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont6(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont5when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont6(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _finishActor6, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont8(Optional<Value> const& stopWhenDone,int loopDepth) 
	{
															#line 1333 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endVersion - beginVersion > deterministicRandom()->randomInt64(0, CLIENT_KNOBS->BACKUP_VERSION_DELAY))
															#line 11757 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1334 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_CopyDiffLogs") .detail("BeginVersion", beginVersion) .detail("EndVersion", endVersion) .detail("LogUID", task->params[BackupAgentBase::keyConfigLogUid]);
															#line 11761 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1341 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(StringRef(states.pack(DatabaseBackupAgent::keyStateLogBeginVersion)), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 1344 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!stopWhenDone.present())
															#line 11767 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			allPartsDone = futureBucket->future(tr);
															#line 1346 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			std::vector<Future<Key>> addTaskVector;
															#line 1347 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			addTaskVector.push_back(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, beginVersion, endVersion, TaskCompletionKey::signal(onDone), allPartsDone));
															#line 1349 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int blockSize = std::max<int>( 1, ((endVersion - beginVersion) / CLIENT_KNOBS->BACKUP_COPY_TASKS) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1351 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int64_t vblock = beginVersion / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock < (endVersion + CLIENT_KNOBS->BACKUP_BLOCK_SIZE - 1) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock += blockSize) {
															#line 1354 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(CopyLogRangeTaskFunc::addTask( tr, taskBucket, task, std::max(beginVersion, vblock * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), std::min(endVersion, (vblock + blockSize) * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), TaskCompletionKey::joinWith(allPartsDone)));
															#line 11781 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1363 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (prevBeginVersion > 0)
															#line 11785 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1364 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(EraseLogRangeTaskFunc::addTask( tr, taskBucket, task, beginVersion, TaskCompletionKey::joinWith(allPartsDone)));
															#line 11789 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1368 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = waitForAll(addTaskVector) && taskBucket->finish(tr, task);
															#line 1368 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11795 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont8when1(__when_expr_6.get(), loopDepth); };
			static_cast<_finishActor6*>(this)->actor_wait_state = 7;
															#line 1368 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 6, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11800 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = onDone->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 1370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11809 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont8when2(__when_expr_7.get(), loopDepth); };
			static_cast<_finishActor6*>(this)->actor_wait_state = 8;
															#line 1370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 7, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1cont8(Optional<Value> && stopWhenDone,int loopDepth) 
	{
															#line 1333 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (endVersion - beginVersion > deterministicRandom()->randomInt64(0, CLIENT_KNOBS->BACKUP_VERSION_DELAY))
															#line 11824 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1334 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_CopyDiffLogs") .detail("BeginVersion", beginVersion) .detail("EndVersion", endVersion) .detail("LogUID", task->params[BackupAgentBase::keyConfigLogUid]);
															#line 11828 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1341 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(StringRef(states.pack(DatabaseBackupAgent::keyStateLogBeginVersion)), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 1344 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!stopWhenDone.present())
															#line 11834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			allPartsDone = futureBucket->future(tr);
															#line 1346 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			std::vector<Future<Key>> addTaskVector;
															#line 1347 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			addTaskVector.push_back(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, beginVersion, endVersion, TaskCompletionKey::signal(onDone), allPartsDone));
															#line 1349 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int blockSize = std::max<int>( 1, ((endVersion - beginVersion) / CLIENT_KNOBS->BACKUP_COPY_TASKS) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1351 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for(int64_t vblock = beginVersion / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock < (endVersion + CLIENT_KNOBS->BACKUP_BLOCK_SIZE - 1) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE;vblock += blockSize) {
															#line 1354 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(CopyLogRangeTaskFunc::addTask( tr, taskBucket, task, std::max(beginVersion, vblock * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), std::min(endVersion, (vblock + blockSize) * CLIENT_KNOBS->BACKUP_BLOCK_SIZE), TaskCompletionKey::joinWith(allPartsDone)));
															#line 11848 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1363 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (prevBeginVersion > 0)
															#line 11852 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1364 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				addTaskVector.push_back(EraseLogRangeTaskFunc::addTask( tr, taskBucket, task, beginVersion, TaskCompletionKey::joinWith(allPartsDone)));
															#line 11856 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1368 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = waitForAll(addTaskVector) && taskBucket->finish(tr, task);
															#line 1368 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11862 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont8when1(__when_expr_6.get(), loopDepth); };
			static_cast<_finishActor6*>(this)->actor_wait_state = 7;
															#line 1368 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 6, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11867 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = onDone->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 1370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 11876 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont8when2(__when_expr_7.get(), loopDepth); };
			static_cast<_finishActor6*>(this)->actor_wait_state = 8;
															#line 1370 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _finishActor6, 7, Void >*>(static_cast<_finishActor6*>(this)));
															#line 11881 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1cont3when1(Optional<Value> const& stopWhenDone,int loopDepth) 
	{
		loopDepth = a_body1cont8(stopWhenDone, loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(Optional<Value> && stopWhenDone,int loopDepth) 
	{
		loopDepth = a_body1cont8(std::move(stopWhenDone), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 5, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 5, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 5, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _finishActor6, 5, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont9(int loopDepth) 
	{
															#line 1372 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor6State(); static_cast<_finishActor6*>(this)->destroy(); return 0; }
															#line 11954 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor6*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor6State();
		static_cast<_finishActor6*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont11(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1cont11(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1cont8when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont8when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _finishActor6, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont14(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1cont14(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1cont8when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont14(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont8when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont14(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<_finishActor6*>(this)->actor_wait_state > 0) static_cast<_finishActor6*>(this)->actor_wait_state = 0;
		static_cast<_finishActor6*>(this)->ActorCallback< _finishActor6, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor6, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont8when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< _finishActor6, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont8when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< _finishActor6, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 7);

	}
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1301 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 1304 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace states;
															#line 1309 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 1311 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version prevBeginVersion;
															#line 1313 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fStopWhenDone;
															#line 1317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 1319 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> onDone;
															#line 1345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> allPartsDone;
															#line 12136 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor6 final : public Actor<Void>, public ActorCallback< _finishActor6, 0, Void >, public ActorCallback< _finishActor6, 1, Version >, public ActorCallback< _finishActor6, 2, Void >, public ActorCallback< _finishActor6, 3, Void >, public ActorCallback< _finishActor6, 4, Void >, public ActorCallback< _finishActor6, 5, Optional<Value> >, public ActorCallback< _finishActor6, 6, Void >, public ActorCallback< _finishActor6, 7, Void >, public FastAllocated<_finishActor6>, public _finishActor6State<_finishActor6> {
															#line 12141 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor6>::operator new;
	using FastAllocated<_finishActor6>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor6, 0, Void >;
friend struct ActorCallback< _finishActor6, 1, Version >;
friend struct ActorCallback< _finishActor6, 2, Void >;
friend struct ActorCallback< _finishActor6, 3, Void >;
friend struct ActorCallback< _finishActor6, 4, Void >;
friend struct ActorCallback< _finishActor6, 5, Optional<Value> >;
friend struct ActorCallback< _finishActor6, 6, Void >;
friend struct ActorCallback< _finishActor6, 7, Void >;
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor6(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 12159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor6State<_finishActor6>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor6, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor6, 1, Version >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor6, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _finishActor6, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _finishActor6, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _finishActor6, 5, Optional<Value> >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _finishActor6, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< _finishActor6, 7, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor6(tr, taskBucket, futureBucket, task));
															#line 12193 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 12198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor6>
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor6State {
															#line 12204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor6State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& prevBeginVersion,Version const& beginVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   prevBeginVersion(prevBeginVersion),
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   beginVersion(beginVersion),
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 12223 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor6State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1382 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 1382 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 12240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor6*>(this)->actor_wait_state = 1;
															#line 1382 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor6, 0, Key >*>(static_cast<AddTaskActor6*>(this)));
															#line 12245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor6State();
		static_cast<AddTaskActor6*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 1383 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(CopyDiffLogsTaskFunc::name, CopyDiffLogsTaskFunc::version, doneKey, 1);
															#line 1385 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1387 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 1388 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyPrevBeginVersion] = BinaryWriter::toValue(prevBeginVersion, Unversioned());
															#line 1390 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 12276 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1391 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor6*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor6State(); static_cast<AddTaskActor6*>(this)->destroy(); return 0; }
															#line 12280 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor6*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor6State();
			static_cast<AddTaskActor6*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 12290 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor6*>(this)->actor_wait_state = 2;
															#line 1397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor6, 1, Void >*>(static_cast<AddTaskActor6*>(this)));
															#line 12295 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 1383 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(CopyDiffLogsTaskFunc::name, CopyDiffLogsTaskFunc::version, doneKey, 1);
															#line 1385 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1387 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 1388 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyPrevBeginVersion] = BinaryWriter::toValue(prevBeginVersion, Unversioned());
															#line 1390 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 12312 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1391 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor6*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor6State(); static_cast<AddTaskActor6*>(this)->destroy(); return 0; }
															#line 12316 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor6*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor6State();
			static_cast<AddTaskActor6*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 12326 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor6*>(this)->actor_wait_state = 2;
															#line 1397 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor6, 1, Void >*>(static_cast<AddTaskActor6*>(this)));
															#line 12331 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor6*>(this)->actor_wait_state > 0) static_cast<AddTaskActor6*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor6*>(this)->ActorCallback< AddTaskActor6, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor6, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor6, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor6, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1402 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor6*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor6State(); static_cast<AddTaskActor6*>(this)->destroy(); return 0; }
															#line 12403 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor6*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor6State();
		static_cast<AddTaskActor6*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1402 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor6*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor6State(); static_cast<AddTaskActor6*>(this)->destroy(); return 0; }
															#line 12415 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor6*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor6State();
		static_cast<AddTaskActor6*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor6*>(this)->actor_wait_state > 0) static_cast<AddTaskActor6*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor6*>(this)->ActorCallback< AddTaskActor6, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor6, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor6, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor6, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version prevBeginVersion;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 12500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor6 final : public Actor<Key>, public ActorCallback< AddTaskActor6, 0, Key >, public ActorCallback< AddTaskActor6, 1, Void >, public FastAllocated<AddTaskActor6>, public AddTaskActor6State<AddTaskActor6> {
															#line 12505 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor6>::operator new;
	using FastAllocated<AddTaskActor6>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor6, 0, Key >;
friend struct ActorCallback< AddTaskActor6, 1, Void >;
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor6(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& prevBeginVersion,Version const& beginVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 12517 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor6State<AddTaskActor6>(tr, taskBucket, parentTask, prevBeginVersion, beginVersion, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor6, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor6, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, Version const& prevBeginVersion, Version const& beginVersion, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 1375 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor6(tr, taskBucket, parentTask, prevBeginVersion, beginVersion, completionKey, waitFor));
															#line 12545 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1404 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return Void();
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef CopyDiffLogsTaskFunc::name = "dr_copy_diff_logs"_sr;
REGISTER_TASKFUNC(CopyDiffLogsTaskFunc);

// Skip unneeded EraseLogRangeTaskFunc in 5.1
struct SkipOldEraseLogRangeTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 12573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor7>
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor7State {
															#line 12579 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor7State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskFuture(futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]))
															#line 12594 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor7State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = taskFuture->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 1433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor7*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 12611 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor7*>(this)->actor_wait_state = 1;
															#line 1433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor7, 0, Void >*>(static_cast<_finishActor7*>(this)));
															#line 12616 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor7State();
		static_cast<_finishActor7*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1434 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor7*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor7State(); static_cast<_finishActor7*>(this)->destroy(); return 0; }
															#line 12639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor7*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor7State();
		static_cast<_finishActor7*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1434 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor7*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor7State(); static_cast<_finishActor7*>(this)->destroy(); return 0; }
															#line 12651 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor7*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor7State();
		static_cast<_finishActor7*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor7*>(this)->actor_wait_state > 0) static_cast<_finishActor7*>(this)->actor_wait_state = 0;
		static_cast<_finishActor7*>(this)->ActorCallback< _finishActor7, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor7, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor7, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor7, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> taskFuture;
															#line 12732 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor7 final : public Actor<Void>, public ActorCallback< _finishActor7, 0, Void >, public FastAllocated<_finishActor7>, public _finishActor7State<_finishActor7> {
															#line 12737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor7>::operator new;
	using FastAllocated<_finishActor7>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor7, 0, Void >;
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor7(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 12748 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor7State<_finishActor7>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor7, 0, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor7(tr, taskBucket, futureBucket, task));
															#line 12775 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1436 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return Void();
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef SkipOldEraseLogRangeTaskFunc::name = "dr_skip_legacy_task"_sr;
REGISTER_TASKFUNC(SkipOldEraseLogRangeTaskFunc);
REGISTER_TASKFUNC_ALIAS(SkipOldEraseLogRangeTaskFunc, db_erase_log_range);

// This is almost the same as CopyLogRangeTaskFunc in 5.1. The only purpose is to support DR upgrade
struct OldCopyLogRangeTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

	static struct {
		static TaskParam<int64_t> bytesWritten() { return __FUNCTION__sr; }
	} Params;

	static const Key keyNextBeginVersion;

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};

																#line 12825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via dumpData()
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class DumpDataActor1>
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class DumpDataActor1State {
															#line 12831 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DumpDataActor1State(Database const& cx,Reference<Task> const& task,PromiseStream<RCGroup> const& results,FlowLock* const& lock,Reference<TaskBucket> const& tb) 
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   results(results),
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lock(lock),
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tb(tb),
															#line 1487 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endOfStream(false),
															#line 1488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid])),
															#line 1492 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   nextMutations(),
															#line 1493 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   nextMutationSize(0)
															#line 12854 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("dumpData", reinterpret_cast<unsigned long>(this));

	}
	~DumpDataActor1State() 
	{
		fdb_probe_actor_destroy("dumpData", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1494 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 12869 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1loopHead1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~DumpDataActor1State();
		static_cast<DumpDataActor1*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1(int loopDepth) 
	{
		try {
															#line 1496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (endOfStream && !nextMutationSize)
															#line 12900 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (!static_cast<DumpDataActor1*>(this)->SAV<Void>::futures) { (void)(Void()); this->~DumpDataActor1State(); static_cast<DumpDataActor1*>(this)->destroy(); return 0; }
															#line 12904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				new (&static_cast<DumpDataActor1*>(this)->SAV< Void >::value()) Void(Void());
				this->~DumpDataActor1State();
				static_cast<DumpDataActor1*>(this)->finishSendAndDelPromiseRef();
				return 0;
			}
															#line 1500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			mutations = std::move(nextMutations);
															#line 1501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			mutationSize = nextMutationSize;
															#line 1502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutations = std::vector<RangeResult>();
															#line 1503 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutationSize = 0;
															#line 1505 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!endOfStream)
															#line 12920 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1506 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				;
															#line 12924 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = a_body1loopBody1loopHead1(loopDepth);
			}
			else
			{
				loopDepth = a_body1loopBody1cont2(loopDepth);
			}
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (e.code() == error_code_actor_cancelled || e.code() == error_code_backup_error)
															#line 12951 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1567 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(e, std::max(0, loopDepth - 1));
															#line 12955 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 1569 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			err = e;
															#line 1570 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = logError(cx, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyErrors) .pack(task->params[BackupAgentBase::keyConfigLogUid]), format("ERROR: Failed to dump mutations because of error %s", err.what()));
															#line 1570 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor1*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 12963 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<DumpDataActor1*>(this)->actor_wait_state = 5;
															#line 1570 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor1, 4, Void >*>(static_cast<DumpDataActor1*>(this)));
															#line 12968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2(int loopDepth) 
	{
															#line 1533 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Transaction(cx);
															#line 1535 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 12985 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont4(int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1(int loopDepth) 
	{
		try {
															#line 1508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			FutureStream<RCGroup> __when_expr_0 = results.getFuture();
															#line 1508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor1*>(this)->actor_wait_state < 0) return a_body1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 13010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1loopBody1loopBody1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1loopBody1loopBody1when1(__when_expr_0.pop(), loopDepth); };
			static_cast<DumpDataActor1*>(this)->actor_wait_state = 1;
															#line 1508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorSingleCallback< DumpDataActor1, 0, RCGroup >*>(static_cast<DumpDataActor1*>(this)));
															#line 13015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1break1(int loopDepth) 
	{
		try {
			return a_body1loopBody1cont4(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopBody1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1522 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			error = e;
															#line 1523 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (e.code() == error_code_end_of_stream)
															#line 13052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				endOfStream = true;
															#line 13056 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				return a_body1loopBody1break1(loopDepth==0?0:loopDepth-1); // break
			}
															#line 1528 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
															#line 13061 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1loopBody1cont2(RCGroup const& group,int loopDepth) 
	{
															#line 1509 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		lock->release(group.items.expectedSize());
															#line 1511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int vecSize = group.items.expectedSize();
															#line 1512 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (mutationSize + vecSize >= CLIENT_KNOBS->BACKUP_LOG_WRITE_BATCH_MAX_SIZE)
															#line 13079 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1514 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutations.push_back(group.items);
															#line 1515 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutationSize = vecSize;
															#line 13085 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			return a_body1loopBody1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 1519 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutations.push_back(group.items);
															#line 1520 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutationSize += vecSize;
															#line 13092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1loopBody1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1cont2(RCGroup && group,int loopDepth) 
	{
															#line 1509 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		lock->release(group.items.expectedSize());
															#line 1511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int vecSize = group.items.expectedSize();
															#line 1512 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (mutationSize + vecSize >= CLIENT_KNOBS->BACKUP_LOG_WRITE_BATCH_MAX_SIZE)
															#line 13105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1514 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutations.push_back(group.items);
															#line 1515 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			nextMutationSize = vecSize;
															#line 13111 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			return a_body1loopBody1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 1519 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutations.push_back(group.items);
															#line 1520 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mutationSize += vecSize;
															#line 13118 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1loopBody1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1when1(RCGroup const& group,int loopDepth) 
	{
		loopDepth = a_body1loopBody1loopBody1cont2(group, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1loopBody1when1(RCGroup && group,int loopDepth) 
	{
		loopDepth = a_body1loopBody1loopBody1cont2(std::move(group), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state > 0) static_cast<DumpDataActor1*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor1*>(this)->ActorSingleCallback< DumpDataActor1, 0, RCGroup >::remove();

	}
	void a_callback_fire(ActorSingleCallback< DumpDataActor1, 0, RCGroup >*,RCGroup const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorSingleCallback< DumpDataActor1, 0, RCGroup >*,RCGroup && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorSingleCallback< DumpDataActor1, 0, RCGroup >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1loopBody1loopBody1cont5(int loopDepth) 
	{
		try {
			loopDepth = a_body1loopBody1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont5(int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont6(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1(int loopDepth) 
	{
		try {
															#line 1537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1538 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.trState->options.sizeLimit = 2 * CLIENT_KNOBS->TRANSACTION_SIZE_LIMIT;
															#line 1539 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = checkDatabaseLock(&tr, BinaryReader::fromStringRef<UID>( task->params[BackupAgentBase::keyConfigLogUid], Unversioned()));
															#line 1539 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor1*>(this)->actor_wait_state < 0) return a_body1loopBody1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 13223 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1loopBody1cont2loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1loopBody1cont2loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<DumpDataActor1*>(this)->actor_wait_state = 2;
															#line 1539 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor1, 1, Void >*>(static_cast<DumpDataActor1*>(this)));
															#line 13228 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1cont2loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1cont2loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2break1(int loopDepth) 
	{
		try {
			return a_body1loopBody1cont5(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopBody1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1562 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = tr.onError(e);
															#line 1562 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DumpDataActor1*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 13265 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1loopBody1Catch1(__when_expr_3.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1cont2loopBody1Catch1when1(__when_expr_3.get(), loopDepth); };
			static_cast<DumpDataActor1*>(this)->actor_wait_state = 4;
															#line 1562 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor1, 3, Void >*>(static_cast<DumpDataActor1*>(this)));
															#line 13270 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 1542 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bytesSet = 0;
															#line 1544 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool first = true;
															#line 1545 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto m : mutations ) {
															#line 1546 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto kv : m ) {
															#line 1547 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (first)
															#line 13293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 1548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr.addReadConflictRange(singleKeyRange(kv.key));
															#line 1549 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					first = false;
															#line 13299 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
															#line 1551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr.set(kv.key.removePrefix(backupLogKeys.begin).withPrefix(applyLogKeys.begin), kv.value);
															#line 1553 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				bytesSet += kv.expectedSize() - backupLogKeys.begin.expectedSize() + applyLogKeys.begin.expectedSize();
															#line 13305 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 1558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr.commit();
															#line 1558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state < 0) return a_body1loopBody1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 13312 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1cont2loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont2loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<DumpDataActor1*>(this)->actor_wait_state = 3;
															#line 1558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor1, 2, Void >*>(static_cast<DumpDataActor1*>(this)));
															#line 13317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 1542 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bytesSet = 0;
															#line 1544 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool first = true;
															#line 1545 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto m : mutations ) {
															#line 1546 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto kv : m ) {
															#line 1547 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (first)
															#line 13334 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 1548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr.addReadConflictRange(singleKeyRange(kv.key));
															#line 1549 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					first = false;
															#line 13340 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
															#line 1551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr.set(kv.key.removePrefix(backupLogKeys.begin).withPrefix(applyLogKeys.begin), kv.value);
															#line 1553 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				bytesSet += kv.expectedSize() - backupLogKeys.begin.expectedSize() + applyLogKeys.begin.expectedSize();
															#line 13346 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 1558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr.commit();
															#line 1558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state < 0) return a_body1loopBody1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 13353 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1cont2loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont2loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<DumpDataActor1*>(this)->actor_wait_state = 3;
															#line 1558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< DumpDataActor1, 2, Void >*>(static_cast<DumpDataActor1*>(this)));
															#line 13358 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state > 0) static_cast<DumpDataActor1*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor1*>(this)->ActorCallback< DumpDataActor1, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< DumpDataActor1, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1loopBody1cont2loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 1559 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Params.bytesWritten().set(task, Params.bytesWritten().getOrDefault(task) + bytesSet);
															#line 13430 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1loopBody1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 1559 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Params.bytesWritten().set(task, Params.bytesWritten().getOrDefault(task) + bytesSet);
															#line 13439 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1loopBody1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state > 0) static_cast<DumpDataActor1*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor1*>(this)->ActorCallback< DumpDataActor1, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont2loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont2loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< DumpDataActor1, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1loopBody1cont2loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state > 0) static_cast<DumpDataActor1*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor1*>(this)->ActorCallback< DumpDataActor1, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont2loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont2loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< DumpDataActor1, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1loopBody1cont6(int loopDepth) 
	{
		try {
			loopDepth = a_body1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
															#line 1576 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(err, std::max(0, loopDepth - 1));
															#line 13599 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
															#line 1576 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		return a_body1Catch1(err, std::max(0, loopDepth - 1));
															#line 13607 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<DumpDataActor1*>(this)->actor_wait_state > 0) static_cast<DumpDataActor1*>(this)->actor_wait_state = 0;
		static_cast<DumpDataActor1*>(this)->ActorCallback< DumpDataActor1, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< DumpDataActor1, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< DumpDataActor1, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), 4);

	}
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	PromiseStream<RCGroup> results;
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	FlowLock* lock;
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> tb;
															#line 1487 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	bool endOfStream;
															#line 1488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 1492 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<RangeResult> nextMutations;
															#line 1493 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t nextMutationSize;
															#line 1500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<RangeResult> mutations;
															#line 1501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t mutationSize;
															#line 1522 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Error error;
															#line 1533 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Transaction tr;
															#line 1542 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int64_t bytesSet;
															#line 1569 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Error err;
															#line 13704 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via dumpData()
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class DumpDataActor1 final : public Actor<Void>, public ActorSingleCallback< DumpDataActor1, 0, RCGroup >, public ActorCallback< DumpDataActor1, 1, Void >, public ActorCallback< DumpDataActor1, 2, Void >, public ActorCallback< DumpDataActor1, 3, Void >, public ActorCallback< DumpDataActor1, 4, Void >, public FastAllocated<DumpDataActor1>, public DumpDataActor1State<DumpDataActor1> {
															#line 13709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<DumpDataActor1>::operator new;
	using FastAllocated<DumpDataActor1>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorSingleCallback< DumpDataActor1, 0, RCGroup >;
friend struct ActorCallback< DumpDataActor1, 1, Void >;
friend struct ActorCallback< DumpDataActor1, 2, Void >;
friend struct ActorCallback< DumpDataActor1, 3, Void >;
friend struct ActorCallback< DumpDataActor1, 4, Void >;
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DumpDataActor1(Database const& cx,Reference<Task> const& task,PromiseStream<RCGroup> const& results,FlowLock* const& lock,Reference<TaskBucket> const& tb) 
															#line 13724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   DumpDataActor1State<DumpDataActor1>(cx, task, results, lock, tb)
	{
		fdb_probe_actor_enter("dumpData", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("dumpData");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("dumpData", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorSingleCallback< DumpDataActor1, 0, RCGroup >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< DumpDataActor1, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< DumpDataActor1, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< DumpDataActor1, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< DumpDataActor1, 4, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> dumpData( Database const& cx, Reference<Task> const& task, PromiseStream<RCGroup> const& results, FlowLock* const& lock, Reference<TaskBucket> const& tb ) {
															#line 1482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new DumpDataActor1(cx, task, results, lock, tb));
															#line 13755 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 13760 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor4>
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor4State {
															#line 13766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor4State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1585 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lock(new FlowLock(CLIENT_KNOBS->BACKUP_LOCK_BYTES))
															#line 13781 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor4State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1587 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, OldCopyLogRangeTaskFunc::name, OldCopyLogRangeTaskFunc::version);
															#line 1587 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 13798 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor4*>(this)->actor_wait_state = 1;
															#line 1587 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor4, 0, Void >*>(static_cast<_executeActor4*>(this)));
															#line 13803 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor4State();
		static_cast<_executeActor4*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyEndVersion], Unversioned());
															#line 1593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		newEndVersion = std::min(endVersion, (((beginVersion - 1) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE) + 2 + (g_network->isSimulated() ? CLIENT_KNOBS->BACKUP_SIM_COPY_LOG_RANGES : 0)) * CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1599 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		ranges = getLogRanges(beginVersion, newEndVersion, task->params[BackupAgentBase::keyConfigLogUid], CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1603 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		results = std::vector<PromiseStream<RCGroup>>();
															#line 1604 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rc = std::vector<Future<Void>>();
															#line 1605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		dump = std::vector<Future<Void>>();
															#line 1607 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for(int i = 0;i < ranges.size();++i) {
															#line 1608 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			results.push_back(PromiseStream<RCGroup>());
															#line 1609 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rc.push_back(readCommitted(taskBucket->src, results[i], Future<Void>(Void()), lock, ranges[i], decodeBKMutationLogKey, Terminator::True, AccessSystemKeys::True, LockAware::True));
															#line 1618 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			dump.push_back(dumpData(cx, task, results[i], lock.getPtr(), taskBucket));
															#line 13846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitForAll(dump);
															#line 1621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 13852 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_executeActor4*>(this)->actor_wait_state = 2;
															#line 1621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor4, 1, Void >*>(static_cast<_executeActor4*>(this)));
															#line 13857 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyEndVersion], Unversioned());
															#line 1593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		newEndVersion = std::min(endVersion, (((beginVersion - 1) / CLIENT_KNOBS->BACKUP_BLOCK_SIZE) + 2 + (g_network->isSimulated() ? CLIENT_KNOBS->BACKUP_SIM_COPY_LOG_RANGES : 0)) * CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1599 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		ranges = getLogRanges(beginVersion, newEndVersion, task->params[BackupAgentBase::keyConfigLogUid], CLIENT_KNOBS->BACKUP_BLOCK_SIZE);
															#line 1603 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		results = std::vector<PromiseStream<RCGroup>>();
															#line 1604 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		rc = std::vector<Future<Void>>();
															#line 1605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		dump = std::vector<Future<Void>>();
															#line 1607 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for(int i = 0;i < ranges.size();++i) {
															#line 1608 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			results.push_back(PromiseStream<RCGroup>());
															#line 1609 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rc.push_back(readCommitted(taskBucket->src, results[i], Future<Void>(Void()), lock, ranges[i], decodeBKMutationLogKey, Terminator::True, AccessSystemKeys::True, LockAware::True));
															#line 1618 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			dump.push_back(dumpData(cx, task, results[i], lock.getPtr(), taskBucket));
															#line 13886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitForAll(dump);
															#line 1621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor4*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 13892 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_executeActor4*>(this)->actor_wait_state = 2;
															#line 1621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor4, 1, Void >*>(static_cast<_executeActor4*>(this)));
															#line 13897 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor4*>(this)->actor_wait_state > 0) static_cast<_executeActor4*>(this)->actor_wait_state = 0;
		static_cast<_executeActor4*>(this)->ActorCallback< _executeActor4, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor4, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor4, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor4, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1623 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (newEndVersion < endVersion)
															#line 13969 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1624 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[OldCopyLogRangeTaskFunc::keyNextBeginVersion] = BinaryWriter::toValue(newEndVersion, Unversioned());
															#line 13973 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1628 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor4State(); static_cast<_executeActor4*>(this)->destroy(); return 0; }
															#line 13977 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor4State();
		static_cast<_executeActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1623 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (newEndVersion < endVersion)
															#line 13989 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1624 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			task->params[OldCopyLogRangeTaskFunc::keyNextBeginVersion] = BinaryWriter::toValue(newEndVersion, Unversioned());
															#line 13993 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 1628 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor4*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor4State(); static_cast<_executeActor4*>(this)->destroy(); return 0; }
															#line 13997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor4*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor4State();
		static_cast<_executeActor4*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor4*>(this)->actor_wait_state > 0) static_cast<_executeActor4*>(this)->actor_wait_state = 0;
		static_cast<_executeActor4*>(this)->ActorCallback< _executeActor4, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor4, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor4, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor4, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1585 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FlowLock> lock;
															#line 1589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 1591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 1593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version newEndVersion;
															#line 1599 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> ranges;
															#line 1603 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<PromiseStream<RCGroup>> results;
															#line 1604 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<Future<Void>> rc;
															#line 1605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<Future<Void>> dump;
															#line 14092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor4 final : public Actor<Void>, public ActorCallback< _executeActor4, 0, Void >, public ActorCallback< _executeActor4, 1, Void >, public FastAllocated<_executeActor4>, public _executeActor4State<_executeActor4> {
															#line 14097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor4>::operator new;
	using FastAllocated<_executeActor4>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor4, 0, Void >;
friend struct ActorCallback< _executeActor4, 1, Void >;
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor4(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 14109 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor4State<_executeActor4>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor4, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor4, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor4(cx, taskBucket, futureBucket, task));
															#line 14137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1630 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 14142 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor7>
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor7State {
															#line 14148 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor7State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& beginVersion,Version const& endVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   beginVersion(beginVersion),
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endVersion(endVersion),
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 14167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor7State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 1638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor7*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 14184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor7*>(this)->actor_wait_state = 1;
															#line 1638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor7, 0, Key >*>(static_cast<AddTaskActor7*>(this)));
															#line 14189 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor7State();
		static_cast<AddTaskActor7*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 1639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(OldCopyLogRangeTaskFunc::name, OldCopyLogRangeTaskFunc::version, doneKey, 1);
															#line 1641 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1643 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 1644 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyEndVersion] = BinaryWriter::toValue(endVersion, Unversioned());
															#line 1646 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 14220 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor7*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor7State(); static_cast<AddTaskActor7*>(this)->destroy(); return 0; }
															#line 14224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor7*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor7State();
			static_cast<AddTaskActor7*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor7*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 14234 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor7*>(this)->actor_wait_state = 2;
															#line 1653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor7, 1, Void >*>(static_cast<AddTaskActor7*>(this)));
															#line 14239 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 1639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(OldCopyLogRangeTaskFunc::name, OldCopyLogRangeTaskFunc::version, doneKey, 1);
															#line 1641 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1643 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyBeginVersion] = BinaryWriter::toValue(beginVersion, Unversioned());
															#line 1644 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyEndVersion] = BinaryWriter::toValue(endVersion, Unversioned());
															#line 1646 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 14256 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor7*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor7State(); static_cast<AddTaskActor7*>(this)->destroy(); return 0; }
															#line 14260 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor7*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor7State();
			static_cast<AddTaskActor7*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor7*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 14270 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor7*>(this)->actor_wait_state = 2;
															#line 1653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor7, 1, Void >*>(static_cast<AddTaskActor7*>(this)));
															#line 14275 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor7*>(this)->actor_wait_state > 0) static_cast<AddTaskActor7*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor7*>(this)->ActorCallback< AddTaskActor7, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor7, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor7, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor7, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1658 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor7*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor7State(); static_cast<AddTaskActor7*>(this)->destroy(); return 0; }
															#line 14347 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor7*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor7State();
		static_cast<AddTaskActor7*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1658 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor7*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor7State(); static_cast<AddTaskActor7*>(this)->destroy(); return 0; }
															#line 14359 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor7*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor7State();
		static_cast<AddTaskActor7*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor7*>(this)->actor_wait_state > 0) static_cast<AddTaskActor7*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor7*>(this)->ActorCallback< AddTaskActor7, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor7, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor7, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor7, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 14444 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor7 final : public Actor<Key>, public ActorCallback< AddTaskActor7, 0, Key >, public ActorCallback< AddTaskActor7, 1, Void >, public FastAllocated<AddTaskActor7>, public AddTaskActor7State<AddTaskActor7> {
															#line 14449 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor7>::operator new;
	using FastAllocated<AddTaskActor7>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor7, 0, Key >;
friend struct ActorCallback< AddTaskActor7, 1, Void >;
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor7(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,Version const& beginVersion,Version const& endVersion,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 14461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor7State<AddTaskActor7>(tr, taskBucket, parentTask, beginVersion, endVersion, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor7, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor7, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, Version const& beginVersion, Version const& endVersion, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 1631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor7(tr, taskBucket, parentTask, beginVersion, endVersion, completionKey, waitFor));
															#line 14489 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1660 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 14494 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor8>
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor8State {
															#line 14500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor8State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1666 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   endVersion(BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyEndVersion], Unversioned())),
															#line 1668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskFuture(futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]))
															#line 14517 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor8State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1672 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			DRConfig config(task);
															#line 1673 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			int64_t bytesWritten = Params.bytesWritten().getOrDefault(task);
															#line 1674 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			config.logBytesWritten().atomicOp(tr, bytesWritten, MutationRef::AddValue);
															#line 1676 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (task->params.find(OldCopyLogRangeTaskFunc::keyNextBeginVersion) != task->params.end())
															#line 14538 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				nextVersion = BinaryReader::fromStringRef<Version>( task->params[OldCopyLogRangeTaskFunc::keyNextBeginVersion], Unversioned());
															#line 1679 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_0 = success(OldCopyLogRangeTaskFunc::addTask( tr, taskBucket, task, nextVersion, endVersion, TaskCompletionKey::signal(taskFuture->key))) && taskBucket->finish(tr, task);
															#line 1679 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 14546 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
				static_cast<_finishActor8*>(this)->actor_wait_state = 1;
															#line 1679 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor8, 0, Void >*>(static_cast<_finishActor8*>(this)));
															#line 14551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
															#line 1683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<Void> __when_expr_1 = taskFuture->set(tr, taskBucket) && taskBucket->finish(tr, task);
															#line 1683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_finishActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 14560 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1when2(__when_expr_1.get(), loopDepth); };
				static_cast<_finishActor8*>(this)->actor_wait_state = 2;
															#line 1683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor8, 1, Void >*>(static_cast<_finishActor8*>(this)));
															#line 14565 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor8State();
		static_cast<_finishActor8*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 1686 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor8*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor8State(); static_cast<_finishActor8*>(this)->destroy(); return 0; }
															#line 14589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor8*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor8State();
		static_cast<_finishActor8*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor8*>(this)->actor_wait_state > 0) static_cast<_finishActor8*>(this)->actor_wait_state = 0;
		static_cast<_finishActor8*>(this)->ActorCallback< _finishActor8, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor8, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor8, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor8, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont3(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor8*>(this)->actor_wait_state > 0) static_cast<_finishActor8*>(this)->actor_wait_state = 0;
		static_cast<_finishActor8*>(this)->ActorCallback< _finishActor8, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor8, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor8, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor8, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1666 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 1668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> taskFuture;
															#line 1677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version nextVersion;
															#line 14761 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor8 final : public Actor<Void>, public ActorCallback< _finishActor8, 0, Void >, public ActorCallback< _finishActor8, 1, Void >, public FastAllocated<_finishActor8>, public _finishActor8State<_finishActor8> {
															#line 14766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor8>::operator new;
	using FastAllocated<_finishActor8>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor8, 0, Void >;
friend struct ActorCallback< _finishActor8, 1, Void >;
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor8(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 14778 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor8State<_finishActor8>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor8, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor8, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1661 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor8(tr, taskBucket, futureBucket, task));
															#line 14806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1688 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
};
StringRef OldCopyLogRangeTaskFunc::name = "db_copy_log_range"_sr;
const Key OldCopyLogRangeTaskFunc::keyNextBeginVersion = "nextBeginVersion"_sr;
REGISTER_TASKFUNC(OldCopyLogRangeTaskFunc);

struct AbortOldBackupTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 14819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor5>
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor5State {
															#line 14825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor5State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   srcDrAgent(taskBucket->src),
															#line 1702 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(new ReadYourWritesTransaction(cx)),
															#line 1703 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagNameKey()
															#line 14844 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor5State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1705 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 14859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1loopHead1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor5State();
		static_cast<_executeActor5*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 1723 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_AbortOldBackup").detail("TagName", tagNameKey.printable());
															#line 1724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = srcDrAgent.abortBackup(cx, tagNameKey, PartialBackup::False, AbortOldBackup::True);
															#line 1724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 14886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor5*>(this)->actor_wait_state = 3;
															#line 1724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor5, 2, Void >*>(static_cast<_executeActor5*>(this)));
															#line 14891 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1(int loopDepth) 
	{
		try {
															#line 1707 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 1708 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Key tagPath = srcDrAgent.states.get(task->params[DatabaseBackupAgent::keyConfigLogUid]) .pack(BackupAgentBase::keyConfigBackupTag);
															#line 1711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Key>> __when_expr_0 = tr->get(tagPath);
															#line 1711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor5*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 14916 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1loopBody1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1loopBody1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor5*>(this)->actor_wait_state = 1;
															#line 1711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor5, 0, Optional<Key> >*>(static_cast<_executeActor5*>(this)));
															#line 14921 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1break1(int loopDepth) 
	{
		try {
			return a_body1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1719 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = tr->onError(e);
															#line 1719 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor5*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 14958 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1Catch1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_executeActor5*>(this)->actor_wait_state = 2;
															#line 1719 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor5, 1, Void >*>(static_cast<_executeActor5*>(this)));
															#line 14963 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2(Optional<Key> const& tagName,int loopDepth) 
	{
															#line 1712 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!tagName.present())
															#line 14978 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1713 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor5State(); static_cast<_executeActor5*>(this)->destroy(); return 0; }
															#line 14982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor5*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor5State();
			static_cast<_executeActor5*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tagNameKey = tagName.get();
															#line 14990 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont2(Optional<Key> && tagName,int loopDepth) 
	{
															#line 1712 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!tagName.present())
															#line 14999 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1713 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor5State(); static_cast<_executeActor5*>(this)->destroy(); return 0; }
															#line 15003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor5*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor5State();
			static_cast<_executeActor5*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tagNameKey = tagName.get();
															#line 15011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1when1(Optional<Key> const& tagName,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(tagName, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1when1(Optional<Key> && tagName,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(std::move(tagName), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor5*>(this)->actor_wait_state > 0) static_cast<_executeActor5*>(this)->actor_wait_state = 0;
		static_cast<_executeActor5*>(this)->ActorCallback< _executeActor5, 0, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor5, 0, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor5, 0, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor5, 0, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor5*>(this)->actor_wait_state > 0) static_cast<_executeActor5*>(this)->actor_wait_state = 0;
		static_cast<_executeActor5*>(this)->ActorCallback< _executeActor5, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor5, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor5, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor5, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1726 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor5State(); static_cast<_executeActor5*>(this)->destroy(); return 0; }
															#line 15158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor5*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor5State();
		static_cast<_executeActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1726 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor5*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor5State(); static_cast<_executeActor5*>(this)->destroy(); return 0; }
															#line 15170 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor5*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor5State();
		static_cast<_executeActor5*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor5*>(this)->actor_wait_state > 0) static_cast<_executeActor5*>(this)->actor_wait_state = 0;
		static_cast<_executeActor5*>(this)->ActorCallback< _executeActor5, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor5, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _executeActor5, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _executeActor5, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent srcDrAgent;
															#line 1702 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1703 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagNameKey;
															#line 15255 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor5 final : public Actor<Void>, public ActorCallback< _executeActor5, 0, Optional<Key> >, public ActorCallback< _executeActor5, 1, Void >, public ActorCallback< _executeActor5, 2, Void >, public FastAllocated<_executeActor5>, public _executeActor5State<_executeActor5> {
															#line 15260 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor5>::operator new;
	using FastAllocated<_executeActor5>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor5, 0, Optional<Key> >;
friend struct ActorCallback< _executeActor5, 1, Void >;
friend struct ActorCallback< _executeActor5, 2, Void >;
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor5(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 15273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor5State<_executeActor5>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor5, 0, Optional<Key> >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor5, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _executeActor5, 2, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1697 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor5(cx, taskBucket, futureBucket, task));
															#line 15302 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1728 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 15307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor9>
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor9State {
															#line 15313 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor9State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task)
															#line 15326 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor9State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = taskBucket->finish(tr, task);
															#line 1733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor9*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 15343 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor9*>(this)->actor_wait_state = 1;
															#line 1733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor9, 0, Void >*>(static_cast<_finishActor9*>(this)));
															#line 15348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor9State();
		static_cast<_finishActor9*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1734 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor9*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor9State(); static_cast<_finishActor9*>(this)->destroy(); return 0; }
															#line 15371 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor9*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor9State();
		static_cast<_finishActor9*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1734 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor9*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor9State(); static_cast<_finishActor9*>(this)->destroy(); return 0; }
															#line 15383 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor9*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor9State();
		static_cast<_finishActor9*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor9*>(this)->actor_wait_state > 0) static_cast<_finishActor9*>(this)->actor_wait_state = 0;
		static_cast<_finishActor9*>(this)->ActorCallback< _finishActor9, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor9, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor9, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor9, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 15462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor9 final : public Actor<Void>, public ActorCallback< _finishActor9, 0, Void >, public FastAllocated<_finishActor9>, public _finishActor9State<_finishActor9> {
															#line 15467 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor9>::operator new;
	using FastAllocated<_finishActor9>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor9, 0, Void >;
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor9(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 15478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor9State<_finishActor9>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor9, 0, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor9(tr, taskBucket, futureBucket, task));
															#line 15505 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1736 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 15510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor8>
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor8State {
															#line 15516 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor8State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 15531 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor8State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1742 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 1742 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 15548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor8*>(this)->actor_wait_state = 1;
															#line 1742 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor8, 0, Key >*>(static_cast<AddTaskActor8*>(this)));
															#line 15553 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor8State();
		static_cast<AddTaskActor8*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 1743 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(AbortOldBackupTaskFunc::name, AbortOldBackupTaskFunc::version, doneKey, 1);
															#line 1745 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1747 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 15580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1748 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor8*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor8State(); static_cast<AddTaskActor8*>(this)->destroy(); return 0; }
															#line 15584 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor8*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor8State();
			static_cast<AddTaskActor8*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 15594 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor8*>(this)->actor_wait_state = 2;
															#line 1754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor8, 1, Void >*>(static_cast<AddTaskActor8*>(this)));
															#line 15599 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 1743 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(AbortOldBackupTaskFunc::name, AbortOldBackupTaskFunc::version, doneKey, 1);
															#line 1745 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 1747 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 15612 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1748 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor8*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor8State(); static_cast<AddTaskActor8*>(this)->destroy(); return 0; }
															#line 15616 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor8*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor8State();
			static_cast<AddTaskActor8*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 1754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 15626 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor8*>(this)->actor_wait_state = 2;
															#line 1754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor8, 1, Void >*>(static_cast<AddTaskActor8*>(this)));
															#line 15631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor8*>(this)->actor_wait_state > 0) static_cast<AddTaskActor8*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor8*>(this)->ActorCallback< AddTaskActor8, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor8, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor8, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor8, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 1759 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor8*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor8State(); static_cast<AddTaskActor8*>(this)->destroy(); return 0; }
															#line 15703 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor8*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor8State();
		static_cast<AddTaskActor8*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 1759 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor8*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor8State(); static_cast<AddTaskActor8*>(this)->destroy(); return 0; }
															#line 15715 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor8*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor8State();
		static_cast<AddTaskActor8*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor8*>(this)->actor_wait_state > 0) static_cast<AddTaskActor8*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor8*>(this)->ActorCallback< AddTaskActor8, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor8, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor8, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor8, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 15796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor8 final : public Actor<Key>, public ActorCallback< AddTaskActor8, 0, Key >, public ActorCallback< AddTaskActor8, 1, Void >, public FastAllocated<AddTaskActor8>, public AddTaskActor8State<AddTaskActor8> {
															#line 15801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor8>::operator new;
	using FastAllocated<AddTaskActor8>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor8, 0, Key >;
friend struct ActorCallback< AddTaskActor8, 1, Void >;
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor8(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 15813 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor8State<AddTaskActor8>(tr, taskBucket, parentTask, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor8, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor8, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 1737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor8(tr, taskBucket, parentTask, completionKey, waitFor));
															#line 15841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1761 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef AbortOldBackupTaskFunc::name = "dr_abort_legacy_backup"_sr;
REGISTER_TASKFUNC(AbortOldBackupTaskFunc);
REGISTER_TASKFUNC_ALIAS(AbortOldBackupTaskFunc, db_backup_range);
REGISTER_TASKFUNC_ALIAS(AbortOldBackupTaskFunc, db_finish_full_backup);
REGISTER_TASKFUNC_ALIAS(AbortOldBackupTaskFunc, db_copy_logs);
REGISTER_TASKFUNC_ALIAS(AbortOldBackupTaskFunc, db_finished_full_backup);
REGISTER_TASKFUNC_ALIAS(AbortOldBackupTaskFunc, db_backup_restorable);
REGISTER_TASKFUNC_ALIAS(AbortOldBackupTaskFunc, db_start_full_backup);

// Upgrade DR from 5.1
struct CopyDiffLogsUpgradeTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 15875 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor6>
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor6State {
															#line 15881 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor6State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1795 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUidValue(task->params[DatabaseBackupAgent::keyConfigLogUid]),
															#line 1796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   sourceStates(Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keySourceStates).get(logUidValue)),
															#line 1798 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   config(Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keyConfig).get(logUidValue))
															#line 15900 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor6State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1800 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, CopyDiffLogsUpgradeTaskFunc::name, CopyDiffLogsUpgradeTaskFunc::version);
															#line 1800 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 15917 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor6*>(this)->actor_wait_state = 1;
															#line 1800 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 0, Void >*>(static_cast<_executeActor6*>(this)));
															#line 15922 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor6State();
		static_cast<_executeActor6*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1803 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = Standalone<VectorRef<KeyRangeRef>>();
															#line 1804 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(cx));
															#line 1805 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 15949 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1803 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = Standalone<VectorRef<KeyRangeRef>>();
															#line 1804 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(cx));
															#line 1805 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 15962 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor6, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 1826 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destUidValue = Key(logUidValue);
															#line 1827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 1828 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 16038 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
		try {
															#line 1807 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1808 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 1809 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Future<Void> verified = taskBucket->keepRunning(tr, task);
															#line 1810 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = verified;
															#line 1810 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 16063 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_executeActor6*>(this)->actor_wait_state = 2;
															#line 1810 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 1, Void >*>(static_cast<_executeActor6*>(this)));
															#line 16068 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1break1(int loopDepth) 
	{
		try {
			return a_body1cont2(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1821 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = tr->onError(e);
															#line 1821 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 16105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_3.get(), loopDepth); };
			static_cast<_executeActor6*>(this)->actor_wait_state = 4;
															#line 1821 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 3, Void >*>(static_cast<_executeActor6*>(this)));
															#line 16110 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_2 = tr->get(config.pack(BackupAgentBase::keyConfigBackupRanges));
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 16127 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor6*>(this)->actor_wait_state = 3;
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 2, Optional<Key> >*>(static_cast<_executeActor6*>(this)));
															#line 16132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_2 = tr->get(config.pack(BackupAgentBase::keyConfigBackupRanges));
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 16143 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor6*>(this)->actor_wait_state = 3;
															#line 1812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 2, Optional<Key> >*>(static_cast<_executeActor6*>(this)));
															#line 16148 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor6, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont3(Optional<Key> const& backupKeysPacked,int loopDepth) 
	{
															#line 1813 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!backupKeysPacked.present())
															#line 16220 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor6State(); static_cast<_executeActor6*>(this)->destroy(); return 0; }
															#line 16224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor6*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor6State();
			static_cast<_executeActor6*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1817 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		BinaryReader br(backupKeysPacked.get(), IncludeVersion());
															#line 1818 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		br >> backupRanges;
															#line 16234 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Optional<Key> && backupKeysPacked,int loopDepth) 
	{
															#line 1813 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!backupKeysPacked.present())
															#line 16243 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor6State(); static_cast<_executeActor6*>(this)->destroy(); return 0; }
															#line 16247 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor6*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor6State();
			static_cast<_executeActor6*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1817 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		BinaryReader br(backupKeysPacked.get(), IncludeVersion());
															#line 1818 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		br >> backupRanges;
															#line 16257 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Optional<Key> const& backupKeysPacked,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(backupKeysPacked, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Optional<Key> && backupKeysPacked,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(backupKeysPacked), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 2, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 2, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 2, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _executeActor6, 2, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _executeActor6, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 1879 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::destUid] = destUidValue;
															#line 1880 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		ASSERT(destUidValue == logUidValue);
															#line 1882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor6State(); static_cast<_executeActor6*>(this)->destroy(); return 0; }
															#line 16408 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor6*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor6State();
		static_cast<_executeActor6*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1(int loopDepth) 
	{
		try {
															#line 1830 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1831 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 1833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_4 = srcTr->get(sourceStates.pack(DatabaseBackupAgent::keyFolderId));
															#line 1833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 16434 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1cont2loopBody1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont2loopBody1when1(__when_expr_4.get(), loopDepth); };
			static_cast<_executeActor6*>(this)->actor_wait_state = 5;
															#line 1833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 4, Optional<Value> >*>(static_cast<_executeActor6*>(this)));
															#line 16439 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont2loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont2loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2break1(int loopDepth) 
	{
		try {
			return a_body1cont3(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1875 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = srcTr->onError(e);
															#line 1875 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 16476 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), std::max(0, loopDepth - 1)); else return a_body1cont2loopBody1Catch1when1(__when_expr_7.get(), loopDepth); };
			static_cast<_executeActor6*>(this)->actor_wait_state = 8;
															#line 1875 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 7, Void >*>(static_cast<_executeActor6*>(this)));
															#line 16481 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(int loopDepth) 
	{
															#line 1834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present() && BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) > BinaryReader::fromStringRef<Version>( task->params[DatabaseBackupAgent::keyFolderId], Unversioned()))
															#line 16496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1837 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor6State(); static_cast<_executeActor6*>(this)->destroy(); return 0; }
															#line 16500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor6*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor6State();
			static_cast<_executeActor6*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1840 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupRanges.size() == 1 || isDefaultBackup(backupRanges))
															#line 16508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<RangeResult> __when_expr_5 = srcTr->getRange( KeyRangeRef(destUidLookupPrefix, strinc(destUidLookupPrefix)), CLIENT_KNOBS->TOO_MANY);
															#line 1841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 16514 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1cont2loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_5.get(), loopDepth); };
			static_cast<_executeActor6*>(this)->actor_wait_state = 6;
															#line 1841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 5, RangeResult >*>(static_cast<_executeActor6*>(this)));
															#line 16519 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont2loopBody1cont3(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Optional<Value> const& __v,int loopDepth) 
	{
															#line 1833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		v = __v;
															#line 16533 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Optional<Value> && __v,int loopDepth) 
	{
		v = std::move(__v);
		loopDepth = a_body1cont2loopBody1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 4, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 4, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont2loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 4, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont2loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _executeActor6, 4, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont2loopBody1cont3(int loopDepth) 
	{
															#line 1870 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Key versionKey = logUidValue.withPrefix(destUidValue).withPrefix(backupLatestVersionsPrefix);
															#line 1871 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set(versionKey, task->params[DatabaseBackupAgent::keyBeginVersion]);
															#line 1872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = srcTr->commit();
															#line 1872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor6*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 16606 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont2loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_6.get(), loopDepth); };
		static_cast<_executeActor6*>(this)->actor_wait_state = 7;
															#line 1872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _executeActor6, 6, Void >*>(static_cast<_executeActor6*>(this)));
															#line 16611 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont5(RangeResult const& existingDestUidValues,int loopDepth) 
	{
															#line 1843 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool found = false;
															#line 1844 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRangeRef targetRange = (backupRanges.size() == 1) ? backupRanges[0] : getDefaultBackupSharedRange();
															#line 1846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto it : existingDestUidValues ) {
															#line 1847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			KeyRange uidRange = BinaryReader::fromStringRef<KeyRange>( it.key.removePrefix(destUidLookupPrefix), IncludeVersion());
															#line 1849 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (uidRange == targetRange)
															#line 16628 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1850 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (destUidValue != it.value)
															#line 16632 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 1852 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					if (!static_cast<_executeActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor6State(); static_cast<_executeActor6*>(this)->destroy(); return 0; }
															#line 16636 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					new (&static_cast<_executeActor6*>(this)->SAV< Void >::value()) Void(Void());
					this->~_executeActor6State();
					static_cast<_executeActor6*>(this)->finishSendAndDelPromiseRef();
					return 0;
				}
				else
				{
															#line 1855 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					found = true;
															#line 16646 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					break;
				}
			}
		}
															#line 1860 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (found)
															#line 16653 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 1864 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set( BinaryWriter::toValue(targetRange, IncludeVersion(ProtocolVersion::withSharedMutations())) .withPrefix(destUidLookupPrefix), destUidValue);
															#line 16659 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont5(RangeResult && existingDestUidValues,int loopDepth) 
	{
															#line 1843 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool found = false;
															#line 1844 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRangeRef targetRange = (backupRanges.size() == 1) ? backupRanges[0] : getDefaultBackupSharedRange();
															#line 1846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto it : existingDestUidValues ) {
															#line 1847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			KeyRange uidRange = BinaryReader::fromStringRef<KeyRange>( it.key.removePrefix(destUidLookupPrefix), IncludeVersion());
															#line 1849 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (uidRange == targetRange)
															#line 16676 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 1850 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (destUidValue != it.value)
															#line 16680 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				{
															#line 1852 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					if (!static_cast<_executeActor6*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor6State(); static_cast<_executeActor6*>(this)->destroy(); return 0; }
															#line 16684 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					new (&static_cast<_executeActor6*>(this)->SAV< Void >::value()) Void(Void());
					this->~_executeActor6State();
					static_cast<_executeActor6*>(this)->finishSendAndDelPromiseRef();
					return 0;
				}
				else
				{
															#line 1855 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					found = true;
															#line 16694 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
					break;
				}
			}
		}
															#line 1860 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (found)
															#line 16701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 1864 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set( BinaryWriter::toValue(targetRange, IncludeVersion(ProtocolVersion::withSharedMutations())) .withPrefix(destUidLookupPrefix), destUidValue);
															#line 16707 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopBody1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(RangeResult const& existingDestUidValues,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont5(existingDestUidValues, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(RangeResult && existingDestUidValues,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont5(std::move(existingDestUidValues), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 5, RangeResult >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 5, RangeResult >*,RangeResult const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 5, RangeResult >*,RangeResult && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _executeActor6, 5, RangeResult >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont2loopBody1cont12(Void const& _,int loopDepth) 
	{
		return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont2loopBody1cont12(Void && _,int loopDepth) 
	{
		return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont12(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont12(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _executeActor6, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont2loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<_executeActor6*>(this)->actor_wait_state > 0) static_cast<_executeActor6*>(this)->actor_wait_state = 0;
		static_cast<_executeActor6*>(this)->ActorCallback< _executeActor6, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor6, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< _executeActor6, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< _executeActor6, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1795 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue;
															#line 1796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace sourceStates;
															#line 1798 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace config;
															#line 1803 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> backupRanges;
															#line 1804 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1826 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key destUidValue;
															#line 1827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> srcTr;
															#line 1833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> v;
															#line 16949 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor6 final : public Actor<Void>, public ActorCallback< _executeActor6, 0, Void >, public ActorCallback< _executeActor6, 1, Void >, public ActorCallback< _executeActor6, 2, Optional<Key> >, public ActorCallback< _executeActor6, 3, Void >, public ActorCallback< _executeActor6, 4, Optional<Value> >, public ActorCallback< _executeActor6, 5, RangeResult >, public ActorCallback< _executeActor6, 6, Void >, public ActorCallback< _executeActor6, 7, Void >, public FastAllocated<_executeActor6>, public _executeActor6State<_executeActor6> {
															#line 16954 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor6>::operator new;
	using FastAllocated<_executeActor6>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor6, 0, Void >;
friend struct ActorCallback< _executeActor6, 1, Void >;
friend struct ActorCallback< _executeActor6, 2, Optional<Key> >;
friend struct ActorCallback< _executeActor6, 3, Void >;
friend struct ActorCallback< _executeActor6, 4, Optional<Value> >;
friend struct ActorCallback< _executeActor6, 5, RangeResult >;
friend struct ActorCallback< _executeActor6, 6, Void >;
friend struct ActorCallback< _executeActor6, 7, Void >;
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor6(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 16972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor6State<_executeActor6>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor6, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor6, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _executeActor6, 2, Optional<Key> >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _executeActor6, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _executeActor6, 4, Optional<Value> >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _executeActor6, 5, RangeResult >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _executeActor6, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< _executeActor6, 7, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor6(cx, taskBucket, futureBucket, task));
															#line 17006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1884 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 17011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor10>
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor10State {
															#line 17017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor10State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task)
															#line 17030 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor10State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(tr, task, CopyDiffLogsUpgradeTaskFunc::name, CopyDiffLogsUpgradeTaskFunc::version);
															#line 1889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17047 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor10*>(this)->actor_wait_state = 1;
															#line 1889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor10, 0, Void >*>(static_cast<_finishActor10*>(this)));
															#line 17052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor10State();
		static_cast<_finishActor10*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1892 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (task->params[BackupAgentBase::destUid].size() == 0)
															#line 17077 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1893 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_CopyDiffLogsUpgradeTaskFuncAbortInUpgrade").log();
															#line 1894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = success(AbortOldBackupTaskFunc::addTask(tr, taskBucket, task, TaskCompletionKey::signal(onDone)));
															#line 1894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17085 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_finishActor10*>(this)->actor_wait_state = 2;
															#line 1894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor10, 1, Void >*>(static_cast<_finishActor10*>(this)));
															#line 17090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1898 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Subspace config = Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[DatabaseBackupAgent::keyConfigLogUid]);
															#line 1901 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(config.pack(BackupAgentBase::destUid), task->params[BackupAgentBase::destUid]);
															#line 1902 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(config.pack(BackupAgentBase::keyDrVersion), BinaryWriter::toValue(DatabaseBackupAgent::LATEST_DR_VERSION, Unversioned()));
															#line 1904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_2 = success(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, 0, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17107 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1when2(__when_expr_2.get(), loopDepth); };
			static_cast<_finishActor10*>(this)->actor_wait_state = 3;
															#line 1904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor10, 2, Void >*>(static_cast<_finishActor10*>(this)));
															#line 17112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1892 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (task->params[BackupAgentBase::destUid].size() == 0)
															#line 17124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1893 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_CopyDiffLogsUpgradeTaskFuncAbortInUpgrade").log();
															#line 1894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_1 = success(AbortOldBackupTaskFunc::addTask(tr, taskBucket, task, TaskCompletionKey::signal(onDone)));
															#line 1894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_finishActor10*>(this)->actor_wait_state = 2;
															#line 1894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor10, 1, Void >*>(static_cast<_finishActor10*>(this)));
															#line 17137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version beginVersion = BinaryReader::fromStringRef<Version>(task->params[DatabaseBackupAgent::keyBeginVersion], Unversioned());
															#line 1898 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Subspace config = Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[DatabaseBackupAgent::keyConfigLogUid]);
															#line 1901 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(config.pack(BackupAgentBase::destUid), task->params[BackupAgentBase::destUid]);
															#line 1902 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(config.pack(BackupAgentBase::keyDrVersion), BinaryWriter::toValue(DatabaseBackupAgent::LATEST_DR_VERSION, Unversioned()));
															#line 1904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_2 = success(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, 0, beginVersion, TaskCompletionKey::signal(onDone)));
															#line 1904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1when2(__when_expr_2.get(), loopDepth); };
			static_cast<_finishActor10*>(this)->actor_wait_state = 3;
															#line 1904 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor10, 2, Void >*>(static_cast<_finishActor10*>(this)));
															#line 17159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor10*>(this)->actor_wait_state > 0) static_cast<_finishActor10*>(this)->actor_wait_state = 0;
		static_cast<_finishActor10*>(this)->ActorCallback< _finishActor10, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor10, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor10, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor10, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 1908 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = taskBucket->finish(tr, task);
															#line 1908 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17234 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont2when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor10*>(this)->actor_wait_state = 4;
															#line 1908 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor10, 3, Void >*>(static_cast<_finishActor10*>(this)));
															#line 17239 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont3(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont3(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor10*>(this)->actor_wait_state > 0) static_cast<_finishActor10*>(this)->actor_wait_state = 0;
		static_cast<_finishActor10*>(this)->ActorCallback< _finishActor10, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor10, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor10, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor10, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont4(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont4(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor10*>(this)->actor_wait_state > 0) static_cast<_finishActor10*>(this)->actor_wait_state = 0;
		static_cast<_finishActor10*>(this)->ActorCallback< _finishActor10, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor10, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor10, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor10, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
															#line 1909 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor10*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor10State(); static_cast<_finishActor10*>(this)->destroy(); return 0; }
															#line 17398 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor10*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor10State();
		static_cast<_finishActor10*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
															#line 1909 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor10*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor10State(); static_cast<_finishActor10*>(this)->destroy(); return 0; }
															#line 17410 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor10*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor10State();
		static_cast<_finishActor10*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_finishActor10*>(this)->actor_wait_state > 0) static_cast<_finishActor10*>(this)->actor_wait_state = 0;
		static_cast<_finishActor10*>(this)->ActorCallback< _finishActor10, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor10, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _finishActor10, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _finishActor10, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> onDone;
															#line 17491 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor10 final : public Actor<Void>, public ActorCallback< _finishActor10, 0, Void >, public ActorCallback< _finishActor10, 1, Void >, public ActorCallback< _finishActor10, 2, Void >, public ActorCallback< _finishActor10, 3, Void >, public FastAllocated<_finishActor10>, public _finishActor10State<_finishActor10> {
															#line 17496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor10>::operator new;
	using FastAllocated<_finishActor10>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor10, 0, Void >;
friend struct ActorCallback< _finishActor10, 1, Void >;
friend struct ActorCallback< _finishActor10, 2, Void >;
friend struct ActorCallback< _finishActor10, 3, Void >;
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor10(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 17510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor10State<_finishActor10>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor10, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor10, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor10, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _finishActor10, 3, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor10(tr, taskBucket, futureBucket, task));
															#line 17540 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef CopyDiffLogsUpgradeTaskFunc::name = "db_copy_diff_logs"_sr;
REGISTER_TASKFUNC(CopyDiffLogsUpgradeTaskFunc);

struct BackupRestorableTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 17567 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor7>
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor7State {
															#line 17573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor7State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1938 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   sourceStates(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keySourceStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 17588 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor7State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1941 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, BackupRestorableTaskFunc::name, BackupRestorableTaskFunc::version);
															#line 1941 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor7*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 17605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor7*>(this)->actor_wait_state = 1;
															#line 1941 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor7, 0, Void >*>(static_cast<_executeActor7*>(this)));
															#line 17610 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor7State();
		static_cast<_executeActor7*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1942 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Transaction(taskBucket->src);
															#line 1943 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 17635 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1942 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Transaction(taskBucket->src);
															#line 1943 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 17646 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor7*>(this)->actor_wait_state > 0) static_cast<_executeActor7*>(this)->actor_wait_state = 0;
		static_cast<_executeActor7*>(this)->ActorCallback< _executeActor7, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor7, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor7, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor7, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
		try {
															#line 1945 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 1946 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.addReadConflictRange(singleKeyRange(sourceStates.pack(DatabaseBackupAgent::keyStateStatus)));
															#line 1947 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr.set(sourceStates.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_RUNNING_DIFFERENTIAL)));
															#line 1950 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Key versionKey = task->params[DatabaseBackupAgent::keyConfigLogUid] .withPrefix(task->params[BackupAgentBase::destUid]) .withPrefix(backupLatestVersionsPrefix);
															#line 1953 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Key>> __when_expr_1 = tr.get(versionKey);
															#line 1953 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor7*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 17736 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<_executeActor7*>(this)->actor_wait_state = 2;
															#line 1953 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor7, 1, Optional<Key> >*>(static_cast<_executeActor7*>(this)));
															#line 17741 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 1963 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = tr.onError(e);
															#line 1963 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor7*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 17765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_3.get(), loopDepth); };
			static_cast<_executeActor7*>(this)->actor_wait_state = 4;
															#line 1963 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor7, 3, Void >*>(static_cast<_executeActor7*>(this)));
															#line 17770 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Optional<Key> const& prevBeginVersion,int loopDepth) 
	{
															#line 1954 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!prevBeginVersion.present())
															#line 17785 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1955 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor7*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor7State(); static_cast<_executeActor7*>(this)->destroy(); return 0; }
															#line 17789 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor7*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor7State();
			static_cast<_executeActor7*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1958 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyPrevBeginVersion] = prevBeginVersion.get();
															#line 1960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr.commit();
															#line 1960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor7*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 17801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor7*>(this)->actor_wait_state = 3;
															#line 1960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor7, 2, Void >*>(static_cast<_executeActor7*>(this)));
															#line 17806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Optional<Key> && prevBeginVersion,int loopDepth) 
	{
															#line 1954 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!prevBeginVersion.present())
															#line 17815 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1955 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor7*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor7State(); static_cast<_executeActor7*>(this)->destroy(); return 0; }
															#line 17819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor7*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor7State();
			static_cast<_executeActor7*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 1958 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyPrevBeginVersion] = prevBeginVersion.get();
															#line 1960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr.commit();
															#line 1960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor7*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 17831 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor7*>(this)->actor_wait_state = 3;
															#line 1960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor7, 2, Void >*>(static_cast<_executeActor7*>(this)));
															#line 17836 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Key> const& prevBeginVersion,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(prevBeginVersion, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Key> && prevBeginVersion,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(std::move(prevBeginVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor7*>(this)->actor_wait_state > 0) static_cast<_executeActor7*>(this)->actor_wait_state = 0;
		static_cast<_executeActor7*>(this)->ActorCallback< _executeActor7, 1, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor7, 1, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor7, 1, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor7, 1, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 1961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor7*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor7State(); static_cast<_executeActor7*>(this)->destroy(); return 0; }
															#line 17908 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor7*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor7State();
		static_cast<_executeActor7*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 1961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor7*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor7State(); static_cast<_executeActor7*>(this)->destroy(); return 0; }
															#line 17920 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor7*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor7State();
		static_cast<_executeActor7*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor7*>(this)->actor_wait_state > 0) static_cast<_executeActor7*>(this)->actor_wait_state = 0;
		static_cast<_executeActor7*>(this)->ActorCallback< _executeActor7, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor7, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _executeActor7, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _executeActor7, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_executeActor7*>(this)->actor_wait_state > 0) static_cast<_executeActor7*>(this)->actor_wait_state = 0;
		static_cast<_executeActor7*>(this)->ActorCallback< _executeActor7, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor7, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _executeActor7, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _executeActor7, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1938 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace sourceStates;
															#line 1942 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Transaction tr;
															#line 18078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor7 final : public Actor<Void>, public ActorCallback< _executeActor7, 0, Void >, public ActorCallback< _executeActor7, 1, Optional<Key> >, public ActorCallback< _executeActor7, 2, Void >, public ActorCallback< _executeActor7, 3, Void >, public FastAllocated<_executeActor7>, public _executeActor7State<_executeActor7> {
															#line 18083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor7>::operator new;
	using FastAllocated<_executeActor7>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor7, 0, Void >;
friend struct ActorCallback< _executeActor7, 1, Optional<Key> >;
friend struct ActorCallback< _executeActor7, 2, Void >;
friend struct ActorCallback< _executeActor7, 3, Void >;
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor7(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 18097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor7State<_executeActor7>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor7, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor7, 1, Optional<Key> >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _executeActor7, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _executeActor7, 3, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor7(cx, taskBucket, futureBucket, task));
															#line 18127 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 1967 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 18132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor11>
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor11State {
															#line 18138 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor11State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 1972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   conf(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(task->params[BackupAgentBase::keyConfigLogUid])),
															#line 1975 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   states(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyStates) .get(task->params[BackupAgentBase::keyConfigLogUid]))
															#line 18155 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor11State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 1978 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(tr, task, BackupRestorableTaskFunc::name, BackupRestorableTaskFunc::version);
															#line 1978 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18172 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_finishActor11*>(this)->actor_wait_state = 1;
															#line 1978 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 0, Void >*>(static_cast<_finishActor11*>(this)));
															#line 18177 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor11State();
		static_cast<_finishActor11*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 1980 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_1 = tr->get(states.pack(DatabaseBackupAgent::keyStateStop));
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor11*>(this)->actor_wait_state = 2;
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 1, Optional<Value> >*>(static_cast<_finishActor11*>(this)));
															#line 18209 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 1980 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		onDone = futureBucket->unpack(task->params[Task::reservedTaskParamKeyDone]);
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_1 = tr->get(states.pack(DatabaseBackupAgent::keyStateStop));
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18222 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor11*>(this)->actor_wait_state = 2;
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 1, Optional<Value> >*>(static_cast<_finishActor11*>(this)));
															#line 18227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor11, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 1983 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		restoreVersion = stopValue.present() ? BinaryReader::fromStringRef<Version>(stopValue.get(), Unversioned()) : -1;
															#line 1986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_2 = tr->get(conf.pack(DatabaseBackupAgent::keyConfigStopWhenDoneKey));
															#line 1986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18303 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_finishActor11*>(this)->actor_wait_state = 3;
															#line 1986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 2, Optional<Value> >*>(static_cast<_finishActor11*>(this)));
															#line 18308 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1when1(Optional<Value> const& __stopValue,int loopDepth) 
	{
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		stopValue = __stopValue;
															#line 18317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Optional<Value> && __stopValue,int loopDepth) 
	{
		stopValue = std::move(__stopValue);
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 1, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 1, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 1, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor11, 1, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 1987 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		allPartsDone = Reference<TaskFuture>();
															#line 1989 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Complete") .detail("RestoreVersion", restoreVersion) .detail("Differential", stopWhenDone.present()) .detail("LogUID", task->params[BackupAgentBase::keyConfigLogUid]);
															#line 1995 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (stopWhenDone.present())
															#line 18388 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 1997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = success(FinishedFullBackupTaskFunc::addTask(tr, taskBucket, task, TaskCompletionKey::noSignal()));
															#line 1997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18394 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont3when1(__when_expr_3.get(), loopDepth); };
			static_cast<_finishActor11*>(this)->actor_wait_state = 4;
															#line 1997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 3, Void >*>(static_cast<_finishActor11*>(this)));
															#line 18399 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 1999 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(states.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_RUNNING_DIFFERENTIAL)));
															#line 2002 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			allPartsDone = futureBucket->future(tr);
															#line 2004 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version prevBeginVersion = BinaryReader::fromStringRef<Version>( task->params[DatabaseBackupAgent::keyPrevBeginVersion], Unversioned());
															#line 2006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = success(CopyDiffLogsTaskFunc::addTask( tr, taskBucket, task, prevBeginVersion, restoreVersion, TaskCompletionKey::joinWith(allPartsDone)));
															#line 2006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18414 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont3when2(__when_expr_4.get(), loopDepth); };
			static_cast<_finishActor11*>(this)->actor_wait_state = 5;
															#line 2006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 4, Void >*>(static_cast<_finishActor11*>(this)));
															#line 18419 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1cont2when1(Optional<Value> const& __stopWhenDone,int loopDepth) 
	{
															#line 1986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		stopWhenDone = __stopWhenDone;
															#line 18429 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Optional<Value> && __stopWhenDone,int loopDepth) 
	{
		stopWhenDone = std::move(__stopWhenDone);
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 2, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 2, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 2, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor11, 2, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont4(int loopDepth) 
	{
															#line 2014 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = taskBucket->finish(tr, task);
															#line 2014 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18498 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont4when1(__when_expr_6.get(), loopDepth); };
		static_cast<_finishActor11*>(this)->actor_wait_state = 7;
															#line 2014 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 6, Void >*>(static_cast<_finishActor11*>(this)));
															#line 18503 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(loopDepth);

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _finishActor11, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont6(Void const& _,int loopDepth) 
	{
															#line 2010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_5 = success(FinishedFullBackupTaskFunc::addTask( tr, taskBucket, task, TaskCompletionKey::noSignal(), allPartsDone));
															#line 2010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont6when1(__when_expr_5.get(), loopDepth); };
		static_cast<_finishActor11*>(this)->actor_wait_state = 6;
															#line 2010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 5, Void >*>(static_cast<_finishActor11*>(this)));
															#line 18594 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont6(Void && _,int loopDepth) 
	{
															#line 2010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_5 = success(FinishedFullBackupTaskFunc::addTask( tr, taskBucket, task, TaskCompletionKey::noSignal(), allPartsDone));
															#line 2010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor11*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont6when1(__when_expr_5.get(), loopDepth); };
		static_cast<_finishActor11*>(this)->actor_wait_state = 6;
															#line 2010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _finishActor11, 5, Void >*>(static_cast<_finishActor11*>(this)));
															#line 18610 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont3when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont6(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont6(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont3when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont3when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _finishActor11, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont7(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(loopDepth);

		return loopDepth;
	}
	int a_body1cont7(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(loopDepth);

		return loopDepth;
	}
	int a_body1cont6when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont7(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont6when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont7(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 5, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 5, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont6when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 5, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont6when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _finishActor11, 5, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont8(Void const& _,int loopDepth) 
	{
															#line 2015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor11*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor11State(); static_cast<_finishActor11*>(this)->destroy(); return 0; }
															#line 18757 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor11*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor11State();
		static_cast<_finishActor11*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont8(Void && _,int loopDepth) 
	{
															#line 2015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor11*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor11State(); static_cast<_finishActor11*>(this)->destroy(); return 0; }
															#line 18769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor11*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor11State();
		static_cast<_finishActor11*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont4when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont8(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont4when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont8(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_finishActor11*>(this)->actor_wait_state > 0) static_cast<_finishActor11*>(this)->actor_wait_state = 0;
		static_cast<_finishActor11*>(this)->ActorCallback< _finishActor11, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor11, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _finishActor11, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _finishActor11, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 6);

	}
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 1972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace conf;
															#line 1975 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace states;
															#line 1980 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> onDone;
															#line 1982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> stopValue;
															#line 1983 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version restoreVersion;
															#line 1986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> stopWhenDone;
															#line 1987 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> allPartsDone;
															#line 18862 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor11 final : public Actor<Void>, public ActorCallback< _finishActor11, 0, Void >, public ActorCallback< _finishActor11, 1, Optional<Value> >, public ActorCallback< _finishActor11, 2, Optional<Value> >, public ActorCallback< _finishActor11, 3, Void >, public ActorCallback< _finishActor11, 4, Void >, public ActorCallback< _finishActor11, 5, Void >, public ActorCallback< _finishActor11, 6, Void >, public FastAllocated<_finishActor11>, public _finishActor11State<_finishActor11> {
															#line 18867 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor11>::operator new;
	using FastAllocated<_finishActor11>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor11, 0, Void >;
friend struct ActorCallback< _finishActor11, 1, Optional<Value> >;
friend struct ActorCallback< _finishActor11, 2, Optional<Value> >;
friend struct ActorCallback< _finishActor11, 3, Void >;
friend struct ActorCallback< _finishActor11, 4, Void >;
friend struct ActorCallback< _finishActor11, 5, Void >;
friend struct ActorCallback< _finishActor11, 6, Void >;
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor11(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 18884 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor11State<_finishActor11>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor11, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor11, 1, Optional<Value> >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor11, 2, Optional<Value> >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _finishActor11, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _finishActor11, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _finishActor11, 5, Void >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _finishActor11, 6, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 1968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor11(tr, taskBucket, futureBucket, task));
															#line 18917 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 18922 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor9>
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor9State {
															#line 18928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor9State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   parentTask(parentTask),
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor)
															#line 18943 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor9State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 2023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor9*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 18960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor9*>(this)->actor_wait_state = 1;
															#line 2023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor9, 0, Key >*>(static_cast<AddTaskActor9*>(this)));
															#line 18965 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor9State();
		static_cast<AddTaskActor9*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 2024 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(BackupRestorableTaskFunc::name, BackupRestorableTaskFunc::version, doneKey);
															#line 2026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 2028 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 18992 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2029 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor9*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor9State(); static_cast<AddTaskActor9*>(this)->destroy(); return 0; }
															#line 18996 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor9*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor9State();
			static_cast<AddTaskActor9*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 2035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor9*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 19006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor9*>(this)->actor_wait_state = 2;
															#line 2035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor9, 1, Void >*>(static_cast<AddTaskActor9*>(this)));
															#line 19011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 2024 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(BackupRestorableTaskFunc::name, BackupRestorableTaskFunc::version, doneKey);
															#line 2026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		copyDefaultParameters(parentTask, task);
															#line 2028 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 19024 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2029 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor9*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor9State(); static_cast<AddTaskActor9*>(this)->destroy(); return 0; }
															#line 19028 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor9*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor9State();
			static_cast<AddTaskActor9*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, parentTask->params[Task::reservedTaskParamValidKey], task->params[BackupAgentBase::keyFolderId]);
															#line 2035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor9*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 19038 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor9*>(this)->actor_wait_state = 2;
															#line 2035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor9, 1, Void >*>(static_cast<AddTaskActor9*>(this)));
															#line 19043 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor9*>(this)->actor_wait_state > 0) static_cast<AddTaskActor9*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor9*>(this)->ActorCallback< AddTaskActor9, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor9, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor9, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor9, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 2040 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor9*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor9State(); static_cast<AddTaskActor9*>(this)->destroy(); return 0; }
															#line 19115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor9*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor9State();
		static_cast<AddTaskActor9*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 2040 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor9*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor9State(); static_cast<AddTaskActor9*>(this)->destroy(); return 0; }
															#line 19127 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor9*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor9State();
		static_cast<AddTaskActor9*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor9*>(this)->actor_wait_state > 0) static_cast<AddTaskActor9*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor9*>(this)->ActorCallback< AddTaskActor9, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor9, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor9, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor9, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> parentTask;
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 19208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor9 final : public Actor<Key>, public ActorCallback< AddTaskActor9, 0, Key >, public ActorCallback< AddTaskActor9, 1, Void >, public FastAllocated<AddTaskActor9>, public AddTaskActor9State<AddTaskActor9> {
															#line 19213 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor9>::operator new;
	using FastAllocated<AddTaskActor9>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor9, 0, Key >;
friend struct ActorCallback< AddTaskActor9, 1, Void >;
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor9(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<Task> const& parentTask,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>()) 
															#line 19225 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor9State<AddTaskActor9>(tr, taskBucket, parentTask, completionKey, waitFor)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor9, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor9, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<Task> const& parentTask, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>() ) {
															#line 2018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor9(tr, taskBucket, parentTask, completionKey, waitFor));
															#line 19253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2042 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef BackupRestorableTaskFunc::name = "dr_backup_restorable"_sr;
REGISTER_TASKFUNC(BackupRestorableTaskFunc);

struct StartFullBackupTaskFunc : TaskFuncBase {
	static StringRef name;
	static constexpr uint32_t version = 1;

																#line 19280 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _execute()
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _executeActor8>
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor8State {
															#line 19286 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor8State(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : cx(cx),
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 2069 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUidValue(task->params[DatabaseBackupAgent::keyConfigLogUid]),
															#line 2070 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   sourceStates(Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keySourceStates).get(logUidValue))
															#line 19303 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_execute", reinterpret_cast<unsigned long>(this));

	}
	~_executeActor8State() 
	{
		fdb_probe_actor_destroy("_execute", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2072 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = checkTaskVersion(cx, task, StartFullBackupTaskFunc::name, StartFullBackupTaskFunc::version);
															#line 2072 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 19320 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 1;
															#line 2072 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 0, Void >*>(static_cast<_executeActor8*>(this)));
															#line 19325 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_executeActor8State();
		static_cast<_executeActor8*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Void const& _,int loopDepth) 
	{
															#line 2073 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destUidValue = Key(logUidValue);
															#line 2075 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = BinaryReader::fromStringRef<Standalone<VectorRef<KeyRangeRef>>>( task->params[DatabaseBackupAgent::keyConfigBackupRanges], IncludeVersion());
															#line 2078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersionKey = Key();
															#line 2080 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 2081 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 19356 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1(Void && _,int loopDepth) 
	{
															#line 2073 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destUidValue = Key(logUidValue);
															#line 2075 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = BinaryReader::fromStringRef<Standalone<VectorRef<KeyRangeRef>>>( task->params[DatabaseBackupAgent::keyConfigBackupRanges], IncludeVersion());
															#line 2078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersionKey = Key();
															#line 2080 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 2081 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 19373 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _executeActor8, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 2131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 19445 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
		try {
															#line 2083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2084 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (backupRanges.size() == 1 || isDefaultBackup(backupRanges))
															#line 19466 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				StrictFuture<RangeResult> __when_expr_1 = srcTr->getRange( KeyRangeRef(destUidLookupPrefix, strinc(destUidLookupPrefix)), CLIENT_KNOBS->TOO_MANY);
															#line 2088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 19472 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
				static_cast<_executeActor8*>(this)->actor_wait_state = 2;
															#line 2088 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 1, RangeResult >*>(static_cast<_executeActor8*>(this)));
															#line 19477 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = 0;
			}
			else
			{
				loopDepth = a_body1cont1loopBody1cont2(loopDepth);
			}
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1break1(int loopDepth) 
	{
		try {
			return a_body1cont2(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2127 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_5 = srcTr->onError(e);
															#line 2127 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 19519 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1Catch1(__when_expr_5.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_5.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 6;
															#line 2127 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 5, Void >*>(static_cast<_executeActor8*>(this)));
															#line 19524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(int loopDepth) 
	{
															#line 2113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Version> __when_expr_2 = srcTr->getReadVersion();
															#line 2113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 19541 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 3;
															#line 2113 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 2, Version >*>(static_cast<_executeActor8*>(this)));
															#line 19546 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(RangeResult const& existingDestUidValues,int loopDepth) 
	{
															#line 2090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRangeRef targetRange = (backupRanges.size() == 1) ? backupRanges[0] : getDefaultBackupSharedRange();
															#line 2092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool found = false;
															#line 2093 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto it : existingDestUidValues ) {
															#line 2094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			KeyRange uidRange = BinaryReader::fromStringRef<KeyRange>( it.key.removePrefix(destUidLookupPrefix), IncludeVersion());
															#line 2096 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (uidRange == targetRange)
															#line 19563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				destUidValue = it.value;
															#line 2098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				found = true;
															#line 2099 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				CODE_PROBE(targetRange == getDefaultBackupSharedRange(), "DR mutation sharing with default backup");
															#line 19571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				break;
			}
		}
															#line 2104 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!found)
															#line 19577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destUidValue = BinaryWriter::toValue(deterministicRandom()->randomUniqueID(), Unversioned());
															#line 2106 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set( BinaryWriter::toValue(targetRange, IncludeVersion(ProtocolVersion::withSharedMutations())) .withPrefix(destUidLookupPrefix), destUidValue);
															#line 19583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		loopDepth = a_body1cont1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(RangeResult && existingDestUidValues,int loopDepth) 
	{
															#line 2090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRangeRef targetRange = (backupRanges.size() == 1) ? backupRanges[0] : getDefaultBackupSharedRange();
															#line 2092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bool found = false;
															#line 2093 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto it : existingDestUidValues ) {
															#line 2094 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			KeyRange uidRange = BinaryReader::fromStringRef<KeyRange>( it.key.removePrefix(destUidLookupPrefix), IncludeVersion());
															#line 2096 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (uidRange == targetRange)
															#line 19601 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				destUidValue = it.value;
															#line 2098 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				found = true;
															#line 2099 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				CODE_PROBE(targetRange == getDefaultBackupSharedRange(), "DR mutation sharing with default backup");
															#line 19609 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				break;
			}
		}
															#line 2104 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!found)
															#line 19615 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destUidValue = BinaryWriter::toValue(deterministicRandom()->randomUniqueID(), Unversioned());
															#line 2106 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set( BinaryWriter::toValue(targetRange, IncludeVersion(ProtocolVersion::withSharedMutations())) .withPrefix(destUidLookupPrefix), destUidValue);
															#line 19621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		loopDepth = a_body1cont1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(RangeResult const& existingDestUidValues,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(existingDestUidValues, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(RangeResult && existingDestUidValues,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(existingDestUidValues), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 1, RangeResult >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 1, RangeResult >*,RangeResult const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 1, RangeResult >*,RangeResult && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _executeActor8, 1, RangeResult >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont8(Version const& bVersion,int loopDepth) 
	{
															#line 2114 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersionKey = BinaryWriter::toValue(bVersion, Unversioned());
															#line 2116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		versionKey = logUidValue.withPrefix(destUidValue).withPrefix(backupLatestVersionsPrefix);
															#line 2117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_3 = srcTr->get(versionKey);
															#line 2117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 19700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont8when1(__when_expr_3.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 4;
															#line 2117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 3, Optional<Key> >*>(static_cast<_executeActor8*>(this)));
															#line 19705 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont8(Version && bVersion,int loopDepth) 
	{
															#line 2114 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		beginVersionKey = BinaryWriter::toValue(bVersion, Unversioned());
															#line 2116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		versionKey = logUidValue.withPrefix(destUidValue).withPrefix(backupLatestVersionsPrefix);
															#line 2117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_3 = srcTr->get(versionKey);
															#line 2117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 19720 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont8when1(__when_expr_3.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 4;
															#line 2117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 3, Optional<Key> >*>(static_cast<_executeActor8*>(this)));
															#line 19725 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Version const& bVersion,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont8(bVersion, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Version && bVersion,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont8(std::move(bVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 2, Version >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 2, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 2, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _executeActor8, 2, Version >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1cont9(Optional<Key> const& versionRecord,int loopDepth) 
	{
															#line 2118 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!versionRecord.present())
															#line 19797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2119 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set(versionKey, beginVersionKey);
															#line 19801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2122 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::destUid] = destUidValue;
															#line 2124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = srcTr->commit();
															#line 2124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 19809 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1cont1loopBody1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont1loopBody1cont9when1(__when_expr_4.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 5;
															#line 2124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 4, Void >*>(static_cast<_executeActor8*>(this)));
															#line 19814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont9(Optional<Key> && versionRecord,int loopDepth) 
	{
															#line 2118 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!versionRecord.present())
															#line 19823 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2119 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set(versionKey, beginVersionKey);
															#line 19827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2122 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::destUid] = destUidValue;
															#line 2124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = srcTr->commit();
															#line 2124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 19835 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1cont1loopBody1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont1loopBody1cont9when1(__when_expr_4.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 5;
															#line 2124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 4, Void >*>(static_cast<_executeActor8*>(this)));
															#line 19840 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont8when1(Optional<Key> const& versionRecord,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont9(versionRecord, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont8when1(Optional<Key> && versionRecord,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont9(std::move(versionRecord), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 3, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 3, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont8when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 3, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont8when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _executeActor8, 3, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont1loopBody1cont10(Void const& _,int loopDepth) 
	{
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont10(Void && _,int loopDepth) 
	{
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont9when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont10(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont9when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont10(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1cont9when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1cont9when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _executeActor8, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 5, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 5, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 5, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< _executeActor8, 5, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 2162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr2 = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 2163 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 20064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1(int loopDepth) 
	{
															#line 2132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(cx));
															#line 20080 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		try {
															#line 2134 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2136 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			verified = taskBucket->keepRunning(tr, task);
															#line 2137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = verified;
															#line 2137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont2loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont2loopBody1when1(__when_expr_6.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 7;
															#line 2137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 6, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont2loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont2loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2break1(int loopDepth) 
	{
		try {
			return a_body1cont3(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2157 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("SetDestUidOrBeginVersionError").errorUnsuppressed(e);
															#line 2158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_9 = tr->onError(e);
															#line 2158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 20136 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1Catch1(__when_expr_9.getError(), std::max(0, loopDepth - 1)); else return a_body1cont2loopBody1Catch1when1(__when_expr_9.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 10;
															#line 2158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 9, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20141 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 2140 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		config = Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keyConfig).get(logUidValue);
															#line 2142 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(config.pack(BackupAgentBase::destUid), task->params[BackupAgentBase::destUid]);
															#line 2145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_7 = tr->get(config.pack(BackupAgentBase::backupStartVersion));
															#line 2145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1cont2loopBody1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_7.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 8;
															#line 2145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 7, Optional<Key> >*>(static_cast<_executeActor8*>(this)));
															#line 20167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 2140 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		config = Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keyConfig).get(logUidValue);
															#line 2142 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(config.pack(BackupAgentBase::destUid), task->params[BackupAgentBase::destUid]);
															#line 2145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_7 = tr->get(config.pack(BackupAgentBase::backupStartVersion));
															#line 2145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20182 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1cont2loopBody1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_7.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 8;
															#line 2145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 7, Optional<Key> >*>(static_cast<_executeActor8*>(this)));
															#line 20187 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< _executeActor8, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont2loopBody1cont3(Optional<Key> const& backupStartVersion,int loopDepth) 
	{
															#line 2146 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupStartVersion.present())
															#line 20259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2147 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			beginVersionKey = backupStartVersion.get();
															#line 20263 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
															#line 2149 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(config.pack(BackupAgentBase::backupStartVersion), beginVersionKey);
															#line 20269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2152 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyBeginVersion] = beginVersionKey;
															#line 2154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_8 = tr->commit();
															#line 2154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20277 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1cont2loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_8.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 9;
															#line 2154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 8, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20282 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3(Optional<Key> && backupStartVersion,int loopDepth) 
	{
															#line 2146 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupStartVersion.present())
															#line 20291 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2147 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			beginVersionKey = backupStartVersion.get();
															#line 20295 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
															#line 2149 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(config.pack(BackupAgentBase::backupStartVersion), beginVersionKey);
															#line 20301 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2152 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyBeginVersion] = beginVersionKey;
															#line 2154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_8 = tr->commit();
															#line 2154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20309 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1cont2loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_8.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 9;
															#line 2154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 8, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20314 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(Optional<Key> const& backupStartVersion,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont3(backupStartVersion, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(Optional<Key> && backupStartVersion,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont3(std::move(backupStartVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 7, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 7, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 7, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< _executeActor8, 7, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1cont2loopBody1cont4(Void const& _,int loopDepth) 
	{
		return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont2loopBody1cont4(Void && _,int loopDepth) 
	{
		return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 8, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 8, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 8, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< _executeActor8, 8, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 8);

	}
	int a_body1cont2loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose10() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 9, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 9, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 9, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_error(ActorCallback< _executeActor8, 9, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 9);

	}
	int a_body1cont4(int loopDepth) 
	{
															#line 2199 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr3 = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(taskBucket->src));
															#line 2200 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 20538 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont4loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont3loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1(int loopDepth) 
	{
		try {
															#line 2165 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr2->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2166 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr2->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_10 = srcTr2->get(sourceStates.pack(DatabaseBackupAgent::keyFolderId));
															#line 2168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont3loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20561 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1cont3loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont3loopBody1when1(__when_expr_10.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 11;
															#line 2168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 10, Optional<Value> >*>(static_cast<_executeActor8*>(this)));
															#line 20566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont3loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont3loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont3break1(int loopDepth) 
	{
		try {
			return a_body1cont4(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont3loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont3loopHead1(0);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_12 = srcTr2->onError(e);
															#line 2195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 20603 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_12.isReady()) { if (__when_expr_12.isError()) return a_body1Catch1(__when_expr_12.getError(), std::max(0, loopDepth - 1)); else return a_body1cont3loopBody1Catch1when1(__when_expr_12.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 13;
															#line 2195 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_12.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 12, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20608 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2(int loopDepth) 
	{
															#line 2170 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present() && BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) >= BinaryReader::fromStringRef<Version>( task->params[DatabaseBackupAgent::keyFolderId], Unversioned()))
															#line 20623 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<_executeActor8*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor8State(); static_cast<_executeActor8*>(this)->destroy(); return 0; }
															#line 20627 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<_executeActor8*>(this)->SAV< Void >::value()) Void(Void());
			this->~_executeActor8State();
			static_cast<_executeActor8*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2175 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr2->set(Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keySourceTagName) .pack(task->params[BackupAgentBase::keyTagName]), logUidValue);
															#line 2179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr2->set(sourceStates.pack(DatabaseBackupAgent::keyFolderId), task->params[DatabaseBackupAgent::keyFolderId]);
															#line 2181 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr2->set(sourceStates.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_RUNNING)));
															#line 2184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destPath = destUidValue.withPrefix(backupLogKeys.begin);
															#line 2186 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& backupRange : backupRanges ) {
															#line 2187 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr2->set(logRangesEncodeKey(backupRange.begin, BinaryReader::fromStringRef<UID>(destUidValue, Unversioned())), logRangesEncodeValue(backupRange.end, destPath));
															#line 20645 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_11 = srcTr2->commit();
															#line 2192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont3loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20651 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1cont3loopBody1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1cont3loopBody1cont2when1(__when_expr_11.get(), loopDepth); };
		static_cast<_executeActor8*>(this)->actor_wait_state = 12;
															#line 2192 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 11, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20656 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont3loopBody1when1(Optional<Value> const& __v,int loopDepth) 
	{
															#line 2168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		v = __v;
															#line 20665 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1when1(Optional<Value> && __v,int loopDepth) 
	{
		v = std::move(__v);
		loopDepth = a_body1cont3loopBody1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose11() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 10, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 10, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont3loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 10, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont3loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_error(ActorCallback< _executeActor8, 10, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont3loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 10);

	}
	int a_body1cont3loopBody1cont3(Void const& _,int loopDepth) 
	{
		return a_body1cont3break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont3loopBody1cont3(Void && _,int loopDepth) 
	{
		return a_body1cont3break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose12() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 11, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 11, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont3loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 11, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont3loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_error(ActorCallback< _executeActor8, 11, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont3loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 11);

	}
	int a_body1cont3loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose13() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 12, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 12, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1cont3loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 12, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1cont3loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_error(ActorCallback< _executeActor8, 12, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 12);

	}
	int a_body1cont5(int loopDepth) 
	{
															#line 2214 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_executeActor8*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_executeActor8State(); static_cast<_executeActor8*>(this)->destroy(); return 0; }
															#line 20882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_executeActor8*>(this)->SAV< Void >::value()) Void(Void());
		this->~_executeActor8State();
		static_cast<_executeActor8*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont4loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont4loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont4loopBody1(int loopDepth) 
	{
		try {
															#line 2202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr3->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2203 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr3->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2205 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr3->atomicOp(metadataVersionKey, metadataVersionRequiredValue, MutationRef::SetVersionstampedValue);
															#line 2207 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_13 = srcTr3->commit();
															#line 2207 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1cont4loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 20910 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_13.isReady()) { if (__when_expr_13.isError()) return a_body1cont4loopBody1Catch1(__when_expr_13.getError(), loopDepth); else return a_body1cont4loopBody1when1(__when_expr_13.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 14;
															#line 2207 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_13.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 13, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont4loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont4loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont4break1(int loopDepth) 
	{
		try {
			return a_body1cont5(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont4loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont4loopHead1(0);

		return loopDepth;
	}
	int a_body1cont4loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_14 = srcTr3->onError(e);
															#line 2210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<_executeActor8*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 20952 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_14.isReady()) { if (__when_expr_14.isError()) return a_body1Catch1(__when_expr_14.getError(), std::max(0, loopDepth - 1)); else return a_body1cont4loopBody1Catch1when1(__when_expr_14.get(), loopDepth); };
			static_cast<_executeActor8*>(this)->actor_wait_state = 15;
															#line 2210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_14.addCallbackAndClear(static_cast<ActorCallback< _executeActor8, 14, Void >*>(static_cast<_executeActor8*>(this)));
															#line 20957 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont4loopBody1cont2(Void const& _,int loopDepth) 
	{
		return a_body1cont4break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont4loopBody1cont2(Void && _,int loopDepth) 
	{
		return a_body1cont4break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont4loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont4loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose14() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 13, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 13, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont4loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 13);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 13, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont4loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 13);

	}
	void a_callback_error(ActorCallback< _executeActor8, 13, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont4loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 13);

	}
	int a_body1cont4loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont4loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont4loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont4loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose15() 
	{
		if (static_cast<_executeActor8*>(this)->actor_wait_state > 0) static_cast<_executeActor8*>(this)->actor_wait_state = 0;
		static_cast<_executeActor8*>(this)->ActorCallback< _executeActor8, 14, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _executeActor8, 14, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont4loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 14);

	}
	void a_callback_fire(ActorCallback< _executeActor8, 14, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont4loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 14);

	}
	void a_callback_error(ActorCallback< _executeActor8, 14, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), 14);

	}
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 2069 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue;
															#line 2070 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace sourceStates;
															#line 2073 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key destUidValue;
															#line 2075 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> backupRanges;
															#line 2078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key beginVersionKey;
															#line 2080 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> srcTr;
															#line 2116 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key versionKey;
															#line 2132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2136 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> verified;
															#line 2140 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace config;
															#line 2162 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> srcTr2;
															#line 2168 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> v;
															#line 2184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key destPath;
															#line 2199 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> srcTr3;
															#line 21154 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _execute()
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _executeActor8 final : public Actor<Void>, public ActorCallback< _executeActor8, 0, Void >, public ActorCallback< _executeActor8, 1, RangeResult >, public ActorCallback< _executeActor8, 2, Version >, public ActorCallback< _executeActor8, 3, Optional<Key> >, public ActorCallback< _executeActor8, 4, Void >, public ActorCallback< _executeActor8, 5, Void >, public ActorCallback< _executeActor8, 6, Void >, public ActorCallback< _executeActor8, 7, Optional<Key> >, public ActorCallback< _executeActor8, 8, Void >, public ActorCallback< _executeActor8, 9, Void >, public ActorCallback< _executeActor8, 10, Optional<Value> >, public ActorCallback< _executeActor8, 11, Void >, public ActorCallback< _executeActor8, 12, Void >, public ActorCallback< _executeActor8, 13, Void >, public ActorCallback< _executeActor8, 14, Void >, public FastAllocated<_executeActor8>, public _executeActor8State<_executeActor8> {
															#line 21159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_executeActor8>::operator new;
	using FastAllocated<_executeActor8>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _executeActor8, 0, Void >;
friend struct ActorCallback< _executeActor8, 1, RangeResult >;
friend struct ActorCallback< _executeActor8, 2, Version >;
friend struct ActorCallback< _executeActor8, 3, Optional<Key> >;
friend struct ActorCallback< _executeActor8, 4, Void >;
friend struct ActorCallback< _executeActor8, 5, Void >;
friend struct ActorCallback< _executeActor8, 6, Void >;
friend struct ActorCallback< _executeActor8, 7, Optional<Key> >;
friend struct ActorCallback< _executeActor8, 8, Void >;
friend struct ActorCallback< _executeActor8, 9, Void >;
friend struct ActorCallback< _executeActor8, 10, Optional<Value> >;
friend struct ActorCallback< _executeActor8, 11, Void >;
friend struct ActorCallback< _executeActor8, 12, Void >;
friend struct ActorCallback< _executeActor8, 13, Void >;
friend struct ActorCallback< _executeActor8, 14, Void >;
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_executeActor8(Database const& cx,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 21184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _executeActor8State<_executeActor8>(cx, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_execute", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_execute");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_execute", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _executeActor8, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _executeActor8, 1, RangeResult >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _executeActor8, 2, Version >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _executeActor8, 3, Optional<Key> >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _executeActor8, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< _executeActor8, 5, Void >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< _executeActor8, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< _executeActor8, 7, Optional<Key> >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< _executeActor8, 8, Void >*)0, actor_cancelled()); break;
		case 10: this->a_callback_error((ActorCallback< _executeActor8, 9, Void >*)0, actor_cancelled()); break;
		case 11: this->a_callback_error((ActorCallback< _executeActor8, 10, Optional<Value> >*)0, actor_cancelled()); break;
		case 12: this->a_callback_error((ActorCallback< _executeActor8, 11, Void >*)0, actor_cancelled()); break;
		case 13: this->a_callback_error((ActorCallback< _executeActor8, 12, Void >*)0, actor_cancelled()); break;
		case 14: this->a_callback_error((ActorCallback< _executeActor8, 13, Void >*)0, actor_cancelled()); break;
		case 15: this->a_callback_error((ActorCallback< _executeActor8, 14, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _execute( Database const& cx, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 2065 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _executeActor8(cx, taskBucket, futureBucket, task));
															#line 21225 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2216 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 21230 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via _finish()
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class _finishActor12>
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor12State {
															#line 21236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor12State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   futureBucket(futureBucket),
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   task(task),
															#line 2221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUidValue(task->params[BackupAgentBase::keyConfigLogUid]),
															#line 2222 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   states(Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keyStates).get(logUidValue)),
															#line 2224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   config(Subspace(databaseBackupPrefixRange.begin).get(BackupAgentBase::keyConfig).get(logUidValue)),
															#line 2227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   beginVersion(BinaryReader::fromStringRef<Version>(task->params[BackupAgentBase::keyBeginVersion], Unversioned())),
															#line 2229 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupRanges(BinaryReader::fromStringRef<Standalone<VectorRef<KeyRangeRef>>>( task->params[DatabaseBackupAgent::keyConfigBackupRanges], IncludeVersion()))
															#line 21259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("_finish", reinterpret_cast<unsigned long>(this));

	}
	~_finishActor12State() 
	{
		fdb_probe_actor_destroy("_finish", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2233 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(logUidValue.withPrefix(applyMutationsBeginRange.begin), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 2235 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(logUidValue.withPrefix(applyMutationsEndRange.begin), BinaryWriter::toValue(beginVersion, Unversioned()));
															#line 2237 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(states.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_RUNNING)));
															#line 2240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			kvBackupRangeComplete = futureBucket->future(tr);
															#line 2241 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			kvBackupComplete = futureBucket->future(tr);
															#line 2242 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			rangeCount = 0;
															#line 2244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (task->params[DatabaseBackupAgent::keyDatabasesInSync] != std::string("t"))
															#line 21286 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				;
															#line 21290 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = a_body1loopHead1(loopDepth);
			}
			else
			{
															#line 2254 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				kvBackupRangeComplete->set(tr, taskBucket);
															#line 21297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				loopDepth = a_body1cont1(loopDepth);
			}
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~_finishActor12State();
		static_cast<_finishActor12*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = success(FinishFullBackupTaskFunc::addTask( tr, taskBucket, task, TaskCompletionKey::noSignal(), kvBackupRangeComplete));
															#line 2258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 2;
															#line 2258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 1, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21328 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2(int loopDepth) 
	{
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1(int loopDepth) 
	{
															#line 2245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!(rangeCount < backupRanges.size()))
															#line 21350 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 2246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_0 = success(BackupRangeTaskFunc::addTask(tr, taskBucket, task, backupRanges[rangeCount].begin, backupRanges[rangeCount].end, TaskCompletionKey::joinWith(kvBackupRangeComplete)));
															#line 2246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 21358 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1when1(__when_expr_0.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 1;
															#line 2246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 0, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21363 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1break1(int loopDepth) 
	{
		try {
			return a_body1cont2(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont1(Void const& _,int loopDepth) 
	{
															#line 2245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		++rangeCount;
															#line 21385 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1cont1(Void && _,int loopDepth) 
	{
															#line 2245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		++rangeCount;
															#line 21394 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<_finishActor12*>(this)->actor_wait_state > 0) static_cast<_finishActor12*>(this)->actor_wait_state = 0;
		static_cast<_finishActor12*>(this)->ActorCallback< _finishActor12, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor12, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< _finishActor12, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< _finishActor12, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont4(Void const& _,int loopDepth) 
	{
															#line 2262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = success(CopyLogsTaskFunc::addTask( tr, taskBucket, task, 0, beginVersion, TaskCompletionKey::joinWith(kvBackupComplete)));
															#line 2262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21468 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont4when1(__when_expr_2.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 3;
															#line 2262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 2, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4(Void && _,int loopDepth) 
	{
															#line 2262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = success(CopyLogsTaskFunc::addTask( tr, taskBucket, task, 0, beginVersion, TaskCompletionKey::joinWith(kvBackupComplete)));
															#line 2262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21484 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont4when1(__when_expr_2.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 3;
															#line 2262 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 2, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21489 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<_finishActor12*>(this)->actor_wait_state > 0) static_cast<_finishActor12*>(this)->actor_wait_state = 0;
		static_cast<_finishActor12*>(this)->ActorCallback< _finishActor12, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor12, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< _finishActor12, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< _finishActor12, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont5(Void const& _,int loopDepth) 
	{
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = success( BackupRestorableTaskFunc::addTask(tr, taskBucket, task, TaskCompletionKey::noSignal(), kvBackupComplete));
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont5when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 4;
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 3, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21568 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont5(Void && _,int loopDepth) 
	{
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = success( BackupRestorableTaskFunc::addTask(tr, taskBucket, task, TaskCompletionKey::noSignal(), kvBackupComplete));
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21579 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont5when1(__when_expr_3.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 4;
															#line 2266 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 3, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21584 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont4when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont4when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<_finishActor12*>(this)->actor_wait_state > 0) static_cast<_finishActor12*>(this)->actor_wait_state = 0;
		static_cast<_finishActor12*>(this)->ActorCallback< _finishActor12, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor12, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< _finishActor12, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< _finishActor12, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont6(Void const& _,int loopDepth) 
	{
															#line 2269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = taskBucket->finish(tr, task);
															#line 2269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21658 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont6when1(__when_expr_4.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 5;
															#line 2269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 4, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21663 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont6(Void && _,int loopDepth) 
	{
															#line 2269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_4 = taskBucket->finish(tr, task);
															#line 2269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<_finishActor12*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21674 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont6when1(__when_expr_4.get(), loopDepth); };
		static_cast<_finishActor12*>(this)->actor_wait_state = 5;
															#line 2269 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< _finishActor12, 4, Void >*>(static_cast<_finishActor12*>(this)));
															#line 21679 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont5when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont6(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont5when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont6(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<_finishActor12*>(this)->actor_wait_state > 0) static_cast<_finishActor12*>(this)->actor_wait_state = 0;
		static_cast<_finishActor12*>(this)->ActorCallback< _finishActor12, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor12, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< _finishActor12, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< _finishActor12, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont7(Void const& _,int loopDepth) 
	{
															#line 2270 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor12*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor12State(); static_cast<_finishActor12*>(this)->destroy(); return 0; }
															#line 21751 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor12*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor12State();
		static_cast<_finishActor12*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont7(Void && _,int loopDepth) 
	{
															#line 2270 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<_finishActor12*>(this)->SAV<Void>::futures) { (void)(Void()); this->~_finishActor12State(); static_cast<_finishActor12*>(this)->destroy(); return 0; }
															#line 21763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<_finishActor12*>(this)->SAV< Void >::value()) Void(Void());
		this->~_finishActor12State();
		static_cast<_finishActor12*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont6when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont7(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont6when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont7(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<_finishActor12*>(this)->actor_wait_state > 0) static_cast<_finishActor12*>(this)->actor_wait_state = 0;
		static_cast<_finishActor12*>(this)->ActorCallback< _finishActor12, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< _finishActor12, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont6when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< _finishActor12, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont6when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< _finishActor12, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), 4);

	}
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<FutureBucket> futureBucket;
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<Task> task;
															#line 2221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue;
															#line 2222 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace states;
															#line 2224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Subspace config;
															#line 2227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 2229 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> backupRanges;
															#line 2240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> kvBackupRangeComplete;
															#line 2241 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> kvBackupComplete;
															#line 2242 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int rangeCount;
															#line 21858 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via _finish()
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class _finishActor12 final : public Actor<Void>, public ActorCallback< _finishActor12, 0, Void >, public ActorCallback< _finishActor12, 1, Void >, public ActorCallback< _finishActor12, 2, Void >, public ActorCallback< _finishActor12, 3, Void >, public ActorCallback< _finishActor12, 4, Void >, public FastAllocated<_finishActor12>, public _finishActor12State<_finishActor12> {
															#line 21863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<_finishActor12>::operator new;
	using FastAllocated<_finishActor12>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< _finishActor12, 0, Void >;
friend struct ActorCallback< _finishActor12, 1, Void >;
friend struct ActorCallback< _finishActor12, 2, Void >;
friend struct ActorCallback< _finishActor12, 3, Void >;
friend struct ActorCallback< _finishActor12, 4, Void >;
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	_finishActor12(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Reference<FutureBucket> const& futureBucket,Reference<Task> const& task) 
															#line 21878 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   _finishActor12State<_finishActor12>(tr, taskBucket, futureBucket, task)
	{
		fdb_probe_actor_enter("_finish", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("_finish");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("_finish", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< _finishActor12, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< _finishActor12, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< _finishActor12, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< _finishActor12, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< _finishActor12, 4, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> _finish( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Reference<FutureBucket> const& futureBucket, Reference<Task> const& task ) {
															#line 2217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new _finishActor12(tr, taskBucket, futureBucket, task));
															#line 21909 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2272 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 21914 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via addTask()
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AddTaskActor10>
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor10State {
															#line 21920 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor10State(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Key const& logUid,Key const& backupUid,Key const& keyAddPrefix,Key const& keyRemovePrefix,Key const& keyConfigBackupRanges,Key const& tagName,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>(),DatabaseBackupAgent::PreBackupAction const& backupAction = DatabaseBackupAgent::PreBackupAction::VERIFY) 
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : tr(tr),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   taskBucket(taskBucket),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUid(logUid),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupUid(backupUid),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   keyAddPrefix(keyAddPrefix),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   keyRemovePrefix(keyRemovePrefix),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   keyConfigBackupRanges(keyConfigBackupRanges),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   completionKey(completionKey),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitFor(waitFor),
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupAction(backupAction)
															#line 21947 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("addTask", reinterpret_cast<unsigned long>(this));

	}
	~AddTaskActor10State() 
	{
		fdb_probe_actor_destroy("addTask", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2285 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Key> __when_expr_0 = completionKey.get(tr, taskBucket);
															#line 2285 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AddTaskActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 21964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AddTaskActor10*>(this)->actor_wait_state = 1;
															#line 2285 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor10, 0, Key >*>(static_cast<AddTaskActor10*>(this)));
															#line 21969 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AddTaskActor10State();
		static_cast<AddTaskActor10*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key const& doneKey,int loopDepth) 
	{
															#line 2286 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(StartFullBackupTaskFunc::name, StartFullBackupTaskFunc::version, doneKey);
															#line 2288 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyFolderId] = backupUid;
															#line 2289 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyConfigLogUid] = logUid;
															#line 2290 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyAddPrefix] = keyAddPrefix;
															#line 2291 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyRemovePrefix] = keyRemovePrefix;
															#line 2292 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyConfigBackupRanges] = keyConfigBackupRanges;
															#line 2293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyTagName] = tagName;
															#line 2294 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyDatabasesInSync] = backupAction == DatabaseBackupAgent::PreBackupAction::NONE ? "t"_sr : "f"_sr;
															#line 2297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 22008 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2298 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor10*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(logUid) .pack(BackupAgentBase::keyFolderId), task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor10State(); static_cast<AddTaskActor10*>(this)->destroy(); return 0; }
															#line 22012 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor10*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(logUid) .pack(BackupAgentBase::keyFolderId), task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor10State();
			static_cast<AddTaskActor10*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(logUid) .pack(BackupAgentBase::keyFolderId), task->params[BackupAgentBase::keyFolderId]);
															#line 2307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 22022 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor10*>(this)->actor_wait_state = 2;
															#line 2307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor10, 1, Void >*>(static_cast<AddTaskActor10*>(this)));
															#line 22027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Key && doneKey,int loopDepth) 
	{
															#line 2286 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		auto task = makeReference<Task>(StartFullBackupTaskFunc::name, StartFullBackupTaskFunc::version, doneKey);
															#line 2288 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyFolderId] = backupUid;
															#line 2289 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyConfigLogUid] = logUid;
															#line 2290 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyAddPrefix] = keyAddPrefix;
															#line 2291 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyRemovePrefix] = keyRemovePrefix;
															#line 2292 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyConfigBackupRanges] = keyConfigBackupRanges;
															#line 2293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[BackupAgentBase::keyTagName] = tagName;
															#line 2294 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		task->params[DatabaseBackupAgent::keyDatabasesInSync] = backupAction == DatabaseBackupAgent::PreBackupAction::NONE ? "t"_sr : "f"_sr;
															#line 2297 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!waitFor)
															#line 22052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2298 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AddTaskActor10*>(this)->SAV<Key>::futures) { (void)(taskBucket->addTask(tr, task, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(logUid) .pack(BackupAgentBase::keyFolderId), task->params[BackupAgentBase::keyFolderId])); this->~AddTaskActor10State(); static_cast<AddTaskActor10*>(this)->destroy(); return 0; }
															#line 22056 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AddTaskActor10*>(this)->SAV< Key >::value()) Key(taskBucket->addTask(tr, task, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(logUid) .pack(BackupAgentBase::keyFolderId), task->params[BackupAgentBase::keyFolderId]));
			this->~AddTaskActor10State();
			static_cast<AddTaskActor10*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = waitFor->onSetAddTask(tr, taskBucket, task, Subspace(databaseBackupPrefixRange.begin) .get(BackupAgentBase::keyConfig) .get(logUid) .pack(BackupAgentBase::keyFolderId), task->params[BackupAgentBase::keyFolderId]);
															#line 2307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AddTaskActor10*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 22066 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AddTaskActor10*>(this)->actor_wait_state = 2;
															#line 2307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AddTaskActor10, 1, Void >*>(static_cast<AddTaskActor10*>(this)));
															#line 22071 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(Key const& doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(doneKey, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Key && doneKey,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(doneKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AddTaskActor10*>(this)->actor_wait_state > 0) static_cast<AddTaskActor10*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor10*>(this)->ActorCallback< AddTaskActor10, 0, Key >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor10, 0, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AddTaskActor10, 0, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AddTaskActor10, 0, Key >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 2315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor10*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor10State(); static_cast<AddTaskActor10*>(this)->destroy(); return 0; }
															#line 22143 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor10*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor10State();
		static_cast<AddTaskActor10*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 2315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AddTaskActor10*>(this)->SAV<Key>::futures) { (void)("OnSetAddTask"_sr); this->~AddTaskActor10State(); static_cast<AddTaskActor10*>(this)->destroy(); return 0; }
															#line 22155 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AddTaskActor10*>(this)->SAV< Key >::value()) Key("OnSetAddTask"_sr);
		this->~AddTaskActor10State();
		static_cast<AddTaskActor10*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AddTaskActor10*>(this)->actor_wait_state > 0) static_cast<AddTaskActor10*>(this)->actor_wait_state = 0;
		static_cast<AddTaskActor10*>(this)->ActorCallback< AddTaskActor10, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AddTaskActor10, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AddTaskActor10, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AddTaskActor10, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskBucket> taskBucket;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUid;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key backupUid;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key keyAddPrefix;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key keyRemovePrefix;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key keyConfigBackupRanges;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	TaskCompletionKey completionKey;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<TaskFuture> waitFor;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent::PreBackupAction backupAction;
															#line 22248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via addTask()
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AddTaskActor10 final : public Actor<Key>, public ActorCallback< AddTaskActor10, 0, Key >, public ActorCallback< AddTaskActor10, 1, Void >, public FastAllocated<AddTaskActor10>, public AddTaskActor10State<AddTaskActor10> {
															#line 22253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AddTaskActor10>::operator new;
	using FastAllocated<AddTaskActor10>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Key>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AddTaskActor10, 0, Key >;
friend struct ActorCallback< AddTaskActor10, 1, Void >;
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AddTaskActor10(Reference<ReadYourWritesTransaction> const& tr,Reference<TaskBucket> const& taskBucket,Key const& logUid,Key const& backupUid,Key const& keyAddPrefix,Key const& keyRemovePrefix,Key const& keyConfigBackupRanges,Key const& tagName,TaskCompletionKey const& completionKey,Reference<TaskFuture> const& waitFor = Reference<TaskFuture>(),DatabaseBackupAgent::PreBackupAction const& backupAction = DatabaseBackupAgent::PreBackupAction::VERIFY) 
															#line 22265 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Key>(),
		   AddTaskActor10State<AddTaskActor10>(tr, taskBucket, logUid, backupUid, keyAddPrefix, keyRemovePrefix, keyConfigBackupRanges, tagName, completionKey, waitFor, backupAction)
	{
		fdb_probe_actor_enter("addTask", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("addTask");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("addTask", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AddTaskActor10, 0, Key >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AddTaskActor10, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Key> addTask( Reference<ReadYourWritesTransaction> const& tr, Reference<TaskBucket> const& taskBucket, Key const& logUid, Key const& backupUid, Key const& keyAddPrefix, Key const& keyRemovePrefix, Key const& keyConfigBackupRanges, Key const& tagName, TaskCompletionKey const& completionKey, Reference<TaskFuture> const& waitFor = Reference<TaskFuture>(), DatabaseBackupAgent::PreBackupAction const& backupAction = DatabaseBackupAgent::PreBackupAction::VERIFY ) {
															#line 2273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Key>(new AddTaskActor10(tr, taskBucket, logUid, backupUid, keyAddPrefix, keyRemovePrefix, keyConfigBackupRanges, tagName, completionKey, waitFor, backupAction));
															#line 22293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2317 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	StringRef getName() const override { return name; };

	Future<Void> execute(Database cx,
	                     Reference<TaskBucket> tb,
	                     Reference<FutureBucket> fb,
	                     Reference<Task> task) override {
		return _execute(cx, tb, fb, task);
	};
	Future<Void> finish(Reference<ReadYourWritesTransaction> tr,
	                    Reference<TaskBucket> tb,
	                    Reference<FutureBucket> fb,
	                    Reference<Task> task) override {
		return _finish(tr, tb, fb, task);
	};
};
StringRef StartFullBackupTaskFunc::name = "dr_start_full_backup"_sr;
REGISTER_TASKFUNC(StartFullBackupTaskFunc);
} // namespace dbBackup

std::set<std::string> getDRAgentsIds(StatusObjectReader statusObj, const char* context) {
	std::set<std::string> drBackupAgents;
	try {
		StatusObjectReader statusObjLayers;
		statusObj.get("cluster.layers", statusObjLayers);
		StatusObjectReader instances;
		std::string path = format("%s.instances", context);
		if (statusObjLayers.tryGet(path, instances)) {
			for (auto itr : instances.obj()) {
				drBackupAgents.insert(itr.first);
			}
		}
	} catch (std::runtime_error& e) {
		TraceEvent(SevWarn, "DBA_GetDRAgentsIdsFail").detail("Error", e.what());
		throw backup_error();
	}
	return drBackupAgents;
}

std::string getDRMutationStreamId(StatusObjectReader statusObj, const char* context, Key tagName) {
	try {
		StatusObjectReader statusObjLayers;
		statusObj.get("cluster.layers", statusObjLayers);
		StatusObjectReader tags;
		std::string path = format("%s.tags", context);
		if (statusObjLayers.tryGet(path, tags)) {
			for (auto itr : tags.obj()) {
				if (itr.first == tagName.toString()) {
					JSONDoc tag(itr.second);
					return tag["mutation_stream_id"].get_str();
				}
			}
		}
		TraceEvent(SevWarn, "DBA_TagNotPresentInStatus").detail("Tag", tagName).detail("Context", context);
		throw backup_error();
	} catch (std::runtime_error& e) {
		TraceEvent(SevWarn, "DBA_GetDRMutationStreamIdFail").detail("Error", e.what());
		throw backup_error();
	}
}

bool getLockedStatus(StatusObjectReader statusObj) {
	try {
		StatusObjectReader statusObjCluster = statusObj["cluster"].get_obj();
		return statusObjCluster["database_lock_state.locked"].get_bool();
	} catch (std::runtime_error& e) {
		TraceEvent(SevWarn, "DBA_GetLockedStatusFail").detail("Error", e.what());
		throw backup_error();
	}
}

void checkAtomicSwitchOverConfig(StatusObjectReader srcStatus, StatusObjectReader destStatus, Key tagName) {

	try {
		// Check if src is unlocked and dest is locked
		if (getLockedStatus(srcStatus) != false) {
			TraceEvent(SevWarn, "DBA_AtomicSwitchOverSrcLocked").log();
			throw backup_error();
		}
		if (getLockedStatus(destStatus) != true) {
			TraceEvent(SevWarn, "DBA_AtomicSwitchOverDestUnlocked").log();
			throw backup_error();
		}
		// Check if mutation-stream-id matches
		if (getDRMutationStreamId(srcStatus, "dr_backup", tagName) !=
		    getDRMutationStreamId(destStatus, "dr_backup_dest", tagName)) {
			TraceEvent(SevWarn, "DBA_AtomicSwitchOverMutationIdMismatch")
			    .detail("SourceMutationId", getDRMutationStreamId(srcStatus, "dr_backup", tagName))
			    .detail("DestMutationId", getDRMutationStreamId(destStatus, "dr_back_dest", tagName));
			throw backup_error();
		}
		// Check if there are agents set up with src as its destination cluster and dest as its source cluster
		auto srcDRAgents = getDRAgentsIds(srcStatus, "dr_backup_dest");
		auto destDRAgents = getDRAgentsIds(destStatus, "dr_backup");
		std::set<std::string> intersectingAgents;
		std::set_intersection(srcDRAgents.begin(),
		                      srcDRAgents.end(),
		                      destDRAgents.begin(),
		                      destDRAgents.end(),
		                      std::inserter(intersectingAgents, intersectingAgents.begin()));
		if (intersectingAgents.empty()) {
			TraceEvent(SevWarn, "DBA_SwitchOverPossibleDRAgentsIncorrectSetup").log();
			throw backup_error();
		}
	} catch (std::runtime_error& e) {
		TraceEvent(SevWarn, "DBA_UnableToCheckAtomicSwitchOverConfig").detail("RunTimeError", e.what());
		throw backup_error();
	}
	return;
}

class DatabaseBackupAgentImpl {
public:
	static constexpr int MAX_RESTORABLE_FILE_METASECTION_BYTES = 1024 * 8;

																#line 22412 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via waitUpgradeToLatestDrVersion()
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class WaitUpgradeToLatestDrVersionActor>
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class WaitUpgradeToLatestDrVersionActorState {
															#line 22418 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitUpgradeToLatestDrVersionActorState(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName) 
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   cx(cx),
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName)
															#line 22429 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this));

	}
	~WaitUpgradeToLatestDrVersionActorState() 
	{
		fdb_probe_actor_destroy("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(cx, tagName);
															#line 2433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 22446 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 1;
															#line 2433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22451 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~WaitUpgradeToLatestDrVersionActorState();
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2434 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		drVersionKey = backupAgent->config.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(DatabaseBackupAgent::keyDrVersion);
															#line 2437 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DRU_WatchLatestDrVersion") .detail("DrVersionKey", drVersionKey.printable()) .detail("LogUid", BinaryWriter::toValue(logUid, Unversioned()).printable());
															#line 2441 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 22478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID const& __logUid,int loopDepth) 
	{
															#line 2433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = __logUid;
															#line 22487 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && __logUid,int loopDepth) 
	{
		logUid = std::move(__logUid);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state > 0) static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 0;
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
															#line 2442 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(cx));
															#line 2444 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 22563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopBody1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1(int loopDepth) 
	{
		try {
															#line 2446 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2447 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_1 = tr->get(drVersionKey);
															#line 2448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 22592 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 2;
															#line 2448 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22597 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1break1(int loopDepth) 
	{
		try {
			return a_body1cont1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopBody1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2466 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = tr->onError(e);
															#line 2466 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 2));
															#line 22634 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 2)); else return a_body1cont1loopBody1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 5;
															#line 2466 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 2));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 2));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont2(Optional<Value> const& drVersion,int loopDepth) 
	{
															#line 2450 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DRU_VersionCheck") .detail("Current", drVersion.present() ? BinaryReader::fromStringRef<int>(drVersion.get(), Unversioned()) : -1) .detail("Expected", DatabaseBackupAgent::LATEST_DR_VERSION) .detail("LogUid", BinaryWriter::toValue(logUid, Unversioned()).printable());
															#line 2456 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (drVersion.present() && BinaryReader::fromStringRef<int>(drVersion.get(), Unversioned()) == DatabaseBackupAgent::LATEST_DR_VERSION)
															#line 22656 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2458 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~WaitUpgradeToLatestDrVersionActorState(); static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->destroy(); return 0; }
															#line 22660 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~WaitUpgradeToLatestDrVersionActorState();
			static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		watchDrVersionFuture = tr->watch(drVersionKey);
															#line 2462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr->commit();
															#line 2462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 22672 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 3;
															#line 2462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont2(Optional<Value> && drVersion,int loopDepth) 
	{
															#line 2450 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DRU_VersionCheck") .detail("Current", drVersion.present() ? BinaryReader::fromStringRef<int>(drVersion.get(), Unversioned()) : -1) .detail("Expected", DatabaseBackupAgent::LATEST_DR_VERSION) .detail("LogUid", BinaryWriter::toValue(logUid, Unversioned()).printable());
															#line 2456 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (drVersion.present() && BinaryReader::fromStringRef<int>(drVersion.get(), Unversioned()) == DatabaseBackupAgent::LATEST_DR_VERSION)
															#line 22688 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2458 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~WaitUpgradeToLatestDrVersionActorState(); static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->destroy(); return 0; }
															#line 22692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~WaitUpgradeToLatestDrVersionActorState();
			static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		watchDrVersionFuture = tr->watch(drVersionKey);
															#line 2462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr->commit();
															#line 2462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 22704 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 3;
															#line 2462 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1when1(Optional<Value> const& drVersion,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont2(drVersion, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1when1(Optional<Value> && drVersion,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont2(std::move(drVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state > 0) static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 0;
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 2463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = watchDrVersionFuture;
															#line 2463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 22783 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 4;
															#line 2463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22788 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 2463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = watchDrVersionFuture;
															#line 2463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 22799 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 4;
															#line 2463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >*>(static_cast<WaitUpgradeToLatestDrVersionActor*>(this)));
															#line 22804 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state > 0) static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 0;
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1loopBody1cont5(Void const& _,int loopDepth) 
	{
		return a_body1cont1loopBody1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont5(Void && _,int loopDepth) 
	{
		return a_body1cont1loopBody1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state > 0) static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 0;
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont1loopBody1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state > 0) static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->actor_wait_state = 0;
		static_cast<WaitUpgradeToLatestDrVersionActor*>(this)->ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), 4);

	}
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2433 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 2434 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key drVersionKey;
															#line 2442 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2461 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> watchDrVersionFuture;
															#line 23036 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via waitUpgradeToLatestDrVersion()
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class WaitUpgradeToLatestDrVersionActor final : public Actor<Void>, public ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >, public ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >, public ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >, public ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >, public ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >, public FastAllocated<WaitUpgradeToLatestDrVersionActor>, public WaitUpgradeToLatestDrVersionActorState<WaitUpgradeToLatestDrVersionActor> {
															#line 23041 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<WaitUpgradeToLatestDrVersionActor>::operator new;
	using FastAllocated<WaitUpgradeToLatestDrVersionActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >;
friend struct ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >;
friend struct ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >;
friend struct ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >;
friend struct ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >;
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitUpgradeToLatestDrVersionActor(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName) 
															#line 23056 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   WaitUpgradeToLatestDrVersionActorState<WaitUpgradeToLatestDrVersionActor>(backupAgent, cx, tagName)
	{
		fdb_probe_actor_enter("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("waitUpgradeToLatestDrVersion");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("waitUpgradeToLatestDrVersion", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< WaitUpgradeToLatestDrVersionActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< WaitUpgradeToLatestDrVersionActor, 1, Optional<Value> >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< WaitUpgradeToLatestDrVersionActor, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< WaitUpgradeToLatestDrVersionActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< WaitUpgradeToLatestDrVersionActor, 4, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> waitUpgradeToLatestDrVersion( DatabaseBackupAgent* const& backupAgent, Database const& cx, Key const& tagName ) {
															#line 2432 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new WaitUpgradeToLatestDrVersionActor(backupAgent, cx, tagName));
															#line 23087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2471 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	// This method will return the final status of the backup
																#line 23093 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via waitBackup()
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class WaitBackupActor>
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class WaitBackupActorState {
															#line 23099 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitBackupActorState(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName,StopWhenDone const& stopWhenDone) 
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   cx(cx),
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   stopWhenDone(stopWhenDone),
															#line 2477 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backTrace()
															#line 23114 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("waitBackup", reinterpret_cast<unsigned long>(this));

	}
	~WaitBackupActorState() 
	{
		fdb_probe_actor_destroy("waitBackup", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(cx, tagName);
															#line 2478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 23131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<WaitBackupActor*>(this)->actor_wait_state = 1;
															#line 2478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< WaitBackupActor, 0, UID >*>(static_cast<WaitBackupActor*>(this)));
															#line 23136 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~WaitBackupActorState();
		static_cast<WaitBackupActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2479 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusKey = backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(DatabaseBackupAgent::keyStateStatus);
															#line 2482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 23161 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID const& __logUid,int loopDepth) 
	{
															#line 2478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = __logUid;
															#line 23170 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && __logUid,int loopDepth) 
	{
		logUid = std::move(__logUid);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state > 0) static_cast<WaitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<WaitBackupActor*>(this)->ActorCallback< WaitBackupActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< WaitBackupActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
															#line 2483 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(cx));
															#line 2484 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2485 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 23248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		try {
															#line 2488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<EBackupState> __when_expr_1 = backupAgent->getStateValue(tr, logUid);
															#line 2488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 23254 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<WaitBackupActor*>(this)->actor_wait_state = 2;
															#line 2488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< WaitBackupActor, 1, EBackupState >*>(static_cast<WaitBackupActor*>(this)));
															#line 23259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2504 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = tr->onError(e);
															#line 2504 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 23283 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<WaitBackupActor*>(this)->actor_wait_state = 5;
															#line 2504 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< WaitBackupActor, 4, Void >*>(static_cast<WaitBackupActor*>(this)));
															#line 23288 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(int loopDepth) 
	{
															#line 2491 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!DatabaseBackupAgent::isRunnable(status) || EBackupState::STATE_PARTIALLY_ABORTED == status)
															#line 23303 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2492 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<WaitBackupActor*>(this)->SAV<EBackupState>::futures) { (void)(status); this->~WaitBackupActorState(); static_cast<WaitBackupActor*>(this)->destroy(); return 0; }
															#line 23307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<WaitBackupActor*>(this)->SAV< EBackupState >::value()) EBackupState(std::move(status)); // state_var_RVO
			this->~WaitBackupActorState();
			static_cast<WaitBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if ((!stopWhenDone) && (EBackupState::STATE_RUNNING_DIFFERENTIAL == status))
															#line 23315 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<WaitBackupActor*>(this)->SAV<EBackupState>::futures) { (void)(status); this->~WaitBackupActorState(); static_cast<WaitBackupActor*>(this)->destroy(); return 0; }
															#line 23319 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<WaitBackupActor*>(this)->SAV< EBackupState >::value()) EBackupState(std::move(status)); // state_var_RVO
			this->~WaitBackupActorState();
			static_cast<WaitBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		watchFuture = tr->watch(statusKey);
															#line 2501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr->commit();
															#line 2501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 23331 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<WaitBackupActor*>(this)->actor_wait_state = 3;
															#line 2501 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< WaitBackupActor, 2, Void >*>(static_cast<WaitBackupActor*>(this)));
															#line 23336 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(EBackupState const& __status,int loopDepth) 
	{
															#line 2488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		status = __status;
															#line 23345 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(EBackupState && __status,int loopDepth) 
	{
		status = std::move(__status);
		loopDepth = a_body1cont1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state > 0) static_cast<WaitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<WaitBackupActor*>(this)->ActorCallback< WaitBackupActor, 1, EBackupState >::remove();

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 1, EBackupState >*,EBackupState const& value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 1, EBackupState >*,EBackupState && value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< WaitBackupActor, 1, EBackupState >*,Error err) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 2502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = watchFuture;
															#line 2502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 23414 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
		static_cast<WaitBackupActor*>(this)->actor_wait_state = 4;
															#line 2502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< WaitBackupActor, 3, Void >*>(static_cast<WaitBackupActor*>(this)));
															#line 23419 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 2502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = watchFuture;
															#line 2502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 23430 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
		static_cast<WaitBackupActor*>(this)->actor_wait_state = 4;
															#line 2502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< WaitBackupActor, 3, Void >*>(static_cast<WaitBackupActor*>(this)));
															#line 23435 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state > 0) static_cast<WaitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<WaitBackupActor*>(this)->ActorCallback< WaitBackupActor, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< WaitBackupActor, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1cont6(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont7(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont6(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont7(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont6(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont6(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state > 0) static_cast<WaitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<WaitBackupActor*>(this)->ActorCallback< WaitBackupActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< WaitBackupActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont1loopBody1cont7(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<WaitBackupActor*>(this)->actor_wait_state > 0) static_cast<WaitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<WaitBackupActor*>(this)->ActorCallback< WaitBackupActor, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< WaitBackupActor, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< WaitBackupActor, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), 4);

	}
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	StopWhenDone stopWhenDone;
															#line 2477 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::string backTrace;
															#line 2478 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 2479 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key statusKey;
															#line 2483 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	EBackupState status;
															#line 2500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> watchFuture;
															#line 23686 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via waitBackup()
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class WaitBackupActor final : public Actor<EBackupState>, public ActorCallback< WaitBackupActor, 0, UID >, public ActorCallback< WaitBackupActor, 1, EBackupState >, public ActorCallback< WaitBackupActor, 2, Void >, public ActorCallback< WaitBackupActor, 3, Void >, public ActorCallback< WaitBackupActor, 4, Void >, public FastAllocated<WaitBackupActor>, public WaitBackupActorState<WaitBackupActor> {
															#line 23691 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<WaitBackupActor>::operator new;
	using FastAllocated<WaitBackupActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<EBackupState>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< WaitBackupActor, 0, UID >;
friend struct ActorCallback< WaitBackupActor, 1, EBackupState >;
friend struct ActorCallback< WaitBackupActor, 2, Void >;
friend struct ActorCallback< WaitBackupActor, 3, Void >;
friend struct ActorCallback< WaitBackupActor, 4, Void >;
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitBackupActor(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName,StopWhenDone const& stopWhenDone) 
															#line 23706 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<EBackupState>(),
		   WaitBackupActorState<WaitBackupActor>(backupAgent, cx, tagName, stopWhenDone)
	{
		fdb_probe_actor_enter("waitBackup", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("waitBackup");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("waitBackup", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< WaitBackupActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< WaitBackupActor, 1, EBackupState >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< WaitBackupActor, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< WaitBackupActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< WaitBackupActor, 4, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<EBackupState> waitBackup( DatabaseBackupAgent* const& backupAgent, Database const& cx, Key const& tagName, StopWhenDone const& stopWhenDone ) {
															#line 2473 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<EBackupState>(new WaitBackupActor(backupAgent, cx, tagName, stopWhenDone));
															#line 23737 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2508 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

	// This method will return the final status of the backup
																#line 23743 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via waitSubmitted()
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class WaitSubmittedActor>
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class WaitSubmittedActorState {
															#line 23749 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitSubmittedActorState(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName) 
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   cx(cx),
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName)
															#line 23760 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("waitSubmitted", reinterpret_cast<unsigned long>(this));

	}
	~WaitSubmittedActorState() 
	{
		fdb_probe_actor_destroy("waitSubmitted", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(cx, tagName);
															#line 2511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 23777 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 1;
															#line 2511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< WaitSubmittedActor, 0, UID >*>(static_cast<WaitSubmittedActor*>(this)));
															#line 23782 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~WaitSubmittedActorState();
		static_cast<WaitSubmittedActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2512 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusKey = backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(DatabaseBackupAgent::keyStateStatus);
															#line 2515 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 23807 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID const& __logUid,int loopDepth) 
	{
															#line 2511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = __logUid;
															#line 23816 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && __logUid,int loopDepth) 
	{
		logUid = std::move(__logUid);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state > 0) static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 0;
		static_cast<WaitSubmittedActor*>(this)->ActorCallback< WaitSubmittedActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< WaitSubmittedActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
															#line 2516 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(cx));
															#line 2517 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2518 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 23894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		try {
															#line 2521 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<EBackupState> __when_expr_1 = backupAgent->getStateValue(tr, logUid);
															#line 2521 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 23900 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1cont1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_1.get(), loopDepth); };
			static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 2;
															#line 2521 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< WaitSubmittedActor, 1, EBackupState >*>(static_cast<WaitSubmittedActor*>(this)));
															#line 23905 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2532 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = tr->onError(e);
															#line 2532 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 23929 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 5;
															#line 2532 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< WaitSubmittedActor, 4, Void >*>(static_cast<WaitSubmittedActor*>(this)));
															#line 23934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(int loopDepth) 
	{
															#line 2524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (EBackupState::STATE_SUBMITTED != status)
															#line 23949 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2525 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<WaitSubmittedActor*>(this)->SAV<EBackupState>::futures) { (void)(status); this->~WaitSubmittedActorState(); static_cast<WaitSubmittedActor*>(this)->destroy(); return 0; }
															#line 23953 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<WaitSubmittedActor*>(this)->SAV< EBackupState >::value()) EBackupState(std::move(status)); // state_var_RVO
			this->~WaitSubmittedActorState();
			static_cast<WaitSubmittedActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2528 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		watchFuture = tr->watch(statusKey);
															#line 2529 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_2 = tr->commit();
															#line 2529 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 23965 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1cont1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 3;
															#line 2529 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< WaitSubmittedActor, 2, Void >*>(static_cast<WaitSubmittedActor*>(this)));
															#line 23970 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(EBackupState const& __status,int loopDepth) 
	{
															#line 2521 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		status = __status;
															#line 23979 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(EBackupState && __status,int loopDepth) 
	{
		status = std::move(__status);
		loopDepth = a_body1cont1loopBody1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state > 0) static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 0;
		static_cast<WaitSubmittedActor*>(this)->ActorCallback< WaitSubmittedActor, 1, EBackupState >::remove();

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 1, EBackupState >*,EBackupState const& value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 1, EBackupState >*,EBackupState && value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< WaitSubmittedActor, 1, EBackupState >*,Error err) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 2530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = watchFuture;
															#line 2530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 24048 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
		static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 4;
															#line 2530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< WaitSubmittedActor, 3, Void >*>(static_cast<WaitSubmittedActor*>(this)));
															#line 24053 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 2530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = watchFuture;
															#line 2530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 24064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1cont1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont1loopBody1cont3when1(__when_expr_3.get(), loopDepth); };
		static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 4;
															#line 2530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< WaitSubmittedActor, 3, Void >*>(static_cast<WaitSubmittedActor*>(this)));
															#line 24069 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state > 0) static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 0;
		static_cast<WaitSubmittedActor*>(this)->ActorCallback< WaitSubmittedActor, 2, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 2, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 2, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< WaitSubmittedActor, 2, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont1loopBody1cont5(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont6(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont5(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont6(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state > 0) static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 0;
		static_cast<WaitSubmittedActor*>(this)->ActorCallback< WaitSubmittedActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< WaitSubmittedActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont1loopBody1cont6(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont1loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<WaitSubmittedActor*>(this)->actor_wait_state > 0) static_cast<WaitSubmittedActor*>(this)->actor_wait_state = 0;
		static_cast<WaitSubmittedActor*>(this)->ActorCallback< WaitSubmittedActor, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< WaitSubmittedActor, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< WaitSubmittedActor, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), 4);

	}
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 2512 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key statusKey;
															#line 2516 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2521 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	EBackupState status;
															#line 2528 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> watchFuture;
															#line 24316 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via waitSubmitted()
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class WaitSubmittedActor final : public Actor<EBackupState>, public ActorCallback< WaitSubmittedActor, 0, UID >, public ActorCallback< WaitSubmittedActor, 1, EBackupState >, public ActorCallback< WaitSubmittedActor, 2, Void >, public ActorCallback< WaitSubmittedActor, 3, Void >, public ActorCallback< WaitSubmittedActor, 4, Void >, public FastAllocated<WaitSubmittedActor>, public WaitSubmittedActorState<WaitSubmittedActor> {
															#line 24321 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<WaitSubmittedActor>::operator new;
	using FastAllocated<WaitSubmittedActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<EBackupState>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< WaitSubmittedActor, 0, UID >;
friend struct ActorCallback< WaitSubmittedActor, 1, EBackupState >;
friend struct ActorCallback< WaitSubmittedActor, 2, Void >;
friend struct ActorCallback< WaitSubmittedActor, 3, Void >;
friend struct ActorCallback< WaitSubmittedActor, 4, Void >;
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitSubmittedActor(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName) 
															#line 24336 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<EBackupState>(),
		   WaitSubmittedActorState<WaitSubmittedActor>(backupAgent, cx, tagName)
	{
		fdb_probe_actor_enter("waitSubmitted", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("waitSubmitted");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("waitSubmitted", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< WaitSubmittedActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< WaitSubmittedActor, 1, EBackupState >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< WaitSubmittedActor, 2, Void >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< WaitSubmittedActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< WaitSubmittedActor, 4, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<EBackupState> waitSubmitted( DatabaseBackupAgent* const& backupAgent, Database const& cx, Key const& tagName ) {
															#line 2510 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<EBackupState>(new WaitSubmittedActor(backupAgent, cx, tagName));
															#line 24367 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2536 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 24372 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via submitBackup()
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class SubmitBackupActor>
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class SubmitBackupActorState {
															#line 24378 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	SubmitBackupActorState(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName,Standalone<VectorRef<KeyRangeRef>> const& backupRanges,StopWhenDone const& stopWhenDone,Key const& addPrefix,Key const& removePrefix,LockDB const& lockDB,DatabaseBackupAgent::PreBackupAction const& backupAction) 
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(tr),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupRanges(backupRanges),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   stopWhenDone(stopWhenDone),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   addPrefix(addPrefix),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   removePrefix(removePrefix),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   lockDB(lockDB),
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupAction(backupAction),
															#line 2546 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUid(deterministicRandom()->randomUniqueID()),
															#line 2547 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUidValue(BinaryWriter::toValue(logUid, Unversioned()))
															#line 24405 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("submitBackup", reinterpret_cast<unsigned long>(this));

	}
	~SubmitBackupActorState() 
	{
		fdb_probe_actor_destroy("submitBackup", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(tr, tagName);
															#line 2548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 24422 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 1;
															#line 2548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 0, UID >*>(static_cast<SubmitBackupActor*>(this)));
															#line 24427 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~SubmitBackupActorState();
		static_cast<SubmitBackupActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2550 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2555 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::COMMIT_ON_FIRST_PROXY);
															#line 2558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<EBackupState> __when_expr_1 = backupAgent->getStateValue(tr, logUidCurrent);
															#line 2558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 24458 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<SubmitBackupActor*>(this)->actor_wait_state = 2;
															#line 2558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 1, EBackupState >*>(static_cast<SubmitBackupActor*>(this)));
															#line 24463 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(UID const& __logUidCurrent,int loopDepth) 
	{
															#line 2548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUidCurrent = __logUidCurrent;
															#line 24472 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && __logUidCurrent,int loopDepth) 
	{
		logUidCurrent = std::move(__logUidCurrent);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 2560 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (DatabaseBackupAgent::isRunnable(status))
															#line 24539 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2561 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1Catch1(backup_duplicate(), loopDepth);
															#line 24543 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2564 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (logUidCurrent.isValid())
															#line 24547 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2565 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			logUid = logUidCurrent;
															#line 2566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			logUidValue = BinaryWriter::toValue(logUid, Unversioned());
															#line 24553 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2569 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_2 = tr->get(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId));
															#line 2569 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 24559 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<SubmitBackupActor*>(this)->actor_wait_state = 3;
															#line 2569 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 2, Optional<Key> >*>(static_cast<SubmitBackupActor*>(this)));
															#line 24564 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1when1(EBackupState const& __status,int loopDepth) 
	{
															#line 2558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		status = __status;
															#line 24573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(EBackupState && __status,int loopDepth) 
	{
		status = std::move(__status);
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 1, EBackupState >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 1, EBackupState >*,EBackupState const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 1, EBackupState >*,EBackupState && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 1, EBackupState >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(Optional<Key> const& v,int loopDepth) 
	{
															#line 2570 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version uidVersion = 0;
															#line 2571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present())
															#line 24642 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2572 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			uidVersion = BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) + 1;
															#line 24646 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupUid = BinaryWriter::toValue(uidVersion, Unversioned());
															#line 2575 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRangeMap<int> backupRangeSet;
															#line 2576 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& backupRange : backupRanges ) {
															#line 2577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			backupRangeSet.insert(backupRange, 1);
															#line 24656 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRangeSet.coalesce(allKeys);
															#line 2581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = Standalone<VectorRef<KeyRangeRef>>();
															#line 2583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& backupRange : backupRangeSet.ranges() ) {
															#line 2584 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (backupRange.value())
															#line 24666 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2585 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				backupRanges.push_back_deep(backupRanges.arena(), backupRange.range());
															#line 24670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 2589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupAction == DatabaseBackupAgent::PreBackupAction::VERIFY)
															#line 24675 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			backupIntoResults = std::vector<Future<RangeResult>>();
															#line 2592 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto& backupRange : backupRanges ) {
															#line 2593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				backupIntoResults.push_back( tr->getRange(backupRange.removePrefix(removePrefix).withPrefix(addPrefix), 1));
															#line 24683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 2596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = waitForAll(backupIntoResults);
															#line 2596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 24689 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont3when1(__when_expr_3.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 4;
															#line 2596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 3, Void >*>(static_cast<SubmitBackupActor*>(this)));
															#line 24694 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 2603 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (backupAction == DatabaseBackupAgent::PreBackupAction::CLEAR)
															#line 24701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				for( auto& backupRange : backupRanges ) {
															#line 2606 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr->clear(backupRange.removePrefix(removePrefix).withPrefix(addPrefix));
															#line 24707 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
			}
			loopDepth = a_body1cont6(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont3(Optional<Key> && v,int loopDepth) 
	{
															#line 2570 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Version uidVersion = 0;
															#line 2571 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present())
															#line 24721 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2572 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			uidVersion = BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) + 1;
															#line 24725 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupUid = BinaryWriter::toValue(uidVersion, Unversioned());
															#line 2575 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		KeyRangeMap<int> backupRangeSet;
															#line 2576 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& backupRange : backupRanges ) {
															#line 2577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			backupRangeSet.insert(backupRange, 1);
															#line 24735 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2580 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRangeSet.coalesce(allKeys);
															#line 2581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = Standalone<VectorRef<KeyRangeRef>>();
															#line 2583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto& backupRange : backupRangeSet.ranges() ) {
															#line 2584 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (backupRange.value())
															#line 24745 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2585 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				backupRanges.push_back_deep(backupRanges.arena(), backupRange.range());
															#line 24749 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 2589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupAction == DatabaseBackupAgent::PreBackupAction::VERIFY)
															#line 24754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			backupIntoResults = std::vector<Future<RangeResult>>();
															#line 2592 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto& backupRange : backupRanges ) {
															#line 2593 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				backupIntoResults.push_back( tr->getRange(backupRange.removePrefix(removePrefix).withPrefix(addPrefix), 1));
															#line 24762 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
															#line 2596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_3 = waitForAll(backupIntoResults);
															#line 2596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 24768 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont3when1(__when_expr_3.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 4;
															#line 2596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 3, Void >*>(static_cast<SubmitBackupActor*>(this)));
															#line 24773 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 2603 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (backupAction == DatabaseBackupAgent::PreBackupAction::CLEAR)
															#line 24780 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				for( auto& backupRange : backupRanges ) {
															#line 2606 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
					tr->clear(backupRange.removePrefix(removePrefix).withPrefix(addPrefix));
															#line 24786 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				}
			}
			loopDepth = a_body1cont6(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2when1(Optional<Key> const& v,int loopDepth) 
	{
		loopDepth = a_body1cont3(v, loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Optional<Key> && v,int loopDepth) 
	{
		loopDepth = a_body1cont3(std::move(v), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 2, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 2, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 2, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 2, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont6(int loopDepth) 
	{
															#line 2611 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(backupAgent->config.get(logUidValue).range());
															#line 2612 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(backupAgent->states.get(logUidValue).range());
															#line 2613 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(backupAgent->errors.range());
															#line 2615 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->tagNames.pack(tagName), logUidValue);
															#line 2618 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		DRConfig(logUid).clear(tr);
															#line 2619 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyDrVersion), BinaryWriter::toValue(DatabaseBackupAgent::LATEST_DR_VERSION, Unversioned()));
															#line 2621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyAddPrefix), addPrefix);
															#line 2622 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyRemovePrefix), removePrefix);
															#line 2623 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyConfigBackupTag), tagName);
															#line 2624 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyConfigLogUid), logUidValue);
															#line 2625 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId), backupUid);
															#line 2626 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId), backupUid);
															#line 2628 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyConfigBackupRanges), BinaryWriter::toValue(backupRanges, IncludeVersion(ProtocolVersion::withDRBackupRanges())));
															#line 2630 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_SUBMITTED)));
															#line 2632 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (stopWhenDone)
															#line 24889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2633 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->set(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyConfigStopWhenDoneKey), StringRef());
															#line 24893 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2637 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		int64_t startCount = 0;
															#line 2638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		mapPrefix = logUidValue.withPrefix(applyMutationsKeyVersionMapRange.begin);
															#line 2639 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Key mapEnd = allKeys.end.withPrefix(mapPrefix);
															#line 2640 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(logUidValue.withPrefix(applyMutationsAddPrefixRange.begin), addPrefix);
															#line 2641 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(logUidValue.withPrefix(applyMutationsRemovePrefixRange.begin), removePrefix);
															#line 2642 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(logUidValue.withPrefix(applyMutationsKeyVersionCountRange.begin), StringRef((uint8_t*)&startCount, 8));
															#line 2643 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(KeyRangeRef(mapPrefix, mapEnd));
															#line 2645 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		readVersion = invalidVersion;
															#line 2646 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupAction == DatabaseBackupAgent::PreBackupAction::NONE)
															#line 24913 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2647 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Transaction readTransaction(backupAgent->taskBucket->src);
															#line 2648 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			readTransaction.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2649 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Version> __when_expr_4 = readTransaction.getReadVersion();
															#line 2649 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 24923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont6when1(__when_expr_4.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 5;
															#line 2649 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 4, Version >*>(static_cast<SubmitBackupActor*>(this)));
															#line 24928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont16(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11(Void const& _,int loopDepth) 
	{
															#line 2597 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto result : backupIntoResults ) {
															#line 2598 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (result.get().size() > 0)
															#line 24944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2600 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(restore_destination_not_empty(), loopDepth);
															#line 24948 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
		loopDepth = a_body1cont6(loopDepth);

		return loopDepth;
	}
	int a_body1cont11(Void && _,int loopDepth) 
	{
															#line 2597 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		for( auto result : backupIntoResults ) {
															#line 2598 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (result.get().size() > 0)
															#line 24961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2600 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(restore_destination_not_empty(), loopDepth);
															#line 24965 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
		loopDepth = a_body1cont6(loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont16(int loopDepth) 
	{
															#line 2652 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(mapPrefix, BinaryWriter::toValue<Version>(readVersion, Unversioned()));
															#line 2654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Key> __when_expr_5 = dbBackup::StartFullBackupTaskFunc::addTask( tr, backupAgent->taskBucket, logUidValue, backupUid, addPrefix, removePrefix, BinaryWriter::toValue(backupRanges, IncludeVersion(ProtocolVersion::withDRBackupRanges())), tagName, TaskCompletionKey::noSignal(), Reference<TaskFuture>(), backupAction);
															#line 2654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25043 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont16when1(__when_expr_5.get(), loopDepth); };
		static_cast<SubmitBackupActor*>(this)->actor_wait_state = 6;
															#line 2654 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 5, Key >*>(static_cast<SubmitBackupActor*>(this)));
															#line 25048 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont18(Version const& _,int loopDepth) 
	{
															#line 2650 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		readVersion = _;
															#line 25057 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont16(loopDepth);

		return loopDepth;
	}
	int a_body1cont18(Version && _,int loopDepth) 
	{
															#line 2650 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		readVersion = _;
															#line 25066 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont16(loopDepth);

		return loopDepth;
	}
	int a_body1cont6when1(Version const& _,int loopDepth) 
	{
		loopDepth = a_body1cont18(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont6when1(Version && _,int loopDepth) 
	{
		loopDepth = a_body1cont18(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 4, Version >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 4, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont6when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 4, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont6when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 4, Version >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont16cont1(Key const& taskKey,int loopDepth) 
	{
															#line 2667 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (lockDB)
															#line 25138 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = lockDatabase(tr, logUid);
															#line 2668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25144 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont16cont1when1(__when_expr_6.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 7;
															#line 2668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 6, Void >*>(static_cast<SubmitBackupActor*>(this)));
															#line 25149 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 2670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = checkDatabaseLock(tr, logUid);
															#line 2670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont16cont1when2(__when_expr_7.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 8;
															#line 2670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 7, Void >*>(static_cast<SubmitBackupActor*>(this)));
															#line 25163 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1cont16cont1(Key && taskKey,int loopDepth) 
	{
															#line 2667 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (lockDB)
															#line 25173 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_6 = lockDatabase(tr, logUid);
															#line 2668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont16cont1when1(__when_expr_6.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 7;
															#line 2668 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 6, Void >*>(static_cast<SubmitBackupActor*>(this)));
															#line 25184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
															#line 2670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = checkDatabaseLock(tr, logUid);
															#line 2670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<SubmitBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25193 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1cont16cont1when2(__when_expr_7.get(), loopDepth); };
			static_cast<SubmitBackupActor*>(this)->actor_wait_state = 8;
															#line 2670 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< SubmitBackupActor, 7, Void >*>(static_cast<SubmitBackupActor*>(this)));
															#line 25198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1cont16when1(Key const& taskKey,int loopDepth) 
	{
		loopDepth = a_body1cont16cont1(taskKey, loopDepth);

		return loopDepth;
	}
	int a_body1cont16when1(Key && taskKey,int loopDepth) 
	{
		loopDepth = a_body1cont16cont1(std::move(taskKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 5, Key >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 5, Key >*,Key const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont16when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 5, Key >*,Key && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont16when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 5, Key >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont16cont2(int loopDepth) 
	{
															#line 2672 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Submit") .detail("LogUid", logUid) .detail("Lock", lockDB) .detail("LogUID", logUidValue) .detail("Tag", tagName) .detail("Key", backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId)) .detail("MapPrefix", mapPrefix);
															#line 2680 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<SubmitBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~SubmitBackupActorState(); static_cast<SubmitBackupActor*>(this)->destroy(); return 0; }
															#line 25273 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<SubmitBackupActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~SubmitBackupActorState();
		static_cast<SubmitBackupActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont16cont3(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont3(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont16cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont16cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont16cont4(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont4(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont1when2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont16cont1when2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont16cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<SubmitBackupActor*>(this)->actor_wait_state > 0) static_cast<SubmitBackupActor*>(this)->actor_wait_state = 0;
		static_cast<SubmitBackupActor*>(this)->ActorCallback< SubmitBackupActor, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont16cont1when2(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< SubmitBackupActor, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont16cont1when2(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< SubmitBackupActor, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), 7);

	}
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> backupRanges;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	StopWhenDone stopWhenDone;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key addPrefix;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key removePrefix;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	LockDB lockDB;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent::PreBackupAction backupAction;
															#line 2546 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 2547 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue;
															#line 2548 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUidCurrent;
															#line 2558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	EBackupState status;
															#line 2573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<StringRef> backupUid;
															#line 2591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::vector<Future<RangeResult>> backupIntoResults;
															#line 2638 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key mapPrefix;
															#line 2645 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version readVersion;
															#line 25465 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via submitBackup()
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class SubmitBackupActor final : public Actor<Void>, public ActorCallback< SubmitBackupActor, 0, UID >, public ActorCallback< SubmitBackupActor, 1, EBackupState >, public ActorCallback< SubmitBackupActor, 2, Optional<Key> >, public ActorCallback< SubmitBackupActor, 3, Void >, public ActorCallback< SubmitBackupActor, 4, Version >, public ActorCallback< SubmitBackupActor, 5, Key >, public ActorCallback< SubmitBackupActor, 6, Void >, public ActorCallback< SubmitBackupActor, 7, Void >, public FastAllocated<SubmitBackupActor>, public SubmitBackupActorState<SubmitBackupActor> {
															#line 25470 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<SubmitBackupActor>::operator new;
	using FastAllocated<SubmitBackupActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< SubmitBackupActor, 0, UID >;
friend struct ActorCallback< SubmitBackupActor, 1, EBackupState >;
friend struct ActorCallback< SubmitBackupActor, 2, Optional<Key> >;
friend struct ActorCallback< SubmitBackupActor, 3, Void >;
friend struct ActorCallback< SubmitBackupActor, 4, Version >;
friend struct ActorCallback< SubmitBackupActor, 5, Key >;
friend struct ActorCallback< SubmitBackupActor, 6, Void >;
friend struct ActorCallback< SubmitBackupActor, 7, Void >;
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	SubmitBackupActor(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName,Standalone<VectorRef<KeyRangeRef>> const& backupRanges,StopWhenDone const& stopWhenDone,Key const& addPrefix,Key const& removePrefix,LockDB const& lockDB,DatabaseBackupAgent::PreBackupAction const& backupAction) 
															#line 25488 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   SubmitBackupActorState<SubmitBackupActor>(backupAgent, tr, tagName, backupRanges, stopWhenDone, addPrefix, removePrefix, lockDB, backupAction)
	{
		fdb_probe_actor_enter("submitBackup", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("submitBackup");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("submitBackup", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< SubmitBackupActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< SubmitBackupActor, 1, EBackupState >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< SubmitBackupActor, 2, Optional<Key> >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< SubmitBackupActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< SubmitBackupActor, 4, Version >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< SubmitBackupActor, 5, Key >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< SubmitBackupActor, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< SubmitBackupActor, 7, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> submitBackup( DatabaseBackupAgent* const& backupAgent, Reference<ReadYourWritesTransaction> const& tr, Key const& tagName, Standalone<VectorRef<KeyRangeRef>> const& backupRanges, StopWhenDone const& stopWhenDone, Key const& addPrefix, Key const& removePrefix, LockDB const& lockDB, DatabaseBackupAgent::PreBackupAction const& backupAction ) {
															#line 2537 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new SubmitBackupActor(backupAgent, tr, tagName, backupRanges, stopWhenDone, addPrefix, removePrefix, lockDB, backupAction));
															#line 25522 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2682 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 25527 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via unlockBackup()
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class UnlockBackupActor>
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class UnlockBackupActorState {
															#line 25533 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UnlockBackupActorState(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName) 
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(tr),
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName)
															#line 25544 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("unlockBackup", reinterpret_cast<unsigned long>(this));

	}
	~UnlockBackupActorState() 
	{
		fdb_probe_actor_destroy("unlockBackup", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2686 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(tr, tagName);
															#line 2686 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<UnlockBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25561 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<UnlockBackupActor*>(this)->actor_wait_state = 1;
															#line 2686 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< UnlockBackupActor, 0, UID >*>(static_cast<UnlockBackupActor*>(this)));
															#line 25566 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~UnlockBackupActorState();
		static_cast<UnlockBackupActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(UID const& logUid,int loopDepth) 
	{
															#line 2687 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = unlockDatabase(tr, logUid);
															#line 2687 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<UnlockBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25591 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<UnlockBackupActor*>(this)->actor_wait_state = 2;
															#line 2687 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< UnlockBackupActor, 1, Void >*>(static_cast<UnlockBackupActor*>(this)));
															#line 25596 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(UID && logUid,int loopDepth) 
	{
															#line 2687 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = unlockDatabase(tr, logUid);
															#line 2687 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<UnlockBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25607 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<UnlockBackupActor*>(this)->actor_wait_state = 2;
															#line 2687 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< UnlockBackupActor, 1, Void >*>(static_cast<UnlockBackupActor*>(this)));
															#line 25612 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(UID const& logUid,int loopDepth) 
	{
		loopDepth = a_body1cont1(logUid, loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && logUid,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(logUid), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<UnlockBackupActor*>(this)->actor_wait_state > 0) static_cast<UnlockBackupActor*>(this)->actor_wait_state = 0;
		static_cast<UnlockBackupActor*>(this)->ActorCallback< UnlockBackupActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< UnlockBackupActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< UnlockBackupActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< UnlockBackupActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(Void const& _,int loopDepth) 
	{
															#line 2688 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Unlock").detail("Tag", tagName);
															#line 2689 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<UnlockBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~UnlockBackupActorState(); static_cast<UnlockBackupActor*>(this)->destroy(); return 0; }
															#line 25686 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<UnlockBackupActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~UnlockBackupActorState();
		static_cast<UnlockBackupActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2(Void && _,int loopDepth) 
	{
															#line 2688 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Unlock").detail("Tag", tagName);
															#line 2689 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<UnlockBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~UnlockBackupActorState(); static_cast<UnlockBackupActor*>(this)->destroy(); return 0; }
															#line 25700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<UnlockBackupActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~UnlockBackupActorState();
		static_cast<UnlockBackupActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<UnlockBackupActor*>(this)->actor_wait_state > 0) static_cast<UnlockBackupActor*>(this)->actor_wait_state = 0;
		static_cast<UnlockBackupActor*>(this)->ActorCallback< UnlockBackupActor, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< UnlockBackupActor, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< UnlockBackupActor, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< UnlockBackupActor, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), 1);

	}
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 25777 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via unlockBackup()
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class UnlockBackupActor final : public Actor<Void>, public ActorCallback< UnlockBackupActor, 0, UID >, public ActorCallback< UnlockBackupActor, 1, Void >, public FastAllocated<UnlockBackupActor>, public UnlockBackupActorState<UnlockBackupActor> {
															#line 25782 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<UnlockBackupActor>::operator new;
	using FastAllocated<UnlockBackupActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< UnlockBackupActor, 0, UID >;
friend struct ActorCallback< UnlockBackupActor, 1, Void >;
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UnlockBackupActor(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName) 
															#line 25794 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   UnlockBackupActorState<UnlockBackupActor>(backupAgent, tr, tagName)
	{
		fdb_probe_actor_enter("unlockBackup", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("unlockBackup");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("unlockBackup", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< UnlockBackupActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< UnlockBackupActor, 1, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> unlockBackup( DatabaseBackupAgent* const& backupAgent, Reference<ReadYourWritesTransaction> const& tr, Key const& tagName ) {
															#line 2683 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new UnlockBackupActor(backupAgent, tr, tagName));
															#line 25822 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2691 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 25827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via atomicSwitchover()
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AtomicSwitchoverActor>
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AtomicSwitchoverActorState {
															#line 25833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AtomicSwitchoverActorState(DatabaseBackupAgent* const& backupAgent,Database const& dest,Key const& tagName,Standalone<VectorRef<KeyRangeRef>> const& backupRanges,Key const& addPrefix,Key const& removePrefix,ForceAction const& forceAction) 
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   dest(dest),
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupRanges(backupRanges),
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   addPrefix(addPrefix),
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   removePrefix(removePrefix),
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   forceAction(forceAction),
															#line 2699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   drAgent(dest)
															#line 25854 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("atomicSwitchover", reinterpret_cast<unsigned long>(this));

	}
	~AtomicSwitchoverActorState() 
	{
		fdb_probe_actor_destroy("atomicSwitchover", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(dest, tagName);
															#line 2700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25871 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 1;
															#line 2700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 0, UID >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 25876 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AtomicSwitchoverActorState();
		static_cast<AtomicSwitchoverActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<EBackupState> __when_expr_1 = backupAgent->getStateValue(dest, destlogUid);
															#line 2701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25901 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 2;
															#line 2701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 1, EBackupState >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 25906 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(UID const& __destlogUid,int loopDepth) 
	{
															#line 2700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destlogUid = __destlogUid;
															#line 25915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && __destlogUid,int loopDepth) 
	{
		destlogUid = std::move(__destlogUid);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 2703 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverStart").detail("Status", status);
															#line 2704 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (status != EBackupState::STATE_RUNNING_DIFFERENTIAL && status != EBackupState::STATE_COMPLETED)
															#line 25984 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2705 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1Catch1(backup_duplicate(), loopDepth);
															#line 25988 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2708 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!g_network->isSimulated() && !forceAction)
															#line 25992 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<StatusObject> __when_expr_2 = StatusClient::statusFetcher(backupAgent->taskBucket->src);
															#line 2709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 25998 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 3;
															#line 2709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 2, StatusObject >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26003 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1cont3(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1when1(EBackupState const& __status,int loopDepth) 
	{
															#line 2701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		status = __status;
															#line 26017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(EBackupState && __status,int loopDepth) 
	{
		status = std::move(__status);
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 1, EBackupState >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 1, EBackupState >*,EBackupState const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 1, EBackupState >*,EBackupState && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 1, EBackupState >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 2714 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = deterministicRandom()->randomUniqueID();
															#line 2715 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUidValue = BinaryWriter::toValue(logUid, Unversioned());
															#line 2716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<UID> __when_expr_4 = drAgent.getLogUid(backupAgent->taskBucket->src, tagName);
															#line 2716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 26090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1cont3when1(__when_expr_4.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 5;
															#line 2716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 4, UID >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26095 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont5(int loopDepth) 
	{
															#line 2710 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<StatusObject> __when_expr_3 = StatusClient::statusFetcher(dest);
															#line 2710 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 26106 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1cont5when1(__when_expr_3.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 4;
															#line 2710 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 3, StatusObject >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26111 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2when1(StatusObject const& __srcStatus,int loopDepth) 
	{
															#line 2709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcStatus = __srcStatus;
															#line 26120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(StatusObject && __srcStatus,int loopDepth) 
	{
		srcStatus = std::move(__srcStatus);
		loopDepth = a_body1cont5(loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 2, StatusObject >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 2, StatusObject >*,StatusObject const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 2, StatusObject >*,StatusObject && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 2, StatusObject >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1cont6(StatusObject const& destStatus,int loopDepth) 
	{
															#line 2711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		checkAtomicSwitchOverConfig(srcStatus, destStatus, tagName);
															#line 26187 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont6(StatusObject && destStatus,int loopDepth) 
	{
															#line 2711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		checkAtomicSwitchOverConfig(srcStatus, destStatus, tagName);
															#line 26196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont5when1(StatusObject const& destStatus,int loopDepth) 
	{
		loopDepth = a_body1cont6(destStatus, loopDepth);

		return loopDepth;
	}
	int a_body1cont5when1(StatusObject && destStatus,int loopDepth) 
	{
		loopDepth = a_body1cont6(std::move(destStatus), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 3, StatusObject >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 3, StatusObject >*,StatusObject const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 3, StatusObject >*,StatusObject && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 3, StatusObject >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1cont8(int loopDepth) 
	{
															#line 2718 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (logUidCurrent.isValid())
															#line 26268 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2719 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			logUid = logUidCurrent;
															#line 2720 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			logUidValue = BinaryWriter::toValue(logUid, Unversioned());
															#line 26274 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = Transaction(backupAgent->taskBucket->src);
															#line 2725 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		commitVersion = Version();
															#line 2726 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 26282 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont8loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(UID const& __logUidCurrent,int loopDepth) 
	{
															#line 2716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUidCurrent = __logUidCurrent;
															#line 26291 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont8(loopDepth);

		return loopDepth;
	}
	int a_body1cont3when1(UID && __logUidCurrent,int loopDepth) 
	{
		logUidCurrent = std::move(__logUidCurrent);
		loopDepth = a_body1cont8(loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 4, UID >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 4, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 4, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 4, UID >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont9(int loopDepth) 
	{
															#line 2738 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverLocked").detail("Version", commitVersion);
															#line 2741 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr2 = ReadYourWritesTransaction(dest);
															#line 2742 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 26362 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont9loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont8loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopBody1(int loopDepth) 
	{
		try {
															#line 2728 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_5 = lockDatabase(&tr, logUid);
															#line 2728 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont8loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26381 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1cont8loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont8loopBody1when1(__when_expr_5.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 6;
															#line 2728 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 5, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26386 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont8loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont8loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont8break1(int loopDepth) 
	{
		try {
			return a_body1cont9(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont8loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont8loopHead1(0);

		return loopDepth;
	}
	int a_body1cont8loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2734 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = tr.onError(e);
															#line 2734 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 26423 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), std::max(0, loopDepth - 1)); else return a_body1cont8loopBody1Catch1when1(__when_expr_7.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 8;
															#line 2734 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 7, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26428 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont8loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 2729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr.set(backupAgent->tagNames.pack(tagName), logUidValue);
															#line 2730 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = tr.commit();
															#line 2730 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont8loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26447 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont8loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont8loopBody1cont2when1(__when_expr_6.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 7;
															#line 2730 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 6, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26452 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont8loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 2729 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr.set(backupAgent->tagNames.pack(tagName), logUidValue);
															#line 2730 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = tr.commit();
															#line 2730 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont8loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26465 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont8loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont8loopBody1cont2when1(__when_expr_6.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 7;
															#line 2730 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 6, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26470 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont8loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 5, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 5, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont8loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont8loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont8loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 5, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont8loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont8loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont8loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 5, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont8loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont8loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont8loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont8loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 2731 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		commitVersion = tr.getCommittedVersion();
															#line 26542 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1cont8break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont8loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 2731 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		commitVersion = tr.getCommittedVersion();
															#line 26551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1cont8break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont8loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont8loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont8loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont8loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont8loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont8loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont8loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont8loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont8loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont8loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont8loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont8loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont8loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1cont11(int loopDepth) 
	{
															#line 2773 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverReady").log();
															#line 26698 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		try {
															#line 2776 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_13 = backupAgent->discontinueBackup(dest, tagName);
															#line 2776 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont11Catch1(actor_cancelled(), loopDepth);
															#line 26704 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_13.isReady()) { if (__when_expr_13.isError()) return a_body1cont11Catch1(__when_expr_13.getError(), loopDepth); else return a_body1cont11when1(__when_expr_13.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 14;
															#line 2776 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_13.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 13, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont11Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont11Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont9loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont9loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1(int loopDepth) 
	{
		try {
															#line 2744 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr2.setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2745 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr2.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_8 = tr2.get(backupAgent->states.get(BinaryWriter::toValue(destlogUid, Unversioned())) .pack(DatabaseBackupAgent::keyFolderId));
															#line 2746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont9loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26738 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1cont9loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont9loopBody1when1(__when_expr_8.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 9;
															#line 2746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26743 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont9loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont9loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont9break1(int loopDepth) 
	{
		try {
			return a_body1cont11(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont9loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont9loopHead1(0);

		return loopDepth;
	}
	int a_body1cont9loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_12 = tr2.onError(e);
															#line 2769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 26780 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_12.isReady()) { if (__when_expr_12.isError()) return a_body1Catch1(__when_expr_12.getError(), std::max(0, loopDepth - 1)); else return a_body1cont9loopBody1Catch1when1(__when_expr_12.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 13;
															#line 2769 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_12.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 12, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26785 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont9loopBody1cont2(int loopDepth) 
	{
															#line 2749 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverBackupUID") .detail("Uid", backupUid) .detail("Key", backupAgent->states.get(BinaryWriter::toValue(destlogUid, Unversioned())) .pack(DatabaseBackupAgent::keyFolderId));
															#line 2754 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!backupUid.present())
															#line 26802 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2755 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1cont9loopBody1Catch1(backup_duplicate(), loopDepth);
															#line 26806 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2756 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_9 = tr2.get( BinaryWriter::toValue(destlogUid, Unversioned()).withPrefix(applyMutationsBeginRange.begin));
															#line 2756 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont9loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1cont9loopBody1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1cont9loopBody1cont2when1(__when_expr_9.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 10;
															#line 2756 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26817 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont9loopBody1when1(Optional<Value> const& __backupUid,int loopDepth) 
	{
															#line 2746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupUid = __backupUid;
															#line 26826 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont9loopBody1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1when1(Optional<Value> && __backupUid,int loopDepth) 
	{
		backupUid = std::move(__backupUid);
		loopDepth = a_body1cont9loopBody1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont9loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont9loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont9loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 8);

	}
	int a_body1cont9loopBody1cont3(Optional<Value> const& v,int loopDepth) 
	{
															#line 2758 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverVersion") .detail("Version", v.present() ? BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) : 0);
															#line 2760 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present() && BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) >= commitVersion)
															#line 26895 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont9break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 2763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		versionWatch = tr2.watch( BinaryWriter::toValue(destlogUid, Unversioned()).withPrefix(applyMutationsBeginRange.begin));
															#line 2765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_10 = tr2.commit();
															#line 2765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont9loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26905 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1cont9loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont9loopBody1cont3when1(__when_expr_10.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 11;
															#line 2765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 10, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26910 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont9loopBody1cont3(Optional<Value> && v,int loopDepth) 
	{
															#line 2758 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverVersion") .detail("Version", v.present() ? BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) : 0);
															#line 2760 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present() && BinaryReader::fromStringRef<Version>(v.get(), Unversioned()) >= commitVersion)
															#line 26921 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont9break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 2763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		versionWatch = tr2.watch( BinaryWriter::toValue(destlogUid, Unversioned()).withPrefix(applyMutationsBeginRange.begin));
															#line 2765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_10 = tr2.commit();
															#line 2765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont9loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 26931 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1cont9loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont9loopBody1cont3when1(__when_expr_10.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 11;
															#line 2765 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 10, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 26936 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont9loopBody1cont2when1(Optional<Value> const& v,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont3(v, loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1cont2when1(Optional<Value> && v,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont3(std::move(v), loopDepth);

		return loopDepth;
	}
	void a_exitChoose10() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont9loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont9loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont9loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 9);

	}
	int a_body1cont9loopBody1cont5(Void const& _,int loopDepth) 
	{
															#line 2766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_11 = versionWatch;
															#line 2766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont9loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 27010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1cont9loopBody1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1cont9loopBody1cont5when1(__when_expr_11.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 12;
															#line 2766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 11, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont9loopBody1cont5(Void && _,int loopDepth) 
	{
															#line 2766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_11 = versionWatch;
															#line 2766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont9loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 27026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1cont9loopBody1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1cont9loopBody1cont5when1(__when_expr_11.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 12;
															#line 2766 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 11, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont9loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont5(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont5(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose11() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 10, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 10, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont9loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 10, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont9loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 10, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont9loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 10);

	}
	int a_body1cont9loopBody1cont7(Void const& _,int loopDepth) 
	{
															#line 2767 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr2.reset();
															#line 27103 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont9loopBody1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1cont7(Void && _,int loopDepth) 
	{
															#line 2767 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr2.reset();
															#line 27112 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont9loopBody1cont9(loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1cont5when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont7(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1cont5when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont7(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose12() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 11, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 11, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont9loopBody1cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 11, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont9loopBody1cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 11, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont9loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont9loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont9loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 11);

	}
	int a_body1cont9loopBody1cont9(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont9loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont9loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont9loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont9loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose13() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 12, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 12, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1cont9loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 12, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1cont9loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 12, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 12);

	}
	int a_body1cont11cont1(int loopDepth) 
	{
															#line 2782 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_14 = success(backupAgent->waitBackup(dest, tagName, StopWhenDone::True));
															#line 2782 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 27274 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_14.isReady()) { if (__when_expr_14.isError()) return a_body1Catch1(__when_expr_14.getError(), loopDepth); else return a_body1cont11cont1when1(__when_expr_14.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 15;
															#line 2782 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_14.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 14, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27279 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont11Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2778 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (e.code() != error_code_backup_duplicate && e.code() != error_code_backup_unneeded)
															#line 27289 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2779 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(e, loopDepth);
															#line 27293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			loopDepth = a_body1cont11cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont2(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont2(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont11when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose14() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 13, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 13, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont11when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont11Catch1(error, 0);
		} catch (...) {
			a_body1cont11Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 13);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 13, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont11when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont11Catch1(error, 0);
		} catch (...) {
			a_body1cont11Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 13);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 13, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont11Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont11Catch1(error, 0);
		} catch (...) {
			a_body1cont11Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 13);

	}
	int a_body1cont11cont3(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont11cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont4(Void const& _,int loopDepth) 
	{
															#line 2784 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverStopped").log();
															#line 2786 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr3 = ReadYourWritesTransaction(dest);
															#line 2787 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 27401 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont11cont4loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4(Void && _,int loopDepth) 
	{
															#line 2784 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverStopped").log();
															#line 2786 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr3 = ReadYourWritesTransaction(dest);
															#line 2787 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 27414 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont11cont4loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose15() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 14, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 14, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont11cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 14);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 14, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont11cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 14);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 14, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 14);

	}
	int a_body1cont11cont5(int loopDepth) 
	{
															#line 2805 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverVersionUpgraded").log();
															#line 27486 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		try {
															#line 2808 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_18 = drAgent.submitBackup(backupAgent->taskBucket->src, tagName, backupRanges, StopWhenDone::False, addPrefix, removePrefix, LockDB::True, DatabaseBackupAgent::PreBackupAction::NONE);
															#line 2808 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont11cont5Catch1(actor_cancelled(), loopDepth);
															#line 27492 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_18.isReady()) { if (__when_expr_18.isError()) return a_body1cont11cont5Catch1(__when_expr_18.getError(), loopDepth); else return a_body1cont11cont5when1(__when_expr_18.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 19;
															#line 2808 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_18.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 18, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27497 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont11cont5Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont11cont5Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont4loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont11cont4loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1(int loopDepth) 
	{
		try {
															#line 2789 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr3.setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2790 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr3.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Version> __when_expr_15 = tr3.getReadVersion();
															#line 2791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont11cont4loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 27526 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_15.isReady()) { if (__when_expr_15.isError()) return a_body1cont11cont4loopBody1Catch1(__when_expr_15.getError(), loopDepth); else return a_body1cont11cont4loopBody1when1(__when_expr_15.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 16;
															#line 2791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_15.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 15, Version >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27531 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont11cont4loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont11cont4loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont4break1(int loopDepth) 
	{
		try {
			return a_body1cont11cont5(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont11cont4loopHead1(0);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_17 = tr3.onError(e);
															#line 2801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 27568 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_17.isReady()) { if (__when_expr_17.isError()) return a_body1Catch1(__when_expr_17.getError(), std::max(0, loopDepth - 1)); else return a_body1cont11cont4loopBody1Catch1when1(__when_expr_17.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 18;
															#line 2801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_17.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 17, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27573 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont2(Version const& destVersion,int loopDepth) 
	{
															#line 2792 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverVersionUpgrade").detail("Src", commitVersion).detail("Dest", destVersion);
															#line 2793 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (destVersion <= commitVersion)
															#line 27590 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2794 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			CODE_PROBE(true, "Forcing dest backup cluster to higher version");
															#line 2795 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr3.set(minRequiredCommitVersionKey, BinaryWriter::toValue(commitVersion + 1, Unversioned()));
															#line 2796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_16 = tr3.commit();
															#line 2796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont11cont4loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 27600 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_16.isReady()) { if (__when_expr_16.isError()) return a_body1cont11cont4loopBody1Catch1(__when_expr_16.getError(), loopDepth); else return a_body1cont11cont4loopBody1cont2when1(__when_expr_16.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 17;
															#line 2796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_16.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 16, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27605 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			return a_body1cont11cont4break1(loopDepth==0?0:loopDepth-1); // break
		}

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont2(Version && destVersion,int loopDepth) 
	{
															#line 2792 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverVersionUpgrade").detail("Src", commitVersion).detail("Dest", destVersion);
															#line 2793 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (destVersion <= commitVersion)
															#line 27621 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2794 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			CODE_PROBE(true, "Forcing dest backup cluster to higher version");
															#line 2795 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr3.set(minRequiredCommitVersionKey, BinaryWriter::toValue(commitVersion + 1, Unversioned()));
															#line 2796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_16 = tr3.commit();
															#line 2796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1cont11cont4loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 27631 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_16.isReady()) { if (__when_expr_16.isError()) return a_body1cont11cont4loopBody1Catch1(__when_expr_16.getError(), loopDepth); else return a_body1cont11cont4loopBody1cont2when1(__when_expr_16.get(), loopDepth); };
			static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 17;
															#line 2796 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_16.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 16, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27636 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			return a_body1cont11cont4break1(loopDepth==0?0:loopDepth-1); // break
		}

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1when1(Version const& destVersion,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont2(destVersion, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1when1(Version && destVersion,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont2(std::move(destVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose16() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 15, Version >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 15, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 15);
		a_exitChoose16();
		try {
			a_body1cont11cont4loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont11cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 15);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 15, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 15);
		a_exitChoose16();
		try {
			a_body1cont11cont4loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont11cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 15);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 15, Version >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 15);
		a_exitChoose16();
		try {
			a_body1cont11cont4loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont11cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 15);

	}
	int a_body1cont11cont4loopBody1cont3(int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont6(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont4(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont4(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont4(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont4(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose17() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 16, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 16, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 16);
		a_exitChoose17();
		try {
			a_body1cont11cont4loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont11cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 16);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 16, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 16);
		a_exitChoose17();
		try {
			a_body1cont11cont4loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont11cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 16);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 16, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 16);
		a_exitChoose17();
		try {
			a_body1cont11cont4loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont11cont4loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont4loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 16);

	}
	int a_body1cont11cont4loopBody1cont6(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont11cont4loopBody1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont4loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont4loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose18() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 17, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 17, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 17);
		a_exitChoose18();
		try {
			a_body1cont11cont4loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 17);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 17, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 17);
		a_exitChoose18();
		try {
			a_body1cont11cont4loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 17);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 17, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 17);
		a_exitChoose18();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 17);

	}
	int a_body1cont11cont6(int loopDepth) 
	{
															#line 2821 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverSubmitted").log();
															#line 2823 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_19 = success(drAgent.waitSubmitted(backupAgent->taskBucket->src, tagName));
															#line 2823 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 27886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_19.isReady()) { if (__when_expr_19.isError()) return a_body1Catch1(__when_expr_19.getError(), loopDepth); else return a_body1cont11cont6when1(__when_expr_19.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 20;
															#line 2823 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_19.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 19, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 27891 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont11cont5Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2817 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (e.code() != error_code_backup_duplicate)
															#line 27901 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2818 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1Catch1(e, loopDepth);
															#line 27905 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			loopDepth = a_body1cont11cont6(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont7(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont8(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont7(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont8(loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont5when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont7(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont5when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont7(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose19() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 18, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 18, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 18);
		a_exitChoose19();
		try {
			a_body1cont11cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont11cont5Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont5Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 18);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 18, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 18);
		a_exitChoose19();
		try {
			a_body1cont11cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont11cont5Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont5Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 18);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 18, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 18);
		a_exitChoose19();
		try {
			a_body1cont11cont5Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont11cont5Catch1(error, 0);
		} catch (...) {
			a_body1cont11cont5Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 18);

	}
	int a_body1cont11cont8(int loopDepth) 
	{
		try {
			loopDepth = a_body1cont11cont6(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont11cont9(Void const& _,int loopDepth) 
	{
															#line 2825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverStarted").log();
															#line 2827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_20 = backupAgent->unlockBackup(dest, tagName);
															#line 2827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 28013 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_20.isReady()) { if (__when_expr_20.isError()) return a_body1Catch1(__when_expr_20.getError(), loopDepth); else return a_body1cont11cont9when1(__when_expr_20.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 21;
															#line 2827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_20.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 20, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 28018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont11cont9(Void && _,int loopDepth) 
	{
															#line 2825 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverStarted").log();
															#line 2827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_20 = backupAgent->unlockBackup(dest, tagName);
															#line 2827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 28031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_20.isReady()) { if (__when_expr_20.isError()) return a_body1Catch1(__when_expr_20.getError(), loopDepth); else return a_body1cont11cont9when1(__when_expr_20.get(), loopDepth); };
		static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 21;
															#line 2827 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_20.addCallbackAndClear(static_cast<ActorCallback< AtomicSwitchoverActor, 20, Void >*>(static_cast<AtomicSwitchoverActor*>(this)));
															#line 28036 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont11cont6when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont9(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont6when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont9(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose20() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 19, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 19, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 19);
		a_exitChoose20();
		try {
			a_body1cont11cont6when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 19);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 19, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 19);
		a_exitChoose20();
		try {
			a_body1cont11cont6when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 19);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 19, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 19);
		a_exitChoose20();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 19);

	}
	int a_body1cont11cont10(Void const& _,int loopDepth) 
	{
															#line 2829 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverUnlocked").log();
															#line 2831 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AtomicSwitchoverActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AtomicSwitchoverActorState(); static_cast<AtomicSwitchoverActor*>(this)->destroy(); return 0; }
															#line 28110 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AtomicSwitchoverActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~AtomicSwitchoverActorState();
		static_cast<AtomicSwitchoverActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont11cont10(Void && _,int loopDepth) 
	{
															#line 2829 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_SwitchoverUnlocked").log();
															#line 2831 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AtomicSwitchoverActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AtomicSwitchoverActorState(); static_cast<AtomicSwitchoverActor*>(this)->destroy(); return 0; }
															#line 28124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AtomicSwitchoverActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~AtomicSwitchoverActorState();
		static_cast<AtomicSwitchoverActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont11cont9when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont10(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont11cont9when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont11cont10(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose21() 
	{
		if (static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state > 0) static_cast<AtomicSwitchoverActor*>(this)->actor_wait_state = 0;
		static_cast<AtomicSwitchoverActor*>(this)->ActorCallback< AtomicSwitchoverActor, 20, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 20, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 20);
		a_exitChoose21();
		try {
			a_body1cont11cont9when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 20);

	}
	void a_callback_fire(ActorCallback< AtomicSwitchoverActor, 20, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 20);
		a_exitChoose21();
		try {
			a_body1cont11cont9when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 20);

	}
	void a_callback_error(ActorCallback< AtomicSwitchoverActor, 20, Void >*,Error err) 
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), 20);
		a_exitChoose21();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), 20);

	}
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database dest;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> backupRanges;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key addPrefix;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key removePrefix;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	ForceAction forceAction;
															#line 2699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent drAgent;
															#line 2700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID destlogUid;
															#line 2701 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	EBackupState status;
															#line 2709 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	StatusObject srcStatus;
															#line 2714 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 2715 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue;
															#line 2716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUidCurrent;
															#line 2724 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Transaction tr;
															#line 2725 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version commitVersion;
															#line 2741 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	ReadYourWritesTransaction tr2;
															#line 2746 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> backupUid;
															#line 2763 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> versionWatch;
															#line 2786 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	ReadYourWritesTransaction tr3;
															#line 28235 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via atomicSwitchover()
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AtomicSwitchoverActor final : public Actor<Void>, public ActorCallback< AtomicSwitchoverActor, 0, UID >, public ActorCallback< AtomicSwitchoverActor, 1, EBackupState >, public ActorCallback< AtomicSwitchoverActor, 2, StatusObject >, public ActorCallback< AtomicSwitchoverActor, 3, StatusObject >, public ActorCallback< AtomicSwitchoverActor, 4, UID >, public ActorCallback< AtomicSwitchoverActor, 5, Void >, public ActorCallback< AtomicSwitchoverActor, 6, Void >, public ActorCallback< AtomicSwitchoverActor, 7, Void >, public ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >, public ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >, public ActorCallback< AtomicSwitchoverActor, 10, Void >, public ActorCallback< AtomicSwitchoverActor, 11, Void >, public ActorCallback< AtomicSwitchoverActor, 12, Void >, public ActorCallback< AtomicSwitchoverActor, 13, Void >, public ActorCallback< AtomicSwitchoverActor, 14, Void >, public ActorCallback< AtomicSwitchoverActor, 15, Version >, public ActorCallback< AtomicSwitchoverActor, 16, Void >, public ActorCallback< AtomicSwitchoverActor, 17, Void >, public ActorCallback< AtomicSwitchoverActor, 18, Void >, public ActorCallback< AtomicSwitchoverActor, 19, Void >, public ActorCallback< AtomicSwitchoverActor, 20, Void >, public FastAllocated<AtomicSwitchoverActor>, public AtomicSwitchoverActorState<AtomicSwitchoverActor> {
															#line 28240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AtomicSwitchoverActor>::operator new;
	using FastAllocated<AtomicSwitchoverActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AtomicSwitchoverActor, 0, UID >;
friend struct ActorCallback< AtomicSwitchoverActor, 1, EBackupState >;
friend struct ActorCallback< AtomicSwitchoverActor, 2, StatusObject >;
friend struct ActorCallback< AtomicSwitchoverActor, 3, StatusObject >;
friend struct ActorCallback< AtomicSwitchoverActor, 4, UID >;
friend struct ActorCallback< AtomicSwitchoverActor, 5, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 6, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 7, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >;
friend struct ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >;
friend struct ActorCallback< AtomicSwitchoverActor, 10, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 11, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 12, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 13, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 14, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 15, Version >;
friend struct ActorCallback< AtomicSwitchoverActor, 16, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 17, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 18, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 19, Void >;
friend struct ActorCallback< AtomicSwitchoverActor, 20, Void >;
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AtomicSwitchoverActor(DatabaseBackupAgent* const& backupAgent,Database const& dest,Key const& tagName,Standalone<VectorRef<KeyRangeRef>> const& backupRanges,Key const& addPrefix,Key const& removePrefix,ForceAction const& forceAction) 
															#line 28271 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   AtomicSwitchoverActorState<AtomicSwitchoverActor>(backupAgent, dest, tagName, backupRanges, addPrefix, removePrefix, forceAction)
	{
		fdb_probe_actor_enter("atomicSwitchover", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("atomicSwitchover");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("atomicSwitchover", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 1, EBackupState >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 2, StatusObject >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 3, StatusObject >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 4, UID >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 5, Void >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 7, Void >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 8, Optional<Value> >*)0, actor_cancelled()); break;
		case 10: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 9, Optional<Value> >*)0, actor_cancelled()); break;
		case 11: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 10, Void >*)0, actor_cancelled()); break;
		case 12: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 11, Void >*)0, actor_cancelled()); break;
		case 13: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 12, Void >*)0, actor_cancelled()); break;
		case 14: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 13, Void >*)0, actor_cancelled()); break;
		case 15: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 14, Void >*)0, actor_cancelled()); break;
		case 16: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 15, Version >*)0, actor_cancelled()); break;
		case 17: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 16, Void >*)0, actor_cancelled()); break;
		case 18: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 17, Void >*)0, actor_cancelled()); break;
		case 19: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 18, Void >*)0, actor_cancelled()); break;
		case 20: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 19, Void >*)0, actor_cancelled()); break;
		case 21: this->a_callback_error((ActorCallback< AtomicSwitchoverActor, 20, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> atomicSwitchover( DatabaseBackupAgent* const& backupAgent, Database const& dest, Key const& tagName, Standalone<VectorRef<KeyRangeRef>> const& backupRanges, Key const& addPrefix, Key const& removePrefix, ForceAction const& forceAction ) {
															#line 2692 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new AtomicSwitchoverActor(backupAgent, dest, tagName, backupRanges, addPrefix, removePrefix, forceAction));
															#line 28318 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2833 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 28323 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via discontinueBackup()
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class DiscontinueBackupActor>
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class DiscontinueBackupActorState {
															#line 28329 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DiscontinueBackupActorState(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName) 
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(tr),
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName)
															#line 28340 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("discontinueBackup", reinterpret_cast<unsigned long>(this));

	}
	~DiscontinueBackupActorState() 
	{
		fdb_probe_actor_destroy("discontinueBackup", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2837 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2838 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(tr, tagName);
															#line 2838 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<DiscontinueBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 28359 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<DiscontinueBackupActor*>(this)->actor_wait_state = 1;
															#line 2838 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< DiscontinueBackupActor, 0, UID >*>(static_cast<DiscontinueBackupActor*>(this)));
															#line 28364 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~DiscontinueBackupActorState();
		static_cast<DiscontinueBackupActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2839 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<EBackupState> __when_expr_1 = backupAgent->getStateValue(tr, logUid);
															#line 2839 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<DiscontinueBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 28389 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1cont1when1(__when_expr_1.get(), loopDepth); };
		static_cast<DiscontinueBackupActor*>(this)->actor_wait_state = 2;
															#line 2839 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< DiscontinueBackupActor, 1, EBackupState >*>(static_cast<DiscontinueBackupActor*>(this)));
															#line 28394 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1when1(UID const& __logUid,int loopDepth) 
	{
															#line 2838 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = __logUid;
															#line 28403 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(UID && __logUid,int loopDepth) 
	{
		logUid = std::move(__logUid);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<DiscontinueBackupActor*>(this)->actor_wait_state > 0) static_cast<DiscontinueBackupActor*>(this)->actor_wait_state = 0;
		static_cast<DiscontinueBackupActor*>(this)->ActorCallback< DiscontinueBackupActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< DiscontinueBackupActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< DiscontinueBackupActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< DiscontinueBackupActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 2841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Discontinue").detail("Status", status);
															#line 2842 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!DatabaseBackupAgent::isRunnable(status))
															#line 28472 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2843 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1Catch1(backup_unneeded(), loopDepth);
															#line 28476 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_2 = tr->get(backupAgent->config.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(DatabaseBackupAgent::keyConfigStopWhenDoneKey));
															#line 2846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<DiscontinueBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 28482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1cont2when1(__when_expr_2.get(), loopDepth); };
		static_cast<DiscontinueBackupActor*>(this)->actor_wait_state = 3;
															#line 2846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >*>(static_cast<DiscontinueBackupActor*>(this)));
															#line 28487 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1when1(EBackupState const& __status,int loopDepth) 
	{
															#line 2839 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		status = __status;
															#line 28496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	int a_body1cont1when1(EBackupState && __status,int loopDepth) 
	{
		status = std::move(__status);
		loopDepth = a_body1cont2(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<DiscontinueBackupActor*>(this)->actor_wait_state > 0) static_cast<DiscontinueBackupActor*>(this)->actor_wait_state = 0;
		static_cast<DiscontinueBackupActor*>(this)->ActorCallback< DiscontinueBackupActor, 1, EBackupState >::remove();

	}
	void a_callback_fire(ActorCallback< DiscontinueBackupActor, 1, EBackupState >*,EBackupState const& value) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< DiscontinueBackupActor, 1, EBackupState >*,EBackupState && value) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< DiscontinueBackupActor, 1, EBackupState >*,Error err) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 2850 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (stopWhenDoneValue.present())
															#line 28563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2851 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1Catch1(backup_duplicate(), loopDepth);
															#line 28567 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2854 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2855 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2856 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(backupAgent->config.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(BackupAgentBase::keyConfigStopWhenDoneKey), StringRef());
															#line 2860 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<DiscontinueBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~DiscontinueBackupActorState(); static_cast<DiscontinueBackupActor*>(this)->destroy(); return 0; }
															#line 28577 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<DiscontinueBackupActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~DiscontinueBackupActorState();
		static_cast<DiscontinueBackupActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont2when1(Optional<Value> const& __stopWhenDoneValue,int loopDepth) 
	{
															#line 2846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		stopWhenDoneValue = __stopWhenDoneValue;
															#line 28589 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont2when1(Optional<Value> && __stopWhenDoneValue,int loopDepth) 
	{
		stopWhenDoneValue = std::move(__stopWhenDoneValue);
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<DiscontinueBackupActor*>(this)->actor_wait_state > 0) static_cast<DiscontinueBackupActor*>(this)->actor_wait_state = 0;
		static_cast<DiscontinueBackupActor*>(this)->ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), 2);

	}
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2838 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 2839 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	EBackupState status;
															#line 2846 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> stopWhenDoneValue;
															#line 28664 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via discontinueBackup()
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class DiscontinueBackupActor final : public Actor<Void>, public ActorCallback< DiscontinueBackupActor, 0, UID >, public ActorCallback< DiscontinueBackupActor, 1, EBackupState >, public ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >, public FastAllocated<DiscontinueBackupActor>, public DiscontinueBackupActorState<DiscontinueBackupActor> {
															#line 28669 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<DiscontinueBackupActor>::operator new;
	using FastAllocated<DiscontinueBackupActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< DiscontinueBackupActor, 0, UID >;
friend struct ActorCallback< DiscontinueBackupActor, 1, EBackupState >;
friend struct ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >;
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DiscontinueBackupActor(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName) 
															#line 28682 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   DiscontinueBackupActorState<DiscontinueBackupActor>(backupAgent, tr, tagName)
	{
		fdb_probe_actor_enter("discontinueBackup", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("discontinueBackup");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("discontinueBackup", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< DiscontinueBackupActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< DiscontinueBackupActor, 1, EBackupState >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< DiscontinueBackupActor, 2, Optional<Value> >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> discontinueBackup( DatabaseBackupAgent* const& backupAgent, Reference<ReadYourWritesTransaction> const& tr, Key const& tagName ) {
															#line 2834 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new DiscontinueBackupActor(backupAgent, tr, tagName));
															#line 28711 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 2862 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 28716 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via abortBackup()
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class AbortBackupActor>
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AbortBackupActorState {
															#line 28722 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AbortBackupActorState(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName,PartialBackup const& partial,AbortOldBackup const& abortOldBackup,DstOnly const& dstOnly,WaitForDestUID const& waitForDestUID) 
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   cx(cx),
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   partial(partial),
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   abortOldBackup(abortOldBackup),
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   dstOnly(dstOnly),
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   waitForDestUID(waitForDestUID),
															#line 2870 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(new ReadYourWritesTransaction(cx)),
															#line 2871 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   destUidValue(),
															#line 2872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   destUid(),
															#line 2873 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   backupUid()
															#line 28749 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("abortBackup", reinterpret_cast<unsigned long>(this));

	}
	~AbortBackupActorState() 
	{
		fdb_probe_actor_destroy("abortBackup", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 2875 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 28764 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1loopHead1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~AbortBackupActorState();
		static_cast<AbortBackupActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 2927 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = makeReference<ReadYourWritesTransaction>(cx);
															#line 2928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 28789 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1(int loopDepth) 
	{
		try {
															#line 2877 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2878 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2879 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::COMMIT_ON_FIRST_PROXY);
															#line 2881 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<UID> __when_expr_0 = backupAgent->getLogUid(tr, tagName);
															#line 2881 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 28814 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1loopBody1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1loopBody1when1(__when_expr_0.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 1;
															#line 2881 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 0, UID >*>(static_cast<AbortBackupActor*>(this)));
															#line 28819 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1break1(int loopDepth) 
	{
		try {
			return a_body1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2922 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_AbortError").errorUnsuppressed(e);
															#line 2923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_4 = tr->onError(e);
															#line 2923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 28858 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1Catch1(__when_expr_4.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1Catch1when1(__when_expr_4.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 5;
															#line 2923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 4, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 28863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2(UID const& _logUid,int loopDepth) 
	{
															#line 2882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = _logUid;
															#line 2883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUidValue = BinaryWriter::toValue(logUid, Unversioned());
															#line 2885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusFuture = backupAgent->getStateValue(tr, logUid);
															#line 2886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destUidFuture = backupAgent->getDestUid(tr, logUid);
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = success(statusFuture) && success(destUidFuture);
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 28888 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1loopBody1cont2when1(__when_expr_1.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 2;
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 1, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 28893 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2(UID && _logUid,int loopDepth) 
	{
															#line 2882 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = _logUid;
															#line 2883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUidValue = BinaryWriter::toValue(logUid, Unversioned());
															#line 2885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusFuture = backupAgent->getStateValue(tr, logUid);
															#line 2886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		destUidFuture = backupAgent->getDestUid(tr, logUid);
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_1 = success(statusFuture) && success(destUidFuture);
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 28912 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1loopBody1cont2when1(__when_expr_1.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 2;
															#line 2887 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 1, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 28917 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1when1(UID const& _logUid,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(_logUid, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1when1(UID && _logUid,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(std::move(_logUid), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 0, UID >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 0, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 0, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 0, UID >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 2889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		EBackupState status = statusFuture.get();
															#line 2890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!backupAgent->isRunnable(status))
															#line 28991 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2891 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1loopBody1Catch1(backup_unneeded(), loopDepth);
															#line 28995 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2893 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		UID destUid = destUidFuture.get();
															#line 2894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (destUid.isValid())
															#line 29001 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2895 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destUidValue = BinaryWriter::toValue(destUid, Unversioned());
															#line 29005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
															#line 2896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (destUidValue.size() == 0 && waitForDestUID)
															#line 29011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2900 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1loopBody1Catch1(not_committed(), loopDepth);
															#line 29015 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 2903 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_2 = tr->get(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId));
															#line 2903 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29022 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont3when1(__when_expr_2.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 3;
															#line 2903 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 2, Optional<Value> >*>(static_cast<AbortBackupActor*>(this)));
															#line 29027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 2889 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		EBackupState status = statusFuture.get();
															#line 2890 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!backupAgent->isRunnable(status))
															#line 29038 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2891 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			return a_body1loopBody1Catch1(backup_unneeded(), loopDepth);
															#line 29042 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 2893 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		UID destUid = destUidFuture.get();
															#line 2894 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (destUid.isValid())
															#line 29048 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2895 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destUidValue = BinaryWriter::toValue(destUid, Unversioned());
															#line 29052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
															#line 2896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (destUidValue.size() == 0 && waitForDestUID)
															#line 29058 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2900 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				return a_body1loopBody1Catch1(not_committed(), loopDepth);
															#line 29062 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 2903 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_2 = tr->get(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId));
															#line 2903 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29069 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont3when1(__when_expr_2.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 3;
															#line 2903 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 2, Optional<Value> >*>(static_cast<AbortBackupActor*>(this)));
															#line 29074 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 1, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 1, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 1, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 1, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1loopBody1cont4(Optional<Value> const& _backupUid,int loopDepth) 
	{
															#line 2905 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupUid = _backupUid.get();
															#line 2908 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(backupAgent->config.get(logUidValue).range());
															#line 2911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(logUidValue.withPrefix(applyMutationsEndRange.begin));
															#line 2913 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(prefixRange(logUidValue.withPrefix(applyLogKeys.begin)));
															#line 2915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(StringRef(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyStateStatus)), StringRef(DatabaseBackupAgent::getStateText(EBackupState::STATE_PARTIALLY_ABORTED)));
															#line 2918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = tr->commit();
															#line 2918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29158 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1loopBody1cont4when1(__when_expr_3.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 4;
															#line 2918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 3, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29163 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont4(Optional<Value> && _backupUid,int loopDepth) 
	{
															#line 2905 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupUid = _backupUid.get();
															#line 2908 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(backupAgent->config.get(logUidValue).range());
															#line 2911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(logUidValue.withPrefix(applyMutationsEndRange.begin));
															#line 2913 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->clear(prefixRange(logUidValue.withPrefix(applyLogKeys.begin)));
															#line 2915 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(StringRef(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyStateStatus)), StringRef(DatabaseBackupAgent::getStateText(EBackupState::STATE_PARTIALLY_ABORTED)));
															#line 2918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_3 = tr->commit();
															#line 2918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1loopBody1cont4when1(__when_expr_3.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 4;
															#line 2918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 3, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29189 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont3when1(Optional<Value> const& _backupUid,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont4(_backupUid, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont3when1(Optional<Value> && _backupUid,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont4(std::move(_backupUid), loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 2, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 2, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 2, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 2, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1loopBody1cont9(Void const& _,int loopDepth) 
	{
															#line 2919 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Abort").detail("CommitVersion", tr->getCommittedVersion());
															#line 29261 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont9(Void && _,int loopDepth) 
	{
															#line 2919 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		TraceEvent("DBA_Abort").detail("CommitVersion", tr->getCommittedVersion());
															#line 29270 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont4when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont9(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont4when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont9(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 3, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 3, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 3, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 3, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 4, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 4, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 4, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 4, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1cont2(int loopDepth) 
	{
															#line 2968 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!dstOnly)
															#line 29417 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2969 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			partialTimeout = partial ? delay(30.0) : Never();
															#line 2970 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr = Reference<ReadYourWritesTransaction>(new ReadYourWritesTransaction(backupAgent->taskBucket->src));
															#line 2972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			beginVersion = Version();
															#line 2973 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			endVersion = Version();
															#line 2975 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 29429 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1cont2loopHead1(loopDepth);
		}
		else
		{
			loopDepth = a_body1cont3(loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1(int loopDepth) 
	{
															#line 2929 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2930 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2938 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->setOption(FDBTransactionOptions::COMMIT_ON_FIRST_PROXY);
															#line 29454 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		try {
															#line 2941 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_5 = tr->get(logUidValue.withPrefix(applyMutationsBeginRange.begin));
															#line 2941 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29460 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1cont1loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1cont1loopBody1when1(__when_expr_5.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 6;
															#line 2941 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 5, Optional<Value> >*>(static_cast<AbortBackupActor*>(this)));
															#line 29465 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1break1(int loopDepth) 
	{
		try {
			return a_body1cont2(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont1loopHead1(0);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 2964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_7 = tr->onError(e);
															#line 2964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 29502 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1Catch1(__when_expr_7.getError(), std::max(0, loopDepth - 1)); else return a_body1cont1loopBody1Catch1when1(__when_expr_7.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 8;
															#line 2964 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 7, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29507 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Optional<Value> const& lastApplied,int loopDepth) 
	{
															#line 2942 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (lastApplied.present())
															#line 29522 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2943 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version current = tr->getReadVersion().get();
															#line 2944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version applied = BinaryReader::fromStringRef<Version>(lastApplied.get(), Unversioned());
															#line 2945 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_AbortVersionUpgrade").detail("Src", applied).detail("Dest", current);
															#line 2946 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (current <= applied)
															#line 29532 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2947 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				CODE_PROBE(true, "Upgrading version of local database.");
															#line 2950 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr->set(minRequiredCommitVersionKey, BinaryWriter::toValue(applied + 1, Unversioned()));
															#line 29538 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			else
			{
															#line 2958 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr->addWriteConflictRange(singleKeyRange(minRequiredCommitVersionKey));
															#line 29544 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = tr->commit();
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29551 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont1loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_6.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 7;
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 6, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29556 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2(Optional<Value> && lastApplied,int loopDepth) 
	{
															#line 2942 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (lastApplied.present())
															#line 29565 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2943 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version current = tr->getReadVersion().get();
															#line 2944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			Version applied = BinaryReader::fromStringRef<Version>(lastApplied.get(), Unversioned());
															#line 2945 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			TraceEvent("DBA_AbortVersionUpgrade").detail("Src", applied).detail("Dest", current);
															#line 2946 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (current <= applied)
															#line 29575 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 2947 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				CODE_PROBE(true, "Upgrading version of local database.");
															#line 2950 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr->set(minRequiredCommitVersionKey, BinaryWriter::toValue(applied + 1, Unversioned()));
															#line 29581 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
			else
			{
															#line 2958 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				tr->addWriteConflictRange(singleKeyRange(minRequiredCommitVersionKey));
															#line 29587 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_6 = tr->commit();
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29594 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1cont1loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1cont1loopBody1cont2when1(__when_expr_6.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 7;
															#line 2961 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 6, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29599 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Value> const& lastApplied,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(lastApplied, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1when1(Optional<Value> && lastApplied,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont2(std::move(lastApplied), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 5, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 5, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 5, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 5, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1cont1loopBody1cont3(Void const& _,int loopDepth) 
	{
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont3(Void && _,int loopDepth) 
	{
		return a_body1cont1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 6, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 6, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 6, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 6, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1cont1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1cont1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 7, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 7, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 7, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1cont1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 7, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1cont3(int loopDepth) 
	{
															#line 3040 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr = makeReference<ReadYourWritesTransaction>(cx);
															#line 3041 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		;
															#line 29823 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont3loopHead1(loopDepth);

		return loopDepth;
	}
	int a_body1cont4(int loopDepth) 
	{
		loopDepth = a_body1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont2loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1(int loopDepth) 
	{
		try {
															#line 2977 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 2978 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 2979 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			backupVersionF = srcTr->get(backupAgent->sourceStates.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId));
															#line 2981 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_8 = success(backupVersionF) || partialTimeout;
															#line 2981 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29854 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1cont2loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1cont2loopBody1when1(__when_expr_8.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 9;
															#line 2981 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 8, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29859 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont2loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont2loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2break1(int loopDepth) 
	{
		try {
			return a_body1cont4(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont2loopHead1(0);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 3035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_12 = srcTr->onError(e);
															#line 3035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 29896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_12.isReady()) { if (__when_expr_12.isError()) return a_body1Catch1(__when_expr_12.getError(), std::max(0, loopDepth - 1)); else return a_body1cont2loopBody1Catch1when1(__when_expr_12.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 13;
															#line 3035 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_12.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 12, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29901 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 2982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 29916 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2983 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 29920 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupVersionF.get().present() && BinaryReader::fromStringRef<Version>(backupVersionF.get().get(), Unversioned()) > BinaryReader::fromStringRef<Version>(backupUid, Unversioned()))
															#line 29928 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 2992 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (abortOldBackup)
															#line 29934 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2993 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set(backupAgent->sourceStates.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_ABORTED)));
															#line 2995 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set(backupAgent->sourceStates.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId), backupUid);
															#line 2997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->clear(prefixRange(logUidValue.withPrefix(backupLogKeys.begin)));
															#line 2998 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->clear(prefixRange(logUidValue.withPrefix(logRangesRange.begin)));
															#line 29944 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 3002 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Key latestVersionKey = logUidValue.withPrefix(destUidValue.withPrefix(backupLatestVersionsPrefix));
															#line 3004 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bVersionF = srcTr->get(latestVersionKey);
															#line 3005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_9 = success(bVersionF) || partialTimeout;
															#line 3005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 29955 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1cont2loopBody1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_9.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 10;
															#line 3005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 9, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 29960 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 2982 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 29969 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2983 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 29973 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 2986 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupVersionF.get().present() && BinaryReader::fromStringRef<Version>(backupVersionF.get().get(), Unversioned()) > BinaryReader::fromStringRef<Version>(backupUid, Unversioned()))
															#line 29981 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 2992 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (abortOldBackup)
															#line 29987 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 2993 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set(backupAgent->sourceStates.pack(DatabaseBackupAgent::keyStateStatus), StringRef(BackupAgentBase::getStateText(EBackupState::STATE_ABORTED)));
															#line 2995 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->set(backupAgent->sourceStates.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId), backupUid);
															#line 2997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->clear(prefixRange(logUidValue.withPrefix(backupLogKeys.begin)));
															#line 2998 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			srcTr->clear(prefixRange(logUidValue.withPrefix(logRangesRange.begin)));
															#line 29997 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 3002 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		Key latestVersionKey = logUidValue.withPrefix(destUidValue.withPrefix(backupLatestVersionsPrefix));
															#line 3004 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		bVersionF = srcTr->get(latestVersionKey);
															#line 3005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_9 = success(bVersionF) || partialTimeout;
															#line 3005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30008 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1cont2loopBody1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1cont2loopBody1cont2when1(__when_expr_9.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 10;
															#line 3005 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 9, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30013 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 8, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 8, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 8, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 8, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 8);

	}
	int a_body1cont2loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 3006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 30085 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3007 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30089 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (bVersionF.get().present())
															#line 30097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			beginVersion = BinaryReader::fromStringRef<Version>(bVersionF.get().get(), Unversioned());
															#line 30101 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 3016 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set(backupAgent->sourceStates.pack(DatabaseBackupAgent::keyStateStatus), StringRef(DatabaseBackupAgent::getStateText(EBackupState::STATE_PARTIALLY_ABORTED)));
															#line 3018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set(backupAgent->sourceStates.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId), backupUid);
															#line 3021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_10 = eraseLogData(srcTr, logUidValue, destUidValue) || partialTimeout;
															#line 3021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1cont2loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_10.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 11;
															#line 3021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 10, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 3006 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 30129 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3007 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30133 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3010 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (bVersionF.get().present())
															#line 30141 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			beginVersion = BinaryReader::fromStringRef<Version>(bVersionF.get().get(), Unversioned());
															#line 30145 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		else
		{
			return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break
		}
															#line 3016 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set(backupAgent->sourceStates.pack(DatabaseBackupAgent::keyStateStatus), StringRef(DatabaseBackupAgent::getStateText(EBackupState::STATE_PARTIALLY_ABORTED)));
															#line 3018 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcTr->set(backupAgent->sourceStates.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId), backupUid);
															#line 3021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_10 = eraseLogData(srcTr, logUidValue, destUidValue) || partialTimeout;
															#line 3021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30159 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1cont2loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1cont2loopBody1cont3when1(__when_expr_10.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 11;
															#line 3021 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 10, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30164 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose10() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 9, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 9, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 9, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 9, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 9);

	}
	int a_body1cont2loopBody1cont7(Void const& _,int loopDepth) 
	{
															#line 3022 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 30236 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_11 = srcTr->commit() || partialTimeout;
															#line 3026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1cont2loopBody1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1cont2loopBody1cont7when1(__when_expr_11.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 12;
															#line 3026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 11, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30255 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont7(Void && _,int loopDepth) 
	{
															#line 3022 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 30264 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3023 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30268 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_11 = srcTr->commit() || partialTimeout;
															#line 3026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont2loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30278 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1cont2loopBody1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1cont2loopBody1cont7when1(__when_expr_11.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 12;
															#line 3026 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 11, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30283 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont7(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont3when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont7(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose11() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 10, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 10, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont2loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 10, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont2loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 10, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 10);

	}
	int a_body1cont2loopBody1cont11(Void const& _,int loopDepth) 
	{
															#line 3027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 30355 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3028 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30359 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = srcTr->getCommittedVersion() + 1;
															#line 30367 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont2loopBody1cont11(Void && _,int loopDepth) 
	{
															#line 3027 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (partialTimeout.isReady())
															#line 30376 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3028 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30380 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3031 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		endVersion = srcTr->getCommittedVersion() + 1;
															#line 30388 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		return a_body1cont2break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1cont2loopBody1cont7when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont11(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1cont7when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont11(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose12() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 11, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 11, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont2loopBody1cont7when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 11, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont2loopBody1cont7when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 11, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1cont2loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont2loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont2loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 11);

	}
	int a_body1cont2loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont2loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont2loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose13() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 12, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 12, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1cont2loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 12, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1cont2loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 12, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 12);

	}
	int a_body1cont3loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1cont3loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1(int loopDepth) 
	{
		try {
															#line 3043 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 3044 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3046 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_13 = tr->get(StringRef(backupAgent->config.get(logUidValue).pack(DatabaseBackupAgent::keyFolderId)));
															#line 3046 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont3loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30549 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_13.isReady()) { if (__when_expr_13.isError()) return a_body1cont3loopBody1Catch1(__when_expr_13.getError(), loopDepth); else return a_body1cont3loopBody1when1(__when_expr_13.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 14;
															#line 3046 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_13.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 13, Optional<Value> >*>(static_cast<AbortBackupActor*>(this)));
															#line 30554 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1cont3loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1cont3loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1cont3loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1cont3loopHead1(0);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 3059 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_15 = tr->onError(e);
															#line 3059 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 30578 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_15.isReady()) { if (__when_expr_15.isError()) return a_body1Catch1(__when_expr_15.getError(), std::max(0, loopDepth - 1)); else return a_body1cont3loopBody1Catch1when1(__when_expr_15.get(), loopDepth); };
			static_cast<AbortBackupActor*>(this)->actor_wait_state = 16;
															#line 3059 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_15.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 15, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30583 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2(Optional<Value> const& v,int loopDepth) 
	{
															#line 3048 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present())
															#line 30598 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3049 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30602 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(StringRef(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyStateStatus)), StringRef(DatabaseBackupAgent::getStateText(EBackupState::STATE_ABORTED)));
															#line 3055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_14 = tr->commit();
															#line 3055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont3loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30614 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_14.isReady()) { if (__when_expr_14.isError()) return a_body1cont3loopBody1Catch1(__when_expr_14.getError(), loopDepth); else return a_body1cont3loopBody1cont2when1(__when_expr_14.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 15;
															#line 3055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_14.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 14, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30619 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2(Optional<Value> && v,int loopDepth) 
	{
															#line 3048 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present())
															#line 30628 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3049 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30632 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
			this->~AbortBackupActorState();
			static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
			return 0;
		}
															#line 3052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		tr->set(StringRef(backupAgent->states.get(logUidValue).pack(DatabaseBackupAgent::keyStateStatus)), StringRef(DatabaseBackupAgent::getStateText(EBackupState::STATE_ABORTED)));
															#line 3055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Void> __when_expr_14 = tr->commit();
															#line 3055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state < 0) return a_body1cont3loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 30644 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_14.isReady()) { if (__when_expr_14.isError()) return a_body1cont3loopBody1Catch1(__when_expr_14.getError(), loopDepth); else return a_body1cont3loopBody1cont2when1(__when_expr_14.get(), loopDepth); };
		static_cast<AbortBackupActor*>(this)->actor_wait_state = 15;
															#line 3055 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_14.addCallbackAndClear(static_cast<ActorCallback< AbortBackupActor, 14, Void >*>(static_cast<AbortBackupActor*>(this)));
															#line 30649 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont3loopBody1when1(Optional<Value> const& v,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont2(v, loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1when1(Optional<Value> && v,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont2(std::move(v), loopDepth);

		return loopDepth;
	}
	void a_exitChoose14() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 13, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 13, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont3loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 13);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 13, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont3loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 13);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 13, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 13);
		a_exitChoose14();
		try {
			a_body1cont3loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 13);

	}
	int a_body1cont3loopBody1cont3(Void const& _,int loopDepth) 
	{
															#line 3057 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30721 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~AbortBackupActorState();
		static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont3loopBody1cont3(Void && _,int loopDepth) 
	{
															#line 3057 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<AbortBackupActor*>(this)->SAV<Void>::futures) { (void)(Void()); this->~AbortBackupActorState(); static_cast<AbortBackupActor*>(this)->destroy(); return 0; }
															#line 30733 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<AbortBackupActor*>(this)->SAV< Void >::value()) Void(Void());
		this->~AbortBackupActorState();
		static_cast<AbortBackupActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont3(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1cont2when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont3(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose15() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 14, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 14, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont3loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 14);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 14, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont3loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 14);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 14, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 14);
		a_exitChoose15();
		try {
			a_body1cont3loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1cont3loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1cont3loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 14);

	}
	int a_body1cont3loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1cont3loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1cont3loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose16() 
	{
		if (static_cast<AbortBackupActor*>(this)->actor_wait_state > 0) static_cast<AbortBackupActor*>(this)->actor_wait_state = 0;
		static_cast<AbortBackupActor*>(this)->ActorCallback< AbortBackupActor, 15, Void >::remove();

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 15, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 15);
		a_exitChoose16();
		try {
			a_body1cont3loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 15);

	}
	void a_callback_fire(ActorCallback< AbortBackupActor, 15, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 15);
		a_exitChoose16();
		try {
			a_body1cont3loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 15);

	}
	void a_callback_error(ActorCallback< AbortBackupActor, 15, Void >*,Error err) 
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), 15);
		a_exitChoose16();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), 15);

	}
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	PartialBackup partial;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AbortOldBackup abortOldBackup;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DstOnly dstOnly;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	WaitForDestUID waitForDestUID;
															#line 2870 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 2871 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key logUidValue, destUidValue;
															#line 2872 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid, destUid;
															#line 2873 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Value backupUid;
															#line 2885 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<EBackupState> statusFuture;
															#line 2886 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<UID> destUidFuture;
															#line 2969 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Void> partialTimeout;
															#line 2970 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> srcTr;
															#line 2972 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version beginVersion;
															#line 2973 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version endVersion;
															#line 2979 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> backupVersionF;
															#line 3004 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Key>> bVersionF;
															#line 30917 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via abortBackup()
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class AbortBackupActor final : public Actor<Void>, public ActorCallback< AbortBackupActor, 0, UID >, public ActorCallback< AbortBackupActor, 1, Void >, public ActorCallback< AbortBackupActor, 2, Optional<Value> >, public ActorCallback< AbortBackupActor, 3, Void >, public ActorCallback< AbortBackupActor, 4, Void >, public ActorCallback< AbortBackupActor, 5, Optional<Value> >, public ActorCallback< AbortBackupActor, 6, Void >, public ActorCallback< AbortBackupActor, 7, Void >, public ActorCallback< AbortBackupActor, 8, Void >, public ActorCallback< AbortBackupActor, 9, Void >, public ActorCallback< AbortBackupActor, 10, Void >, public ActorCallback< AbortBackupActor, 11, Void >, public ActorCallback< AbortBackupActor, 12, Void >, public ActorCallback< AbortBackupActor, 13, Optional<Value> >, public ActorCallback< AbortBackupActor, 14, Void >, public ActorCallback< AbortBackupActor, 15, Void >, public FastAllocated<AbortBackupActor>, public AbortBackupActorState<AbortBackupActor> {
															#line 30922 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<AbortBackupActor>::operator new;
	using FastAllocated<AbortBackupActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<Void>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< AbortBackupActor, 0, UID >;
friend struct ActorCallback< AbortBackupActor, 1, Void >;
friend struct ActorCallback< AbortBackupActor, 2, Optional<Value> >;
friend struct ActorCallback< AbortBackupActor, 3, Void >;
friend struct ActorCallback< AbortBackupActor, 4, Void >;
friend struct ActorCallback< AbortBackupActor, 5, Optional<Value> >;
friend struct ActorCallback< AbortBackupActor, 6, Void >;
friend struct ActorCallback< AbortBackupActor, 7, Void >;
friend struct ActorCallback< AbortBackupActor, 8, Void >;
friend struct ActorCallback< AbortBackupActor, 9, Void >;
friend struct ActorCallback< AbortBackupActor, 10, Void >;
friend struct ActorCallback< AbortBackupActor, 11, Void >;
friend struct ActorCallback< AbortBackupActor, 12, Void >;
friend struct ActorCallback< AbortBackupActor, 13, Optional<Value> >;
friend struct ActorCallback< AbortBackupActor, 14, Void >;
friend struct ActorCallback< AbortBackupActor, 15, Void >;
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	AbortBackupActor(DatabaseBackupAgent* const& backupAgent,Database const& cx,Key const& tagName,PartialBackup const& partial,AbortOldBackup const& abortOldBackup,DstOnly const& dstOnly,WaitForDestUID const& waitForDestUID) 
															#line 30948 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<Void>(),
		   AbortBackupActorState<AbortBackupActor>(backupAgent, cx, tagName, partial, abortOldBackup, dstOnly, waitForDestUID)
	{
		fdb_probe_actor_enter("abortBackup", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("abortBackup");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("abortBackup", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< AbortBackupActor, 0, UID >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< AbortBackupActor, 1, Void >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< AbortBackupActor, 2, Optional<Value> >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< AbortBackupActor, 3, Void >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< AbortBackupActor, 4, Void >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< AbortBackupActor, 5, Optional<Value> >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< AbortBackupActor, 6, Void >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< AbortBackupActor, 7, Void >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< AbortBackupActor, 8, Void >*)0, actor_cancelled()); break;
		case 10: this->a_callback_error((ActorCallback< AbortBackupActor, 9, Void >*)0, actor_cancelled()); break;
		case 11: this->a_callback_error((ActorCallback< AbortBackupActor, 10, Void >*)0, actor_cancelled()); break;
		case 12: this->a_callback_error((ActorCallback< AbortBackupActor, 11, Void >*)0, actor_cancelled()); break;
		case 13: this->a_callback_error((ActorCallback< AbortBackupActor, 12, Void >*)0, actor_cancelled()); break;
		case 14: this->a_callback_error((ActorCallback< AbortBackupActor, 13, Optional<Value> >*)0, actor_cancelled()); break;
		case 15: this->a_callback_error((ActorCallback< AbortBackupActor, 14, Void >*)0, actor_cancelled()); break;
		case 16: this->a_callback_error((ActorCallback< AbortBackupActor, 15, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<Void> abortBackup( DatabaseBackupAgent* const& backupAgent, Database const& cx, Key const& tagName, PartialBackup const& partial, AbortOldBackup const& abortOldBackup, DstOnly const& dstOnly, WaitForDestUID const& waitForDestUID ) {
															#line 2863 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<Void>(new AbortBackupActor(backupAgent, cx, tagName, partial, abortOldBackup, dstOnly, waitForDestUID));
															#line 30990 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 3063 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 30995 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via getStatus()
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class GetStatusActor>
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetStatusActorState {
															#line 31001 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetStatusActorState(DatabaseBackupAgent* const& backupAgent,Database const& cx,int const& errorLimit,Key const& tagName) 
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   cx(cx),
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   errorLimit(errorLimit),
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 3068 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(new ReadYourWritesTransaction(cx))
															#line 31016 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("getStatus", reinterpret_cast<unsigned long>(this));

	}
	~GetStatusActorState() 
	{
		fdb_probe_actor_destroy("getStatus", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 3069 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3070 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusText = std::string();
															#line 3071 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			retries = 0;
															#line 3073 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			;
															#line 31037 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1loopHead1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~GetStatusActorState();
		static_cast<GetStatusActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 3224 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetStatusActor*>(this)->SAV<std::string>::futures) { (void)(statusText); this->~GetStatusActorState(); static_cast<GetStatusActor*>(this)->destroy(); return 0; }
															#line 31060 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetStatusActor*>(this)->SAV< std::string >::value()) std::string(std::move(statusText)); // state_var_RVO
		this->~GetStatusActorState();
		static_cast<GetStatusActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1loopHead1(int loopDepth) 
	{
		int oldLoopDepth = ++loopDepth;
		while (loopDepth == oldLoopDepth) loopDepth = a_body1loopBody1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1(int loopDepth) 
	{
		try {
															#line 3075 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 3076 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_0 = success(tr->getReadVersion());
															#line 3078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31086 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1loopBody1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1loopBody1when1(__when_expr_0.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 1;
															#line 3078 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 0, Void >*>(static_cast<GetStatusActor*>(this)));
															#line 31091 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1loopBody1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1loopBody1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1break1(int loopDepth) 
	{
		try {
			return a_body1cont1(loopDepth);
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont1(int loopDepth) 
	{
		if (loopDepth == 0) return a_body1loopHead1(0);

		return loopDepth;
	}
	int a_body1loopBody1Catch1(const Error& e,int loopDepth=0) 
	{
		try {
															#line 3215 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			retries++;
															#line 3216 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (retries > 5)
															#line 31128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			{
															#line 3217 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				statusText += format("\nWARNING: Could not fetch full DR status: %s\n", e.name());
															#line 3218 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				if (!static_cast<GetStatusActor*>(this)->SAV<std::string>::futures) { (void)(statusText); this->~GetStatusActorState(); static_cast<GetStatusActor*>(this)->destroy(); return 0; }
															#line 31134 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
				new (&static_cast<GetStatusActor*>(this)->SAV< std::string >::value()) std::string(std::move(statusText)); // state_var_RVO
				this->~GetStatusActorState();
				static_cast<GetStatusActor*>(this)->finishSendAndDelPromiseRef();
				return 0;
			}
															#line 3220 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Void> __when_expr_12 = tr->onError(e);
															#line 3220 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), std::max(0, loopDepth - 1));
															#line 31144 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_12.isReady()) { if (__when_expr_12.isError()) return a_body1Catch1(__when_expr_12.getError(), std::max(0, loopDepth - 1)); else return a_body1loopBody1Catch1when1(__when_expr_12.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 13;
															#line 3220 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_12.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 12, Void >*>(static_cast<GetStatusActor*>(this)));
															#line 31149 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, std::max(0, loopDepth - 1));
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), std::max(0, loopDepth - 1));
		}

		return loopDepth;
	}
	int a_body1loopBody1cont2(Void const& _,int loopDepth) 
	{
															#line 3081 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		scrTr = Transaction(backupAgent->taskBucket->src);
															#line 3082 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		scrTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcReadVersion = scrTr.getReadVersion();
															#line 3085 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusText = "";
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<UID> __when_expr_1 = backupAgent->getLogUid(tr, tagName);
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31174 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1loopBody1cont2when1(__when_expr_1.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 2;
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 1, UID >*>(static_cast<GetStatusActor*>(this)));
															#line 31179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2(Void && _,int loopDepth) 
	{
															#line 3081 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		scrTr = Transaction(backupAgent->taskBucket->src);
															#line 3082 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		scrTr.setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		srcReadVersion = scrTr.getReadVersion();
															#line 3085 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusText = "";
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<UID> __when_expr_1 = backupAgent->getLogUid(tr, tagName);
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_1.isReady()) { if (__when_expr_1.isError()) return a_body1loopBody1Catch1(__when_expr_1.getError(), loopDepth); else return a_body1loopBody1cont2when1(__when_expr_1.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 2;
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_1.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 1, UID >*>(static_cast<GetStatusActor*>(this)));
															#line 31203 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont2(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 0, Void >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 0, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 0, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 0, Void >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 0);

	}
	int a_body1loopBody1cont3(int loopDepth) 
	{
															#line 3089 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fPaused = tr->get(backupAgent->taskBucket->getPauseKey());
															#line 3090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fErrorValues = errorLimit > 0 ? tr->getRange(backupAgent->errors.get(BinaryWriter::toValue(logUid, Unversioned())).range(), errorLimit, Snapshot::False, Reverse::True) : Future<RangeResult>();
															#line 3097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fBackupUid = tr->get(backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(DatabaseBackupAgent::keyFolderId));
															#line 3100 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fBackupVerison = tr->get(BinaryWriter::toValue(logUid, Unversioned()).withPrefix(applyMutationsBeginRange.begin));
															#line 3102 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fTagName = tr->get(backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(BackupAgentBase::keyConfigBackupTag));
															#line 3105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fStopVersionKey = tr->get(backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(BackupAgentBase::keyStateStop));
															#line 3108 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		fBackupKeysPacked = tr->get(backupAgent->config.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(BackupAgentBase::keyConfigBackupRanges));
															#line 3111 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		flogVersionKey = tr->get(backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(BackupAgentBase::keyStateLogBeginVersion));
															#line 3115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<EBackupState> __when_expr_2 = backupAgent->getStateValue(tr, logUid);
															#line 3115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31293 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_2.isReady()) { if (__when_expr_2.isError()) return a_body1loopBody1Catch1(__when_expr_2.getError(), loopDepth); else return a_body1loopBody1cont3when1(__when_expr_2.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 3;
															#line 3115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_2.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 2, EBackupState >*>(static_cast<GetStatusActor*>(this)));
															#line 31298 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont2when1(UID const& __logUid,int loopDepth) 
	{
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = __logUid;
															#line 31307 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont3(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont2when1(UID && __logUid,int loopDepth) 
	{
		logUid = std::move(__logUid);
		loopDepth = a_body1loopBody1cont3(loopDepth);

		return loopDepth;
	}
	void a_exitChoose2() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 1, UID >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 1, UID >*,UID const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 1, UID >*,UID && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 1);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 1, UID >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 1);
		a_exitChoose2();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 1);

	}
	int a_body1loopBody1cont4(int loopDepth) 
	{
															#line 3117 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupState == EBackupState::STATE_NEVERRAN)
															#line 31374 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3118 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusText += "No previous backups found.\n";
															#line 31378 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = a_body1loopBody1cont5(loopDepth);
		}
		else
		{
															#line 3120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tagNameDisplay = std::string();
															#line 3121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Key>> __when_expr_3 = fTagName;
															#line 3121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31389 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_3.isReady()) { if (__when_expr_3.isError()) return a_body1loopBody1Catch1(__when_expr_3.getError(), loopDepth); else return a_body1loopBody1cont4when1(__when_expr_3.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 4;
															#line 3121 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_3.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 3, Optional<Key> >*>(static_cast<GetStatusActor*>(this)));
															#line 31394 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}

		return loopDepth;
	}
	int a_body1loopBody1cont3when1(EBackupState const& __backupState,int loopDepth) 
	{
															#line 3115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupState = __backupState;
															#line 31404 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont4(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont3when1(EBackupState && __backupState,int loopDepth) 
	{
		backupState = std::move(__backupState);
		loopDepth = a_body1loopBody1cont4(loopDepth);

		return loopDepth;
	}
	void a_exitChoose3() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 2, EBackupState >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 2, EBackupState >*,EBackupState const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 2, EBackupState >*,EBackupState && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 2);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 2, EBackupState >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 2);
		a_exitChoose3();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 2);

	}
	int a_body1loopBody1cont5(int loopDepth) 
	{
															#line 3178 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (errorLimit > 0)
															#line 31471 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<RangeResult> __when_expr_7 = fErrorValues;
															#line 3179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31477 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_7.isReady()) { if (__when_expr_7.isError()) return a_body1loopBody1Catch1(__when_expr_7.getError(), loopDepth); else return a_body1loopBody1cont5when1(__when_expr_7.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 8;
															#line 3179 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_7.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 7, RangeResult >*>(static_cast<GetStatusActor*>(this)));
															#line 31482 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1loopBody1cont11(loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont7(Optional<Key> const& tagName,int loopDepth) 
	{
															#line 3124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (tagName.present())
															#line 31496 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3125 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tagNameDisplay = tagName.get().toString();
															#line 31500 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_4 = fStopVersionKey;
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31506 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1loopBody1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1loopBody1cont7when1(__when_expr_4.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 5;
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 4, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 31511 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont7(Optional<Key> && tagName,int loopDepth) 
	{
															#line 3124 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (tagName.present())
															#line 31520 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3125 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tagNameDisplay = tagName.get().toString();
															#line 31524 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_4 = fStopVersionKey;
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31530 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_4.isReady()) { if (__when_expr_4.isError()) return a_body1loopBody1Catch1(__when_expr_4.getError(), loopDepth); else return a_body1loopBody1cont7when1(__when_expr_4.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 5;
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_4.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 4, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 31535 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont4when1(Optional<Key> const& tagName,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont7(tagName, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont4when1(Optional<Key> && tagName,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont7(std::move(tagName), loopDepth);

		return loopDepth;
	}
	void a_exitChoose4() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 3, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 3, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont4when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 3, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1cont4when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 3);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 3, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 3);
		a_exitChoose4();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 3);

	}
	int a_body1loopBody1cont8(int loopDepth) 
	{
															#line 3129 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_5 = flogVersionKey;
															#line 3129 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31609 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_5.isReady()) { if (__when_expr_5.isError()) return a_body1loopBody1Catch1(__when_expr_5.getError(), loopDepth); else return a_body1loopBody1cont8when1(__when_expr_5.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 6;
															#line 3129 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_5.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 5, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 31614 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont7when1(Optional<Value> const& __stopVersionKey,int loopDepth) 
	{
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		stopVersionKey = __stopVersionKey;
															#line 31623 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont8(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont7when1(Optional<Value> && __stopVersionKey,int loopDepth) 
	{
		stopVersionKey = std::move(__stopVersionKey);
		loopDepth = a_body1loopBody1cont8(loopDepth);

		return loopDepth;
	}
	void a_exitChoose5() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 4, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 4, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1cont7when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 4, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1cont7when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 4);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 4, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 4);
		a_exitChoose5();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 4);

	}
	int a_body1loopBody1cont10(Optional<Value> const& logVersionKey,int loopDepth) 
	{
															#line 3130 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logVersionText = ". Last log version is " + (logVersionKey.present() ? format("%lld", BinaryReader::fromStringRef<Version>(logVersionKey.get(), Unversioned())) : "unset");
															#line 3135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_6 = fBackupKeysPacked;
															#line 3135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31694 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1loopBody1cont10when1(__when_expr_6.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 7;
															#line 3135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 6, Optional<Key> >*>(static_cast<GetStatusActor*>(this)));
															#line 31699 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont10(Optional<Value> && logVersionKey,int loopDepth) 
	{
															#line 3130 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logVersionText = ". Last log version is " + (logVersionKey.present() ? format("%lld", BinaryReader::fromStringRef<Version>(logVersionKey.get(), Unversioned())) : "unset");
															#line 3135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Key>> __when_expr_6 = fBackupKeysPacked;
															#line 3135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31712 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_6.isReady()) { if (__when_expr_6.isError()) return a_body1loopBody1Catch1(__when_expr_6.getError(), loopDepth); else return a_body1loopBody1cont10when1(__when_expr_6.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 7;
															#line 3135 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_6.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 6, Optional<Key> >*>(static_cast<GetStatusActor*>(this)));
															#line 31717 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont8when1(Optional<Value> const& logVersionKey,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont10(logVersionKey, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont8when1(Optional<Value> && logVersionKey,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont10(std::move(logVersionKey), loopDepth);

		return loopDepth;
	}
	void a_exitChoose6() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 5, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 5, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1loopBody1cont8when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 5, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1loopBody1cont8when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 5);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 5, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 5);
		a_exitChoose6();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 5);

	}
	int a_body1loopBody1cont10cont1(Optional<Key> const& backupKeysPacked,int loopDepth) 
	{
															#line 3137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = Standalone<VectorRef<KeyRangeRef>>();
															#line 3138 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupKeysPacked.present())
															#line 31791 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3139 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			BinaryReader br(backupKeysPacked.get(), IncludeVersion());
															#line 3140 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			br >> backupRanges;
															#line 31797 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 3143 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		switch (backupState) { case EBackupState::STATE_SUBMITTED: statusText += "The DR on tag `" + tagNameDisplay + "' is NOT a complete copy of the primary database (just started).\n"; break; case EBackupState::STATE_RUNNING: statusText += "The DR on tag `" + tagNameDisplay + "' is NOT a complete copy of the primary database.\n"; break; case EBackupState::STATE_RUNNING_DIFFERENTIAL: statusText += "The DR on tag `" + tagNameDisplay + "' is a complete copy of the primary database" + logVersionText + ".\n"; break; case EBackupState::STATE_COMPLETED: { Version stopVersion = stopVersionKey.present() ? BinaryReader::fromStringRef<Version>(stopVersionKey.get(), Unversioned()) : -1; statusText += "The previous DR on tag `" + tagNameDisplay + "' completed at version " + format("%lld", stopVersion) + ".\n"; } break; case EBackupState::STATE_PARTIALLY_ABORTED: { statusText += "The previous DR on tag `" + tagNameDisplay + "' " + BackupAgentBase::getStateText(backupState) + logVersionText + ".\n"; statusText += "Abort the DR with --cleanup before starting a new DR.\n"; break; } default: statusText += "The previous DR on tag `" + tagNameDisplay + "' " + BackupAgentBase::getStateText(backupState) + logVersionText + ".\n"; break; };
															#line 31801 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont10cont1(Optional<Key> && backupKeysPacked,int loopDepth) 
	{
															#line 3137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		backupRanges = Standalone<VectorRef<KeyRangeRef>>();
															#line 3138 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupKeysPacked.present())
															#line 31812 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3139 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			BinaryReader br(backupKeysPacked.get(), IncludeVersion());
															#line 3140 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			br >> backupRanges;
															#line 31818 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
															#line 3143 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		switch (backupState) { case EBackupState::STATE_SUBMITTED: statusText += "The DR on tag `" + tagNameDisplay + "' is NOT a complete copy of the primary database (just started).\n"; break; case EBackupState::STATE_RUNNING: statusText += "The DR on tag `" + tagNameDisplay + "' is NOT a complete copy of the primary database.\n"; break; case EBackupState::STATE_RUNNING_DIFFERENTIAL: statusText += "The DR on tag `" + tagNameDisplay + "' is a complete copy of the primary database" + logVersionText + ".\n"; break; case EBackupState::STATE_COMPLETED: { Version stopVersion = stopVersionKey.present() ? BinaryReader::fromStringRef<Version>(stopVersionKey.get(), Unversioned()) : -1; statusText += "The previous DR on tag `" + tagNameDisplay + "' completed at version " + format("%lld", stopVersion) + ".\n"; } break; case EBackupState::STATE_PARTIALLY_ABORTED: { statusText += "The previous DR on tag `" + tagNameDisplay + "' " + BackupAgentBase::getStateText(backupState) + logVersionText + ".\n"; statusText += "Abort the DR with --cleanup before starting a new DR.\n"; break; } default: statusText += "The previous DR on tag `" + tagNameDisplay + "' " + BackupAgentBase::getStateText(backupState) + logVersionText + ".\n"; break; };
															#line 31822 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont5(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont10when1(Optional<Key> const& backupKeysPacked,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont10cont1(backupKeysPacked, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont10when1(Optional<Key> && backupKeysPacked,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont10cont1(std::move(backupKeysPacked), loopDepth);

		return loopDepth;
	}
	void a_exitChoose7() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 6, Optional<Key> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 6, Optional<Key> >*,Optional<Key> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1loopBody1cont10when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 6, Optional<Key> >*,Optional<Key> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1loopBody1cont10when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 6);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 6, Optional<Key> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 6);
		a_exitChoose7();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 6);

	}
	int a_body1loopBody1cont11(int loopDepth) 
	{
															#line 3196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_8 = fBackupUid;
															#line 3196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 31896 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_8.isReady()) { if (__when_expr_8.isError()) return a_body1loopBody1Catch1(__when_expr_8.getError(), loopDepth); else return a_body1loopBody1cont11when1(__when_expr_8.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 9;
															#line 3196 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_8.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 8, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 31901 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont12(RangeResult const& values,int loopDepth) 
	{
															#line 3182 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (values.size() > 0)
															#line 31910 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusText += (values.size() < errorLimit) ? "WARNING: Some DR agents have reported issues:\n" : "WARNING: Some DR agents have reported issues (printing " + std::to_string(errorLimit) + "):\n";
															#line 3189 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto& s : values ) {
															#line 3190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				statusText += "   " + printable(s.value) + "\n";
															#line 31918 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
		loopDepth = a_body1loopBody1cont11(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont12(RangeResult && values,int loopDepth) 
	{
															#line 3182 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (values.size() > 0)
															#line 31929 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3184 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusText += (values.size() < errorLimit) ? "WARNING: Some DR agents have reported issues:\n" : "WARNING: Some DR agents have reported issues (printing " + std::to_string(errorLimit) + "):\n";
															#line 3189 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			for( auto& s : values ) {
															#line 3190 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
				statusText += "   " + printable(s.value) + "\n";
															#line 31937 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			}
		}
		loopDepth = a_body1loopBody1cont11(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont5when1(RangeResult const& values,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont12(values, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont5when1(RangeResult && values,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont12(std::move(values), loopDepth);

		return loopDepth;
	}
	void a_exitChoose8() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 7, RangeResult >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 7, RangeResult >*,RangeResult const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1loopBody1cont5when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 7, RangeResult >*,RangeResult && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1loopBody1cont5when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 7);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 7, RangeResult >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 7);
		a_exitChoose8();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 7);

	}
	int a_body1loopBody1cont11cont1(Optional<Value> const& backupUid,int loopDepth) 
	{
															#line 3197 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupUid.present())
															#line 32011 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_9 = fBackupVerison;
															#line 3198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 32017 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1loopBody1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1loopBody1cont11cont1when1(__when_expr_9.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 10;
															#line 3198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 9, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 32022 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1loopBody1cont11cont2(loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont11cont1(Optional<Value> && backupUid,int loopDepth) 
	{
															#line 3197 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (backupUid.present())
															#line 32036 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_9 = fBackupVerison;
															#line 3198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 32042 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_9.isReady()) { if (__when_expr_9.isError()) return a_body1loopBody1Catch1(__when_expr_9.getError(), loopDepth); else return a_body1loopBody1cont11cont1when1(__when_expr_9.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 10;
															#line 3198 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_9.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 9, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 32047 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1loopBody1cont11cont2(loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont11when1(Optional<Value> const& backupUid,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont1(backupUid, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11when1(Optional<Value> && backupUid,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont1(std::move(backupUid), loopDepth);

		return loopDepth;
	}
	void a_exitChoose9() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 8, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 8, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1loopBody1cont11when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 8, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1loopBody1cont11when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 8);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 8, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 8);
		a_exitChoose9();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 8);

	}
	int a_body1loopBody1cont11cont2(int loopDepth) 
	{
															#line 3208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		StrictFuture<Optional<Value>> __when_expr_11 = fPaused;
															#line 3208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 32126 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		if (__when_expr_11.isReady()) { if (__when_expr_11.isError()) return a_body1loopBody1Catch1(__when_expr_11.getError(), loopDepth); else return a_body1loopBody1cont11cont2when1(__when_expr_11.get(), loopDepth); };
		static_cast<GetStatusActor*>(this)->actor_wait_state = 12;
															#line 3208 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		__when_expr_11.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 11, Optional<Value> >*>(static_cast<GetStatusActor*>(this)));
															#line 32131 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1loopBody1cont11cont3(Optional<Value> const& v,int loopDepth) 
	{
															#line 3199 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present())
															#line 32140 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3200 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destApplyBegin = BinaryReader::fromStringRef<Version>(v.get(), Unversioned());
															#line 3201 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Version> __when_expr_10 = srcReadVersion;
															#line 3201 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 32148 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1loopBody1cont11cont3when1(__when_expr_10.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 11;
															#line 3201 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 10, Version >*>(static_cast<GetStatusActor*>(this)));
															#line 32153 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1loopBody1cont11cont4(loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont11cont3(Optional<Value> && v,int loopDepth) 
	{
															#line 3199 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (v.present())
															#line 32167 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3200 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destApplyBegin = BinaryReader::fromStringRef<Version>(v.get(), Unversioned());
															#line 3201 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Version> __when_expr_10 = srcReadVersion;
															#line 3201 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStatusActor*>(this)->actor_wait_state < 0) return a_body1loopBody1Catch1(actor_cancelled(), loopDepth);
															#line 32175 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_10.isReady()) { if (__when_expr_10.isError()) return a_body1loopBody1Catch1(__when_expr_10.getError(), loopDepth); else return a_body1loopBody1cont11cont3when1(__when_expr_10.get(), loopDepth); };
			static_cast<GetStatusActor*>(this)->actor_wait_state = 11;
															#line 3201 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_10.addCallbackAndClear(static_cast<ActorCallback< GetStatusActor, 10, Version >*>(static_cast<GetStatusActor*>(this)));
															#line 32180 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		else
		{
			loopDepth = a_body1loopBody1cont11cont4(loopDepth);
		}

		return loopDepth;
	}
	int a_body1loopBody1cont11cont1when1(Optional<Value> const& v,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont3(v, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11cont1when1(Optional<Value> && v,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont3(std::move(v), loopDepth);

		return loopDepth;
	}
	void a_exitChoose10() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 9, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 9, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1loopBody1cont11cont1when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 9, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1loopBody1cont11cont1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 9);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 9, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 9);
		a_exitChoose10();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 9);

	}
	int a_body1loopBody1cont11cont4(int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont2(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11cont5(Version const& sourceVersion,int loopDepth) 
	{
															#line 3202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		double secondsBehind = ((double)(sourceVersion - destApplyBegin)) / CLIENT_KNOBS->CORE_VERSIONSPERSECOND;
															#line 3204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusText += format("\nThe DR is %.6f seconds behind.\n", secondsBehind);
															#line 32265 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont11cont4(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11cont5(Version && sourceVersion,int loopDepth) 
	{
															#line 3202 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		double secondsBehind = ((double)(sourceVersion - destApplyBegin)) / CLIENT_KNOBS->CORE_VERSIONSPERSECOND;
															#line 3204 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		statusText += format("\nThe DR is %.6f seconds behind.\n", secondsBehind);
															#line 32276 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1loopBody1cont11cont4(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11cont3when1(Version const& sourceVersion,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont5(sourceVersion, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11cont3when1(Version && sourceVersion,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont5(std::move(sourceVersion), loopDepth);

		return loopDepth;
	}
	void a_exitChoose11() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 10, Version >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 10, Version >*,Version const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1loopBody1cont11cont3when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 10, Version >*,Version && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1loopBody1cont11cont3when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 10);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 10, Version >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 10);
		a_exitChoose11();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 10);

	}
	int a_body1loopBody1cont11cont7(Optional<Value> const& paused,int loopDepth) 
	{
															#line 3209 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (paused.present())
															#line 32348 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusText += format("\nAll DR agents have been paused.\n");
															#line 32352 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		return a_body1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont11cont7(Optional<Value> && paused,int loopDepth) 
	{
															#line 3209 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (paused.present())
															#line 32362 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		{
															#line 3210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusText += format("\nAll DR agents have been paused.\n");
															#line 32366 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		}
		return a_body1break1(loopDepth==0?0:loopDepth-1); // break

		return loopDepth;
	}
	int a_body1loopBody1cont11cont2when1(Optional<Value> const& paused,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont7(paused, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1cont11cont2when1(Optional<Value> && paused,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont11cont7(std::move(paused), loopDepth);

		return loopDepth;
	}
	void a_exitChoose12() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 11, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 11, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1loopBody1cont11cont2when1(value, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 11, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1loopBody1cont11cont2when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 11);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 11, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 11);
		a_exitChoose12();
		try {
			a_body1loopBody1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1loopBody1Catch1(error, 0);
		} catch (...) {
			a_body1loopBody1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 11);

	}
	int a_body1loopBody1Catch1cont1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1cont1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void const& _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(_, loopDepth);

		return loopDepth;
	}
	int a_body1loopBody1Catch1when1(Void && _,int loopDepth) 
	{
		loopDepth = a_body1loopBody1Catch1cont1(std::move(_), loopDepth);

		return loopDepth;
	}
	void a_exitChoose13() 
	{
		if (static_cast<GetStatusActor*>(this)->actor_wait_state > 0) static_cast<GetStatusActor*>(this)->actor_wait_state = 0;
		static_cast<GetStatusActor*>(this)->ActorCallback< GetStatusActor, 12, Void >::remove();

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 12, Void >*,Void const& value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1loopBody1Catch1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_fire(ActorCallback< GetStatusActor, 12, Void >*,Void && value) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1loopBody1Catch1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 12);

	}
	void a_callback_error(ActorCallback< GetStatusActor, 12, Void >*,Error err) 
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), 12);
		a_exitChoose13();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), 12);

	}
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Database cx;
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int errorLimit;
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 3068 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 3070 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::string statusText;
															#line 3071 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	int retries;
															#line 3081 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Transaction scrTr;
															#line 3083 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Version> srcReadVersion;
															#line 3087 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 3089 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fPaused;
															#line 3090 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<RangeResult> fErrorValues;
															#line 3097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fBackupUid;
															#line 3100 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fBackupVerison;
															#line 3102 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Key>> fTagName;
															#line 3105 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> fStopVersionKey;
															#line 3108 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Key>> fBackupKeysPacked;
															#line 3111 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Future<Optional<Value>> flogVersionKey;
															#line 3115 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	EBackupState backupState;
															#line 3120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::string tagNameDisplay;
															#line 3128 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> stopVersionKey;
															#line 3130 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	std::string logVersionText;
															#line 3137 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Standalone<VectorRef<KeyRangeRef>> backupRanges;
															#line 3200 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Version destApplyBegin;
															#line 32558 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via getStatus()
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetStatusActor final : public Actor<std::string>, public ActorCallback< GetStatusActor, 0, Void >, public ActorCallback< GetStatusActor, 1, UID >, public ActorCallback< GetStatusActor, 2, EBackupState >, public ActorCallback< GetStatusActor, 3, Optional<Key> >, public ActorCallback< GetStatusActor, 4, Optional<Value> >, public ActorCallback< GetStatusActor, 5, Optional<Value> >, public ActorCallback< GetStatusActor, 6, Optional<Key> >, public ActorCallback< GetStatusActor, 7, RangeResult >, public ActorCallback< GetStatusActor, 8, Optional<Value> >, public ActorCallback< GetStatusActor, 9, Optional<Value> >, public ActorCallback< GetStatusActor, 10, Version >, public ActorCallback< GetStatusActor, 11, Optional<Value> >, public ActorCallback< GetStatusActor, 12, Void >, public FastAllocated<GetStatusActor>, public GetStatusActorState<GetStatusActor> {
															#line 32563 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<GetStatusActor>::operator new;
	using FastAllocated<GetStatusActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<std::string>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< GetStatusActor, 0, Void >;
friend struct ActorCallback< GetStatusActor, 1, UID >;
friend struct ActorCallback< GetStatusActor, 2, EBackupState >;
friend struct ActorCallback< GetStatusActor, 3, Optional<Key> >;
friend struct ActorCallback< GetStatusActor, 4, Optional<Value> >;
friend struct ActorCallback< GetStatusActor, 5, Optional<Value> >;
friend struct ActorCallback< GetStatusActor, 6, Optional<Key> >;
friend struct ActorCallback< GetStatusActor, 7, RangeResult >;
friend struct ActorCallback< GetStatusActor, 8, Optional<Value> >;
friend struct ActorCallback< GetStatusActor, 9, Optional<Value> >;
friend struct ActorCallback< GetStatusActor, 10, Version >;
friend struct ActorCallback< GetStatusActor, 11, Optional<Value> >;
friend struct ActorCallback< GetStatusActor, 12, Void >;
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetStatusActor(DatabaseBackupAgent* const& backupAgent,Database const& cx,int const& errorLimit,Key const& tagName) 
															#line 32586 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<std::string>(),
		   GetStatusActorState<GetStatusActor>(backupAgent, cx, errorLimit, tagName)
	{
		fdb_probe_actor_enter("getStatus", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("getStatus");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("getStatus", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< GetStatusActor, 0, Void >*)0, actor_cancelled()); break;
		case 2: this->a_callback_error((ActorCallback< GetStatusActor, 1, UID >*)0, actor_cancelled()); break;
		case 3: this->a_callback_error((ActorCallback< GetStatusActor, 2, EBackupState >*)0, actor_cancelled()); break;
		case 4: this->a_callback_error((ActorCallback< GetStatusActor, 3, Optional<Key> >*)0, actor_cancelled()); break;
		case 5: this->a_callback_error((ActorCallback< GetStatusActor, 4, Optional<Value> >*)0, actor_cancelled()); break;
		case 6: this->a_callback_error((ActorCallback< GetStatusActor, 5, Optional<Value> >*)0, actor_cancelled()); break;
		case 7: this->a_callback_error((ActorCallback< GetStatusActor, 6, Optional<Key> >*)0, actor_cancelled()); break;
		case 8: this->a_callback_error((ActorCallback< GetStatusActor, 7, RangeResult >*)0, actor_cancelled()); break;
		case 9: this->a_callback_error((ActorCallback< GetStatusActor, 8, Optional<Value> >*)0, actor_cancelled()); break;
		case 10: this->a_callback_error((ActorCallback< GetStatusActor, 9, Optional<Value> >*)0, actor_cancelled()); break;
		case 11: this->a_callback_error((ActorCallback< GetStatusActor, 10, Version >*)0, actor_cancelled()); break;
		case 12: this->a_callback_error((ActorCallback< GetStatusActor, 11, Optional<Value> >*)0, actor_cancelled()); break;
		case 13: this->a_callback_error((ActorCallback< GetStatusActor, 12, Void >*)0, actor_cancelled()); break;
		}

	}
};
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<std::string> getStatus( DatabaseBackupAgent* const& backupAgent, Database const& cx, int const& errorLimit, Key const& tagName ) {
															#line 3064 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<std::string>(new GetStatusActor(backupAgent, cx, errorLimit, tagName));
															#line 32625 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 3226 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 32630 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via getStateValue()
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class GetStateValueActor>
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetStateValueActorState {
															#line 32636 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetStateValueActorState(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,UID const& logUid,Snapshot const& snapshot) 
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(tr),
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUid(logUid),
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   snapshot(snapshot)
															#line 32649 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("getStateValue", reinterpret_cast<unsigned long>(this));

	}
	~GetStateValueActorState() 
	{
		fdb_probe_actor_destroy("getStateValue", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 3231 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 3232 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3233 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			statusKey = backupAgent->states.get(BinaryWriter::toValue(logUid, Unversioned())) .pack(DatabaseBackupAgent::keyStateStatus);
															#line 3235 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_0 = tr->get(statusKey, snapshot);
															#line 3235 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetStateValueActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 32672 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<GetStateValueActor*>(this)->actor_wait_state = 1;
															#line 3235 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< GetStateValueActor, 0, Optional<Value> >*>(static_cast<GetStateValueActor*>(this)));
															#line 32677 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~GetStateValueActorState();
		static_cast<GetStateValueActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Optional<Value> const& status,int loopDepth) 
	{
															#line 3237 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetStateValueActor*>(this)->SAV<EBackupState>::futures) { (void)((!status.present()) ? EBackupState::STATE_NEVERRAN : BackupAgentBase::getState(status.get().toString())); this->~GetStateValueActorState(); static_cast<GetStateValueActor*>(this)->destroy(); return 0; }
															#line 32700 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetStateValueActor*>(this)->SAV< EBackupState >::value()) EBackupState((!status.present()) ? EBackupState::STATE_NEVERRAN : BackupAgentBase::getState(status.get().toString()));
		this->~GetStateValueActorState();
		static_cast<GetStateValueActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(Optional<Value> && status,int loopDepth) 
	{
															#line 3237 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetStateValueActor*>(this)->SAV<EBackupState>::futures) { (void)((!status.present()) ? EBackupState::STATE_NEVERRAN : BackupAgentBase::getState(status.get().toString())); this->~GetStateValueActorState(); static_cast<GetStateValueActor*>(this)->destroy(); return 0; }
															#line 32712 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetStateValueActor*>(this)->SAV< EBackupState >::value()) EBackupState((!status.present()) ? EBackupState::STATE_NEVERRAN : BackupAgentBase::getState(status.get().toString()));
		this->~GetStateValueActorState();
		static_cast<GetStateValueActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Optional<Value> const& status,int loopDepth) 
	{
		loopDepth = a_body1cont1(status, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Optional<Value> && status,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(status), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<GetStateValueActor*>(this)->actor_wait_state > 0) static_cast<GetStateValueActor*>(this)->actor_wait_state = 0;
		static_cast<GetStateValueActor*>(this)->ActorCallback< GetStateValueActor, 0, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetStateValueActor, 0, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getStateValue", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStateValue", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< GetStateValueActor, 0, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getStateValue", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStateValue", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< GetStateValueActor, 0, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getStateValue", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getStateValue", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Snapshot snapshot;
															#line 3233 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key statusKey;
															#line 32793 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via getStateValue()
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetStateValueActor final : public Actor<EBackupState>, public ActorCallback< GetStateValueActor, 0, Optional<Value> >, public FastAllocated<GetStateValueActor>, public GetStateValueActorState<GetStateValueActor> {
															#line 32798 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<GetStateValueActor>::operator new;
	using FastAllocated<GetStateValueActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<EBackupState>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< GetStateValueActor, 0, Optional<Value> >;
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetStateValueActor(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,UID const& logUid,Snapshot const& snapshot) 
															#line 32809 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<EBackupState>(),
		   GetStateValueActorState<GetStateValueActor>(backupAgent, tr, logUid, snapshot)
	{
		fdb_probe_actor_enter("getStateValue", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("getStateValue");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("getStateValue", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< GetStateValueActor, 0, Optional<Value> >*)0, actor_cancelled()); break;
		}

	}
};
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<EBackupState> getStateValue( DatabaseBackupAgent* const& backupAgent, Reference<ReadYourWritesTransaction> const& tr, UID const& logUid, Snapshot const& snapshot ) {
															#line 3227 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<EBackupState>(new GetStateValueActor(backupAgent, tr, logUid, snapshot));
															#line 32836 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 3239 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 32841 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via getDestUid()
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class GetDestUidActor>
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetDestUidActorState {
															#line 32847 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetDestUidActorState(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,UID const& logUid,Snapshot const& snapshot) 
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(tr),
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   logUid(logUid),
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   snapshot(snapshot)
															#line 32860 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("getDestUid", reinterpret_cast<unsigned long>(this));

	}
	~GetDestUidActorState() 
	{
		fdb_probe_actor_destroy("getDestUid", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 3244 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 3245 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			destUidKey = backupAgent->config.get(BinaryWriter::toValue(logUid, Unversioned())).pack(BackupAgentBase::destUid);
															#line 3248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_0 = tr->get(destUidKey, snapshot);
															#line 3248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetDestUidActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 32883 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<GetDestUidActor*>(this)->actor_wait_state = 1;
															#line 3248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< GetDestUidActor, 0, Optional<Value> >*>(static_cast<GetDestUidActor*>(this)));
															#line 32888 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~GetDestUidActorState();
		static_cast<GetDestUidActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(Optional<Value> const& destUid,int loopDepth) 
	{
															#line 3250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetDestUidActor*>(this)->SAV<UID>::futures) { (void)((destUid.present()) ? BinaryReader::fromStringRef<UID>(destUid.get(), Unversioned()) : UID()); this->~GetDestUidActorState(); static_cast<GetDestUidActor*>(this)->destroy(); return 0; }
															#line 32911 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetDestUidActor*>(this)->SAV< UID >::value()) UID((destUid.present()) ? BinaryReader::fromStringRef<UID>(destUid.get(), Unversioned()) : UID());
		this->~GetDestUidActorState();
		static_cast<GetDestUidActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1cont1(Optional<Value> && destUid,int loopDepth) 
	{
															#line 3250 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetDestUidActor*>(this)->SAV<UID>::futures) { (void)((destUid.present()) ? BinaryReader::fromStringRef<UID>(destUid.get(), Unversioned()) : UID()); this->~GetDestUidActorState(); static_cast<GetDestUidActor*>(this)->destroy(); return 0; }
															#line 32923 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetDestUidActor*>(this)->SAV< UID >::value()) UID((destUid.present()) ? BinaryReader::fromStringRef<UID>(destUid.get(), Unversioned()) : UID());
		this->~GetDestUidActorState();
		static_cast<GetDestUidActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Optional<Value> const& destUid,int loopDepth) 
	{
		loopDepth = a_body1cont1(destUid, loopDepth);

		return loopDepth;
	}
	int a_body1when1(Optional<Value> && destUid,int loopDepth) 
	{
		loopDepth = a_body1cont1(std::move(destUid), loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<GetDestUidActor*>(this)->actor_wait_state > 0) static_cast<GetDestUidActor*>(this)->actor_wait_state = 0;
		static_cast<GetDestUidActor*>(this)->ActorCallback< GetDestUidActor, 0, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetDestUidActor, 0, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getDestUid", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getDestUid", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< GetDestUidActor, 0, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getDestUid", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getDestUid", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< GetDestUidActor, 0, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getDestUid", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getDestUid", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	UID logUid;
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Snapshot snapshot;
															#line 3246 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key destUidKey;
															#line 33004 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via getDestUid()
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetDestUidActor final : public Actor<UID>, public ActorCallback< GetDestUidActor, 0, Optional<Value> >, public FastAllocated<GetDestUidActor>, public GetDestUidActorState<GetDestUidActor> {
															#line 33009 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<GetDestUidActor>::operator new;
	using FastAllocated<GetDestUidActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<UID>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< GetDestUidActor, 0, Optional<Value> >;
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetDestUidActor(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,UID const& logUid,Snapshot const& snapshot) 
															#line 33020 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<UID>(),
		   GetDestUidActorState<GetDestUidActor>(backupAgent, tr, logUid, snapshot)
	{
		fdb_probe_actor_enter("getDestUid", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("getDestUid");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("getDestUid", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< GetDestUidActor, 0, Optional<Value> >*)0, actor_cancelled()); break;
		}

	}
};
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<UID> getDestUid( DatabaseBackupAgent* const& backupAgent, Reference<ReadYourWritesTransaction> const& tr, UID const& logUid, Snapshot const& snapshot ) {
															#line 3240 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<UID>(new GetDestUidActor(backupAgent, tr, logUid, snapshot));
															#line 33047 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 3252 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"

																#line 33052 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
// This generated class is to be used only via getLogUid()
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
template <class GetLogUidActor>
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetLogUidActorState {
															#line 33058 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetLogUidActorState(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName,Snapshot const& snapshot) 
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		 : backupAgent(backupAgent),
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tr(tr),
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   tagName(tagName),
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		   snapshot(snapshot)
															#line 33071 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
	{
		fdb_probe_actor_create("getLogUid", reinterpret_cast<unsigned long>(this));

	}
	~GetLogUidActorState() 
	{
		fdb_probe_actor_destroy("getLogUid", reinterpret_cast<unsigned long>(this));

	}
	int a_body1(int loopDepth=0) 
	{
		try {
															#line 3257 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::ACCESS_SYSTEM_KEYS);
															#line 3258 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			tr->setOption(FDBTransactionOptions::LOCK_AWARE);
															#line 3259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			StrictFuture<Optional<Value>> __when_expr_0 = tr->get(backupAgent->tagNames.pack(tagName), snapshot);
															#line 3259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			if (static_cast<GetLogUidActor*>(this)->actor_wait_state < 0) return a_body1Catch1(actor_cancelled(), loopDepth);
															#line 33092 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			if (__when_expr_0.isReady()) { if (__when_expr_0.isError()) return a_body1Catch1(__when_expr_0.getError(), loopDepth); else return a_body1when1(__when_expr_0.get(), loopDepth); };
			static_cast<GetLogUidActor*>(this)->actor_wait_state = 1;
															#line 3259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
			__when_expr_0.addCallbackAndClear(static_cast<ActorCallback< GetLogUidActor, 0, Optional<Value> >*>(static_cast<GetLogUidActor*>(this)));
															#line 33097 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
			loopDepth = 0;
		}
		catch (Error& error) {
			loopDepth = a_body1Catch1(error, loopDepth);
		} catch (...) {
			loopDepth = a_body1Catch1(unknown_error(), loopDepth);
		}

		return loopDepth;
	}
	int a_body1Catch1(Error error,int loopDepth=0) 
	{
		this->~GetLogUidActorState();
		static_cast<GetLogUidActor*>(this)->sendErrorAndDelPromiseRef(error);
		loopDepth = 0;

		return loopDepth;
	}
	int a_body1cont1(int loopDepth) 
	{
															#line 3261 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		if (!static_cast<GetLogUidActor*>(this)->SAV<UID>::futures) { (void)((logUid.present()) ? BinaryReader::fromStringRef<UID>(logUid.get(), Unversioned()) : UID()); this->~GetLogUidActorState(); static_cast<GetLogUidActor*>(this)->destroy(); return 0; }
															#line 33120 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		new (&static_cast<GetLogUidActor*>(this)->SAV< UID >::value()) UID((logUid.present()) ? BinaryReader::fromStringRef<UID>(logUid.get(), Unversioned()) : UID());
		this->~GetLogUidActorState();
		static_cast<GetLogUidActor*>(this)->finishSendAndDelPromiseRef();
		return 0;

		return loopDepth;
	}
	int a_body1when1(Optional<Value> const& __logUid,int loopDepth) 
	{
															#line 3259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
		logUid = __logUid;
															#line 33132 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	int a_body1when1(Optional<Value> && __logUid,int loopDepth) 
	{
		logUid = std::move(__logUid);
		loopDepth = a_body1cont1(loopDepth);

		return loopDepth;
	}
	void a_exitChoose1() 
	{
		if (static_cast<GetLogUidActor*>(this)->actor_wait_state > 0) static_cast<GetLogUidActor*>(this)->actor_wait_state = 0;
		static_cast<GetLogUidActor*>(this)->ActorCallback< GetLogUidActor, 0, Optional<Value> >::remove();

	}
	void a_callback_fire(ActorCallback< GetLogUidActor, 0, Optional<Value> >*,Optional<Value> const& value) 
	{
		fdb_probe_actor_enter("getLogUid", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(value, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getLogUid", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_fire(ActorCallback< GetLogUidActor, 0, Optional<Value> >*,Optional<Value> && value) 
	{
		fdb_probe_actor_enter("getLogUid", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1when1(std::move(value), 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getLogUid", reinterpret_cast<unsigned long>(this), 0);

	}
	void a_callback_error(ActorCallback< GetLogUidActor, 0, Optional<Value> >*,Error err) 
	{
		fdb_probe_actor_enter("getLogUid", reinterpret_cast<unsigned long>(this), 0);
		a_exitChoose1();
		try {
			a_body1Catch1(err, 0);
		}
		catch (Error& error) {
			a_body1Catch1(error, 0);
		} catch (...) {
			a_body1Catch1(unknown_error(), 0);
		}
		fdb_probe_actor_exit("getLogUid", reinterpret_cast<unsigned long>(this), 0);

	}
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	DatabaseBackupAgent* backupAgent;
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Reference<ReadYourWritesTransaction> tr;
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Key tagName;
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Snapshot snapshot;
															#line 3259 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	Optional<Value> logUid;
															#line 33205 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
};
// This generated class is to be used only via getLogUid()
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
class GetLogUidActor final : public Actor<UID>, public ActorCallback< GetLogUidActor, 0, Optional<Value> >, public FastAllocated<GetLogUidActor>, public GetLogUidActorState<GetLogUidActor> {
															#line 33210 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
public:
	using FastAllocated<GetLogUidActor>::operator new;
	using FastAllocated<GetLogUidActor>::operator delete;
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wdelete-non-virtual-dtor"
	void destroy() override { ((Actor<UID>*)this)->~Actor(); operator delete(this); }
#pragma clang diagnostic pop
friend struct ActorCallback< GetLogUidActor, 0, Optional<Value> >;
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	GetLogUidActor(DatabaseBackupAgent* const& backupAgent,Reference<ReadYourWritesTransaction> const& tr,Key const& tagName,Snapshot const& snapshot) 
															#line 33221 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
		 : Actor<UID>(),
		   GetLogUidActorState<GetLogUidActor>(backupAgent, tr, tagName, snapshot)
	{
		fdb_probe_actor_enter("getLogUid", reinterpret_cast<unsigned long>(this), -1);
		#ifdef ENABLE_SAMPLING
		this->lineage.setActorName("getLogUid");
		LineageScope _(&this->lineage);
		#endif
		this->a_body1();
		fdb_probe_actor_exit("getLogUid", reinterpret_cast<unsigned long>(this), -1);

	}
	void cancel() override
	{
		auto wait_state = this->actor_wait_state;
		this->actor_wait_state = -1;
		switch (wait_state) {
		case 1: this->a_callback_error((ActorCallback< GetLogUidActor, 0, Optional<Value> >*)0, actor_cancelled()); break;
		}

	}
};
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
[[nodiscard]] static Future<UID> getLogUid( DatabaseBackupAgent* const& backupAgent, Reference<ReadYourWritesTransaction> const& tr, Key const& tagName, Snapshot const& snapshot ) {
															#line 3253 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
	return Future<UID>(new GetLogUidActor(backupAgent, tr, tagName, snapshot));
															#line 33248 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.g.cpp"
}

#line 3263 "/home/ccat3z/Documents/moqi/foundationdb-client/src/fdbclient/DatabaseBackupAgent.actor.cpp"
};

Future<Void> DatabaseBackupAgent::unlockBackup(Reference<ReadYourWritesTransaction> tr, Key tagName) {
	return DatabaseBackupAgentImpl::unlockBackup(this, tr, tagName);
}

Future<Void> DatabaseBackupAgent::atomicSwitchover(Database dest,
                                                   Key tagName,
                                                   Standalone<VectorRef<KeyRangeRef>> backupRanges,
                                                   Key addPrefix,
                                                   Key removePrefix,
                                                   ForceAction forceAction) {
	return DatabaseBackupAgentImpl::atomicSwitchover(
	    this, dest, tagName, backupRanges, addPrefix, removePrefix, forceAction);
}

Future<Void> DatabaseBackupAgent::submitBackup(Reference<ReadYourWritesTransaction> tr,
                                               Key tagName,
                                               Standalone<VectorRef<KeyRangeRef>> backupRanges,
                                               StopWhenDone stopWhenDone,
                                               Key addPrefix,
                                               Key removePrefix,
                                               LockDB lockDatabase,
                                               PreBackupAction backupAction) {
	return DatabaseBackupAgentImpl::submitBackup(
	    this, tr, tagName, backupRanges, stopWhenDone, addPrefix, removePrefix, lockDatabase, backupAction);
}

Future<Void> DatabaseBackupAgent::discontinueBackup(Reference<ReadYourWritesTransaction> tr, Key tagName) {
	return DatabaseBackupAgentImpl::discontinueBackup(this, tr, tagName);
}

Future<Void> DatabaseBackupAgent::abortBackup(Database cx,
                                              Key tagName,
                                              PartialBackup partial,
                                              AbortOldBackup abortOldBackup,
                                              DstOnly dstOnly,
                                              WaitForDestUID waitForDestUID) {
	return DatabaseBackupAgentImpl::abortBackup(this, cx, tagName, partial, abortOldBackup, dstOnly, waitForDestUID);
}

Future<std::string> DatabaseBackupAgent::getStatus(Database cx, int errorLimit, Key tagName) {
	return DatabaseBackupAgentImpl::getStatus(this, cx, errorLimit, tagName);
}

Future<EBackupState> DatabaseBackupAgent::getStateValue(Reference<ReadYourWritesTransaction> tr,
                                                        UID logUid,
                                                        Snapshot snapshot) {
	return DatabaseBackupAgentImpl::getStateValue(this, tr, logUid, snapshot);
}

Future<UID> DatabaseBackupAgent::getDestUid(Reference<ReadYourWritesTransaction> tr, UID logUid, Snapshot snapshot) {
	return DatabaseBackupAgentImpl::getDestUid(this, tr, logUid, snapshot);
}

Future<UID> DatabaseBackupAgent::getLogUid(Reference<ReadYourWritesTransaction> tr, Key tagName, Snapshot snapshot) {
	return DatabaseBackupAgentImpl::getLogUid(this, tr, tagName, snapshot);
}

Future<Void> DatabaseBackupAgent::waitUpgradeToLatestDrVersion(Database cx, Key tagName) {
	return DatabaseBackupAgentImpl::waitUpgradeToLatestDrVersion(this, cx, tagName);
}

Future<EBackupState> DatabaseBackupAgent::waitBackup(Database cx, Key tagName, StopWhenDone stopWhenDone) {
	return DatabaseBackupAgentImpl::waitBackup(this, cx, tagName, stopWhenDone);
}

Future<EBackupState> DatabaseBackupAgent::waitSubmitted(Database cx, Key tagName) {
	return DatabaseBackupAgentImpl::waitSubmitted(this, cx, tagName);
}

Future<int64_t> DatabaseBackupAgent::getRangeBytesWritten(Reference<ReadYourWritesTransaction> tr,
                                                          UID logUid,
                                                          Snapshot snapshot) {
	return DRConfig(logUid).rangeBytesWritten().getD(tr, snapshot);
}

Future<int64_t> DatabaseBackupAgent::getLogBytesWritten(Reference<ReadYourWritesTransaction> tr,
                                                        UID logUid,
                                                        Snapshot snapshot) {
	return DRConfig(logUid).logBytesWritten().getD(tr, snapshot);
}
